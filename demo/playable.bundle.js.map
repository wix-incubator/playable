{"version":3,"file":"playable.bundle.js","sources":["../../node_modules/tslib/tslib.es6.js","../../src/core/dependency-container/errors/ExtendableError.ts","../../src/core/dependency-container/errors/NotAFunctionError.ts","../../src/core/dependency-container/constants/Lifetime.ts","../../src/core/dependency-container/registrations.ts","../../src/core/dependency-container/errors/ResolutionError.ts","../../src/core/dependency-container/utils/nameValueToObject.ts","../../src/core/dependency-container/createContainer.ts","../../src/core/dependency-container/index.ts","../../src/utils/device-detection.ts","../../src/core/config.ts","../../src/core/player-api-decorator.ts","../../src/core/player-facade.ts","../../node_modules/resize-observer-polyfill/dist/ResizeObserver.es.js","../../src/modules/root-container/utils/interaction-type.ts","../../src/modules/root-container/utils/focus-source.ts","../../src/modules/root-container/utils/focus-within.ts","../../src/constants/media-stream.ts","../../src/constants/events/ui.ts","../../src/constants/events/video.ts","../../src/constants/errors.ts","../../src/constants/text-labels.ts","../../src/constants/engine-state.ts","../../src/constants/live-state.ts","../../src/modules/ui/core/htmlToElement.ts","../../node_modules/classnames/index.js","../../src/modules/ui/core/extendStyles.ts","../../src/modules/ui/core/stylable.ts","../../src/modules/ui/core/view.ts","../../node_modules/style-inject/dist/style-inject.es.js","../../src/modules/root-container/root-container.view.ts","../../src/modules/ui/core/element-queries/utils.ts","../../src/modules/ui/core/isElementMatchesSelector.ts","../../src/modules/ui/core/element-queries/getQueriesForElement.ts","../../src/modules/ui/core/element-queries/element-queries.ts","../../src/modules/root-container/root-container.ts","../../node_modules/eventemitter3/index.js","../../src/modules/event-emitter/event-emitter.ts","../../src/modules/playback-engine/state-engine.ts","../../src/modules/playback-engine/native-events-broadcaster.ts","../../src/modules/playback-engine/utils/adapters-resolver.ts","../../src/modules/playback-engine/utils/detect-stream-type.ts","../../src/modules/playback-engine/adapters-strategy.ts","../../src/modules/playback-engine/playback-engine.ts","../../src/modules/ui/core/theme/utils/hexToRgb.ts","../../src/modules/ui/core/theme/utils/transperentizeColor.ts","../../src/modules/ui/core/theme/utils/camelToKebab.ts","../../src/modules/ui/core/theme/utils/getUniqueId.ts","../../src/modules/ui/core/theme/utils/generateClassNames.ts","../../src/modules/ui/core/theme/style-sheet.ts","../../src/modules/ui/core/theme/theme-service.ts","../../src/modules/text-map/default-texts.ts","../../src/modules/text-map/text-map.ts","../../src/modules/full-screen-manager/desktop.ts","../../src/modules/full-screen-manager/ios.ts","../../src/modules/full-screen-manager/full-screen-manager.ts","../../src/modules/playback-engine/live-state-engine.ts","../../src/utils/keyboard-interceptor.ts","../../src/modules/keyboard-control/keyboard-control.ts","../../src/modules/ui/debug-panel/syntaxHighlight.ts","../../src/modules/ui/core/getElementByHook.ts","../../src/modules/ui/core/toggleNodeClass.ts","../../src/modules/ui/debug-panel/debug-panel.view.ts","../../src/modules/ui/debug-panel/debug-panel.ts","../../src/modules/ui/screen/types.ts","../../src/modules/ui/screen/screen.view.ts","../../src/modules/ui/screen/screen.ts","../../src/modules/ui/interaction-indicator/interaction-indicator.view.ts","../../src/modules/ui/interaction-indicator/interaction-indicator.ts","../../src/modules/ui/overlay/overlay.theme.ts","../../src/modules/ui/overlay/overlay.view.ts","../../src/modules/ui/overlay/overlay.ts","../../src/modules/ui/loader/loader.view.ts","../../src/modules/ui/loader/loader.ts","../../src/modules/ui/main-ui-block/main-ui-block.view.ts","../../src/modules/ui/main-ui-block/main-ui-block.ts","../../src/modules/ui/top-block/top-block.view.ts","../../src/modules/ui/top-block/top-block.ts","../../src/modules/ui/title/title.theme.ts","../../src/modules/ui/title/title.view.ts","../../src/modules/ui/title/title.ts","../../src/modules/ui/live-indicator/live-indicator.view.ts","../../src/modules/ui/live-indicator/live-indicator.ts","../../src/modules/ui/bottom-block/bottom-block.view.ts","../../src/modules/ui/bottom-block/bottom-block.ts","../../src/modules/ui/core/utils/formatTime.ts","../../src/modules/ui/core/tooltip/tooltip.ts","../../src/modules/ui/core/tooltip/constants.ts","../../src/modules/ui/core/tooltip/utils/getTooltipPositionByReferenceNode.ts","../../src/modules/ui/core/tooltip/tooltip-reference.ts","../../src/modules/ui/core/tooltip/tooltip-container.ts","../../src/modules/ui/core/tooltip/tooltip-service.ts","../../src/modules/ui/controls/progress/utils/getProgressTimeTooltipPosition.ts","../../src/modules/ui/controls/progress/progress.theme.ts","../../src/modules/ui/controls/progress/progress.view.ts","../../src/utils/video-data.ts","../../src/modules/ui/controls/progress/progress.ts","../../src/modules/ui/controls/play/play.theme.ts","../../src/modules/ui/controls/play/play.view.ts","../../src/modules/ui/controls/play/play.ts","../../src/modules/ui/controls/time/time.theme.ts","../../src/modules/ui/controls/time/time.view.ts","../../src/modules/ui/controls/time/time.ts","../../src/modules/ui/controls/volume/volume.theme.ts","../../src/modules/ui/controls/volume/volume.view.ts","../../src/modules/ui/controls/volume/volume.ts","../../src/modules/ui/controls/full-screen/full-screen.theme.ts","../../src/modules/ui/controls/full-screen/full-screen.view.ts","../../src/modules/ui/controls/full-screen/full-screen.ts","../../src/modules/ui/controls/logo/logo.view.ts","../../src/modules/ui/controls/logo/logo.ts","../../src/core/default-modules.ts","../../src/utils/environment-detection.ts","../../src/modules/playback-engine/adapters/native.ts","../../src/modules/playback-engine/adapters/default-set.ts","../../src/core/player-factory.ts","../../src/index.ts"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = Object.setPrototypeOf ||\r\n    ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n    function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = Object.assign || function __assign(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n    }\r\n    return t;\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [0, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r);  }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { if (o[n]) i[n] = function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; }; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator];\r\n    return m ? m.call(o) : typeof __values === \"function\" ? __values(o) : o[Symbol.iterator]();\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","export default class ExtendableError extends Error {\r\n  constructor(message: string) {\r\n    super(message);\r\n\r\n    Object.defineProperty(this, 'message', {\r\n      enumerable: false,\r\n      value: message,\r\n    });\r\n\r\n    Object.defineProperty(this, 'name', {\r\n      enumerable: false,\r\n      value: this.constructor.name,\r\n    });\r\n\r\n    Error.captureStackTrace(this, this.constructor);\r\n  }\r\n}\r\n","import ExtendableError from './ExtendableError';\r\n\r\nexport default class NotAFunctionError extends ExtendableError {\r\n  constructor(functionName: string, expectedType: string, givenType: string) {\r\n    super(\r\n      `The function ${functionName} expected a ${expectedType}, ${givenType} given.`,\r\n    );\r\n  }\r\n}\r\n","enum Lifetime {\r\n  Singelton = 'Singelton',\r\n  Transient = 'Transient',\r\n  Scoped = 'Scoped',\r\n}\r\n\r\nexport default Lifetime;\r\n","import { __assign } from 'tslib';\r\n\r\nimport NotAFunctionError from './errors/NotAFunctionError';\r\n\r\nimport Lifetime from './constants/Lifetime';\r\nimport { IOptions } from './types';\r\n\r\nimport { Container } from './createContainer';\r\n\r\nexport const PROPERTY_FOR_DEPENDENCIES = 'dependencies';\r\n\r\nexport const makeFluidInterface = (obj: IOptions) => {\r\n  const setLifetime = (value: Lifetime) => {\r\n    obj.lifetime = value;\r\n    return obj;\r\n  };\r\n\r\n  return {\r\n    setLifetime,\r\n    transient: () => setLifetime(Lifetime.Transient),\r\n    scoped: () => setLifetime(Lifetime.Scoped),\r\n    singleton: () => setLifetime(Lifetime.Singelton),\r\n  };\r\n};\r\n\r\nexport const asValue = (value: any): any => {\r\n  const resolve = () => value;\r\n\r\n  return {\r\n    resolve,\r\n    lifetime: Lifetime.Transient,\r\n  };\r\n};\r\n\r\nexport const asFunction: any = (fn: Function, options?: IOptions): any => {\r\n  if (typeof fn !== 'function') {\r\n    throw new NotAFunctionError('asFunction', 'function', typeof fn);\r\n  }\r\n\r\n  const defaults = {\r\n    lifetime: Lifetime.Transient,\r\n  };\r\n\r\n  options = __assign({}, defaults, options);\r\n\r\n  const resolve = generateResolve(fn);\r\n  const result = {\r\n    resolve,\r\n    lifetime: options.lifetime,\r\n  };\r\n  result.resolve = resolve.bind(result);\r\n  __assign(result, makeFluidInterface(result));\r\n\r\n  return result;\r\n};\r\n\r\nexport const asClass: any = (\r\n  Type: FunctionConstructor,\r\n  options?: IOptions,\r\n): any => {\r\n  if (typeof Type !== 'function') {\r\n    throw new NotAFunctionError('asClass', 'class', typeof Type);\r\n  }\r\n\r\n  const defaults = {\r\n    lifetime: Lifetime.Transient,\r\n  };\r\n\r\n  options = __assign({}, defaults, options);\r\n\r\n  // A function to handle object construction for us, as to make the generateResolve more reusable\r\n  const newClass = (...args: any[]) => new Type(...args);\r\n\r\n  const resolve = generateResolve(newClass, Type);\r\n  const result = {\r\n    resolve,\r\n    lifetime: options.lifetime,\r\n  };\r\n  result.resolve = resolve.bind(result);\r\n  __assign(result, makeFluidInterface(result));\r\n\r\n  return result;\r\n};\r\n\r\nfunction generateResolve(fn: Function, dependencyParseTarget?: any): any {\r\n  // If the function used for dependency parsing is falsy, use the supplied function\r\n  if (!dependencyParseTarget) {\r\n    dependencyParseTarget = fn;\r\n  }\r\n  // Try to resolve the dependencies\r\n  const dependencies = dependencyParseTarget[PROPERTY_FOR_DEPENDENCIES] || [];\r\n\r\n  // Use a regular function instead of an arrow function to facilitate binding to the registration.\r\n  return function resolve(container: Container) {\r\n    if (dependencies.length > 0) {\r\n      const wrapper: {} = dependencies.reduce(\r\n        (wrapper: any, dependency: string) => {\r\n          wrapper[dependency] = container.resolve(dependency);\r\n          return wrapper;\r\n        },\r\n        {},\r\n      );\r\n\r\n      return fn(wrapper, container);\r\n    }\r\n    return fn(container);\r\n  };\r\n}\r\n\r\nexport default {\r\n  asValue,\r\n  asFunction,\r\n  asClass,\r\n};\r\n","import ExtendableError from './ExtendableError';\r\n\r\nconst createErrorMessage = (\r\n  name: string,\r\n  resolutionStack: string[],\r\n  message?: string,\r\n) => {\r\n  resolutionStack = resolutionStack.slice();\r\n  resolutionStack.push(name);\r\n  const resolutionPathString = resolutionStack.join(' -> ');\r\n  let msg = `Could not resolve '${name}'.`;\r\n  if (message) {\r\n    msg += ` ${message} \\n\\n Resolution path: ${resolutionPathString}`;\r\n  }\r\n\r\n  return msg;\r\n};\r\n\r\nexport default class ResolutionError extends ExtendableError {\r\n  constructor(name: string, resolutionStack: string[], message?: string) {\r\n    super(createErrorMessage(name, resolutionStack, message));\r\n  }\r\n}\r\n","import { __assign } from 'tslib';\r\n\r\nexport default function(name: Object | string, value: any): Object {\r\n  if (typeof name !== 'object') {\r\n    return __assign({ [name]: value });\r\n  }\r\n\r\n  return name;\r\n}\r\n","import { __assign } from 'tslib';\r\n\r\nimport { asClass, asFunction, asValue } from './registrations';\r\nimport ResolutionError from './errors/ResolutionError';\r\nimport nameValueToObject from './utils/nameValueToObject';\r\nimport Lifetime from './constants/Lifetime';\r\nimport { IOptions } from './types';\r\n\r\nconst FAMILY_TREE = '__familyTree__';\r\n\r\nexport class Container {\r\n  private _registrations: any = {};\r\n  private _resolutionStack: string[] = [];\r\n  private _parentContainer: Container;\r\n\r\n  options: IOptions;\r\n  cache: any;\r\n  [FAMILY_TREE]: Array<Container>;\r\n\r\n  constructor(options?: IOptions, _parentContainer?: Container) {\r\n    this.options = __assign({}, options);\r\n    this._parentContainer = _parentContainer || null;\r\n    this[FAMILY_TREE] = this._parentContainer\r\n      ? [this].concat(this._parentContainer[FAMILY_TREE] as any)\r\n      : [this];\r\n    this.cache = {};\r\n  }\r\n\r\n  get registrations(): any {\r\n    return __assign(\r\n      {},\r\n      this._parentContainer && this._parentContainer.registrations,\r\n      this._registrations,\r\n    );\r\n  }\r\n\r\n  private _registerAs(\r\n    fn: Function,\r\n    verbatimValue: boolean,\r\n    name: Object | string,\r\n    value?: any,\r\n    options?: IOptions,\r\n  ) {\r\n    const registrations: any = nameValueToObject(name, value);\r\n\r\n    Object.keys(registrations).forEach(key => {\r\n      let valueToRegister = registrations[key];\r\n\r\n      // If we have options, copy them over.\r\n      options = __assign({}, options);\r\n\r\n      /* ignore coverage */\r\n      if (!verbatimValue && Array.isArray(valueToRegister)) {\r\n        // The ('name', [value, options]) style\r\n        options = __assign({}, options, valueToRegister[1]);\r\n        valueToRegister = valueToRegister[0];\r\n      }\r\n\r\n      this.register(key, fn(valueToRegister, options));\r\n    });\r\n\r\n    // Chaining\r\n    return this;\r\n  }\r\n\r\n  createScope() {\r\n    return new Container(this.options, this);\r\n  }\r\n\r\n  register(name: Object | string, registration?: any): Container {\r\n    const obj: any = nameValueToObject(name, registration);\r\n    Object.keys(obj).forEach(key => {\r\n      this._registrations[key] = obj[key];\r\n    });\r\n\r\n    return this;\r\n  }\r\n\r\n  registerClass(\r\n    name: Object | string,\r\n    value?: any,\r\n    options?: IOptions,\r\n  ): Container {\r\n    return this._registerAs(asClass, false, name, value, options);\r\n  }\r\n\r\n  registerFunction(\r\n    name: Object | string,\r\n    value?: any,\r\n    options?: IOptions,\r\n  ): Container {\r\n    return this._registerAs(asFunction, false, name, value, options);\r\n  }\r\n\r\n  registerValue(\r\n    name: Object | string,\r\n    value?: any,\r\n    options?: IOptions,\r\n  ): Container {\r\n    return this._registerAs(asValue, true, name, value, options);\r\n  }\r\n\r\n  resolve(name: string) {\r\n    // We need a reference to the root container,\r\n    // so we can retrieve and store singletons.\r\n    const root: Container = this[FAMILY_TREE][this[FAMILY_TREE].length - 1];\r\n\r\n    try {\r\n      // Grab the registration by name.\r\n      const registration = this.registrations[name];\r\n\r\n      if (this._resolutionStack.indexOf(name) > -1) {\r\n        throw new ResolutionError(\r\n          name,\r\n          this._resolutionStack,\r\n          'Cyclic dependencies detected.',\r\n        );\r\n      }\r\n\r\n      if (!registration) {\r\n        throw new ResolutionError(name, this._resolutionStack);\r\n      }\r\n\r\n      // Pushes the currently-resolving module name onto the stack\r\n      this._resolutionStack.push(name);\r\n\r\n      // Do the thing\r\n      let cached;\r\n      let resolved;\r\n\r\n      switch (registration.lifetime) {\r\n        case Lifetime.Transient:\r\n          // Transient lifetime means resolve every time.\r\n          resolved = registration.resolve(this);\r\n          break;\r\n        case Lifetime.Singelton:\r\n          // Singleton lifetime means cache at all times, regardless of scope.\r\n          cached = root.cache[name];\r\n          if (cached === undefined) {\r\n            resolved = registration.resolve(this);\r\n            root.cache[name] = resolved;\r\n          } else {\r\n            resolved = cached;\r\n          }\r\n          break;\r\n        case Lifetime.Scoped:\r\n          // Scoped lifetime means that the container\r\n          // that resolves the registration also caches it.\r\n          // When a registration is not found, we travel up\r\n          // the family tree until we find one that is cached.\r\n\r\n          // Note: The first element in the family tree is this container.\r\n          for (const _containerFromFamiltyTree of this[FAMILY_TREE]) {\r\n            cached = _containerFromFamiltyTree.cache[name];\r\n            if (cached !== undefined) {\r\n              // We found one!\r\n              resolved = cached;\r\n              break;\r\n            }\r\n          }\r\n\r\n          // If we still have not found one, we need to resolve and cache it.\r\n          if (cached === undefined) {\r\n            resolved = registration.resolve(this);\r\n            this.cache[name] = resolved;\r\n          }\r\n          break;\r\n        default:\r\n          throw new ResolutionError(\r\n            name,\r\n            this._resolutionStack,\r\n            `Unknown lifetime \"${registration.lifetime}\"`,\r\n          );\r\n      }\r\n      // Pop it from the stack again, ready for the next resolution\r\n      this._resolutionStack.pop();\r\n      return resolved;\r\n    } catch (err) {\r\n      // When we get an error we need to reset the stack.\r\n      this._resolutionStack = [];\r\n      throw err;\r\n    }\r\n  }\r\n}\r\n\r\nexport default function createContainer(\r\n  options?: IOptions,\r\n  __parentContainer?: Container,\r\n): Container {\r\n  return new Container(options, __parentContainer);\r\n}\r\n","import createContainer from './createContainer';\r\nimport Lifetime from './constants/Lifetime';\r\nimport registrations from './registrations';\r\n\r\nexport default {\r\n  createContainer,\r\n  Lifetime,\r\n  ...registrations,\r\n};\r\n","declare const window: {\r\n  navigator: any;\r\n  MSStream: any;\r\n};\r\n\r\nconst IPHONE_PATTERN = /iphone/i;\r\nconst IPOD_PATTERN = /ipod/i;\r\nconst IPAD_PATTERN = /ipad/i;\r\nconst ANDROID_PATTERN = /(android)/i;\r\nconst SAFARI_PATTERN = /^((?!chrome|android).)*safari/i;\r\nconst DESKTOP_SAFARI_PATTERN = /^((?!chrome|android|iphone|ipod|ipad).)*safari/i;\r\n\r\n// There is some iPhone/iPad/iPod in Windows Phone...\r\n// https://msdn.microsoft.com/en-us/library/hh869301(v=vs.85).aspx\r\nconst isIE = () => !!window.MSStream;\r\n\r\nconst getUserAgent = () => window.navigator && window.navigator.userAgent;\r\n\r\nconst isIPhone = () => !isIE() && IPHONE_PATTERN.test(getUserAgent());\r\n\r\nconst isIPod = () => !isIE() && IPOD_PATTERN.test(getUserAgent());\r\n\r\nconst isIPad = () => !isIE() && IPAD_PATTERN.test(getUserAgent());\r\n\r\nconst isIOS = () => isIPhone() || isIPod() || isIPad();\r\n\r\nconst isAndroid = () => ANDROID_PATTERN.test(getUserAgent());\r\n\r\nconst isDesktopSafari = () => DESKTOP_SAFARI_PATTERN.test(getUserAgent());\r\n\r\nconst isSafari = () => SAFARI_PATTERN.test(getUserAgent());\r\n\r\nexport {\r\n  isIPhone,\r\n  isIPod,\r\n  isIPad,\r\n  isIOS,\r\n  isAndroid,\r\n  isDesktopSafari,\r\n  isSafari,\r\n};\r\n","import { isIOS, isAndroid } from '../utils/device-detection';\n\nimport { IFullScreenConfig } from '../modules/full-screen-manager/types';\nimport { ILogoConfig } from '../modules/ui/controls/logo/types';\nimport { IOverlayConfig } from '../modules/ui/overlay/types';\nimport { IScreenConfig } from '../modules/ui/screen/types';\nimport { IMainUIBlockConfig } from '../modules/ui/main-ui-block/types';\nimport {\n  PreloadTypes,\n  MediaSource,\n  CrossOriginValue,\n} from '../modules/playback-engine/types';\n\nexport interface IPlayerConfig {\n  src?: MediaSource;\n\n  size?: Playable.IPlayerSize;\n\n  videoElement?: HTMLVideoElement;\n\n  preload?: PreloadTypes;\n  autoPlay?: boolean;\n  loop?: boolean;\n  muted?: boolean;\n  volume?: number;\n  playInline?: boolean;\n  crossOrigin?: CrossOriginValue;\n\n  title?: boolean | Playable.ITitleConfig;\n  loader?: boolean;\n  screen?: IScreenConfig;\n  controls?: boolean | IMainUIBlockConfig;\n  overlay?: boolean | IOverlayConfig;\n  fullScreen?: boolean | IFullScreenConfig;\n  logo?: boolean | ILogoConfig;\n\n  texts?: Playable.ITextMapConfig;\n\n  showInteractionIndicator?: boolean;\n  fillAllSpace?: boolean;\n  disableControlWithKeyboard?: boolean;\n  [key: string]: any;\n}\n\nconst convertUIConfigForIOS = (params: IPlayerConfig): IPlayerConfig => ({\n  ...params,\n  showInteractionIndicator: false,\n  screen: {\n    ...params.screen,\n    disableClickProcessing: true,\n    nativeControls: true,\n  },\n  title: false,\n  loader: false,\n  controls: false,\n});\n\nconst convertUIConfigForAndroid = (params: IPlayerConfig): IPlayerConfig => ({\n  ...params,\n  screen: {\n    ...params.screen,\n    disableClickProcessing: true,\n  },\n});\n\nconst convertToDeviceRelatedConfig = (params: IPlayerConfig): IPlayerConfig => {\n  if (isIOS()) {\n    return convertUIConfigForIOS(params);\n  }\n\n  if (isAndroid()) {\n    return convertUIConfigForAndroid(params);\n  }\n\n  return params;\n};\n\nexport default convertToDeviceRelatedConfig;\n","export const PLAYER_API_PROPERTY = '___playerAPI';\r\n\r\nconst checkDescriptorsOnEquality = (\r\n  desc1: PropertyDescriptor,\r\n  desc2: PropertyDescriptor,\r\n) =>\r\n  desc1.value === desc2.value &&\r\n  desc1.get === desc2.get &&\r\n  desc1.set === desc2.set;\r\n\r\nconst playerAPI = (name?: string) => (\r\n  target: any,\r\n  property: string,\r\n  descriptor: PropertyDescriptor,\r\n) => {\r\n  const methodName = name || property;\r\n\r\n  if (!target[PLAYER_API_PROPERTY]) {\r\n    target[PLAYER_API_PROPERTY] = {};\r\n  }\r\n\r\n  if (target[PLAYER_API_PROPERTY][methodName]) {\r\n    if (\r\n      !checkDescriptorsOnEquality(\r\n        target[PLAYER_API_PROPERTY][methodName],\r\n        descriptor,\r\n      )\r\n    ) {\r\n      throw new Error(\r\n        `Method \"${methodName}\" for public API in ${\r\n          target.constructor.name\r\n        } is already defined`,\r\n      );\r\n    }\r\n  }\r\n\r\n  target[PLAYER_API_PROPERTY][methodName] = descriptor;\r\n};\r\n\r\nexport default playerAPI;\r\n","import { Container } from './dependency-container/createContainer';\nimport convertToDeviceRelatedConfig, { IPlayerConfig } from './config';\nimport { PLAYER_API_PROPERTY } from '../core/player-api-decorator';\n\nexport default class Player implements Playable.IPlayer {\n  //@ts-ignore\n  private _config: IPlayerConfig;\n  private _defaultModules: { [id: string]: any };\n  private _additionalModules: { [id: string]: any };\n  private _destroyed: boolean;\n\n  constructor(\n    params: IPlayerConfig,\n    scope: Container,\n    defaultModulesNames: string[] = [],\n    additionalModuleNames: string[] = [],\n    themeConfig?: Playable.IThemeConfig,\n  ) {\n    scope.registerValue({\n      config: convertToDeviceRelatedConfig(params),\n    });\n\n    scope.registerValue({\n      themeConfig,\n    });\n\n    this._config = scope.resolve('config');\n\n    this._resolveAdditionalModules(scope, additionalModuleNames);\n    this._resolveDefaultModules(scope, defaultModulesNames);\n  }\n\n  /*\n    Separation for default and additional modules is needed\n    for future implementation of public methods of resolved modules and\n    could be abolished in future\n  */\n\n  private _resolveDefaultModules(scope: Container, modulesNames: string[]) {\n    this._defaultModules = modulesNames.reduce(\n      (modules: { [id: string]: any }, moduleName: string) => {\n        if (this._additionalModules[moduleName]) {\n          return modules;\n        }\n\n        const resolvedModule = scope.resolve(moduleName);\n\n        this._addPlayerAPIFromModule(resolvedModule);\n\n        modules[moduleName] = resolvedModule;\n        return modules;\n      },\n      {},\n    );\n  }\n\n  private _resolveAdditionalModules(scope: Container, modulesNames: string[]) {\n    this._additionalModules = modulesNames.reduce(\n      (modules: { [id: string]: any }, moduleName: string) => {\n        const resolvedModule = scope.resolve(moduleName);\n\n        this._addPlayerAPIFromModule(resolvedModule);\n\n        modules[moduleName] = resolvedModule;\n        return modules;\n      },\n      {},\n    );\n  }\n\n  private _getWrappedCallToModuleFunction(module: any, fn: Function) {\n    return (...args: any[]) => {\n      if (this._destroyed) {\n        throw new Error('Player instance is destroyed');\n      }\n\n      return fn.apply(module, args);\n    };\n  }\n\n  private _getPlayerAPIMethodDescriptor(\n    module: any,\n    descriptor: PropertyDescriptor,\n  ) {\n    const playerMethodDescriptor: any = {\n      enumerable: true,\n      configurable: true,\n    };\n\n    const { get, set, value } = descriptor;\n\n    if (get) {\n      playerMethodDescriptor.get = this._getWrappedCallToModuleFunction(\n        module,\n        get,\n      );\n    }\n\n    if (set) {\n      playerMethodDescriptor.set = this._getWrappedCallToModuleFunction(\n        module,\n        set,\n      );\n    }\n\n    if (value) {\n      playerMethodDescriptor.value = this._getWrappedCallToModuleFunction(\n        module,\n        value,\n      );\n    }\n\n    return playerMethodDescriptor;\n  }\n\n  private _addPlayerAPIFromModule(module: any) {\n    if (module[PLAYER_API_PROPERTY]) {\n      Object.keys(module[PLAYER_API_PROPERTY]).forEach(apiKey => {\n        if ((this as any)[apiKey]) {\n          throw new Error(\n            `API method ${apiKey} is already defined in Player facade`,\n          );\n        }\n\n        Object.defineProperty(\n          this,\n          apiKey,\n          this._getPlayerAPIMethodDescriptor(\n            module,\n            module[PLAYER_API_PROPERTY][apiKey],\n          ),\n        );\n      });\n    }\n  }\n\n  private _clearPlayerAPIForModule(module: any) {\n    if (module[PLAYER_API_PROPERTY]) {\n      Object.keys(module[PLAYER_API_PROPERTY]).forEach(apiKey => {\n        delete (this as any)[apiKey];\n      });\n    }\n  }\n\n  destroy() {\n    Object.keys(this._defaultModules).forEach(moduleName => {\n      const module = this._defaultModules[moduleName];\n      this._clearPlayerAPIForModule(module);\n      module.destroy();\n    });\n\n    Object.keys(this._additionalModules).forEach(moduleName => {\n      const module = this._additionalModules[moduleName];\n      this._clearPlayerAPIForModule(module);\n      if (module.destroy) {\n        module.destroy();\n      }\n    });\n\n    this._defaultModules = null;\n    this._additionalModules = null;\n    this._config = null;\n\n    this._destroyed = true;\n  }\n}\n","/**\r\n * A collection of shims that provide minimal functionality of the ES6 collections.\r\n *\r\n * These implementations are not meant to be used outside of the ResizeObserver\r\n * modules as they cover only a limited range of use cases.\r\n */\n/* eslint-disable require-jsdoc, valid-jsdoc */\nvar MapShim = (function () {\n    if (typeof Map !== 'undefined') {\n        return Map;\n    }\n\n    /**\r\n     * Returns index in provided array that matches the specified key.\r\n     *\r\n     * @param {Array<Array>} arr\r\n     * @param {*} key\r\n     * @returns {number}\r\n     */\n    function getIndex(arr, key) {\n        var result = -1;\n\n        arr.some(function (entry, index) {\n            if (entry[0] === key) {\n                result = index;\n\n                return true;\n            }\n\n            return false;\n        });\n\n        return result;\n    }\n\n    return (function () {\n        function anonymous() {\n            this.__entries__ = [];\n        }\n\n        var prototypeAccessors = { size: { configurable: true } };\n\n        /**\r\n         * @returns {boolean}\r\n         */\n        prototypeAccessors.size.get = function () {\n            return this.__entries__.length;\n        };\n\n        /**\r\n         * @param {*} key\r\n         * @returns {*}\r\n         */\n        anonymous.prototype.get = function (key) {\n            var index = getIndex(this.__entries__, key);\n            var entry = this.__entries__[index];\n\n            return entry && entry[1];\n        };\n\n        /**\r\n         * @param {*} key\r\n         * @param {*} value\r\n         * @returns {void}\r\n         */\n        anonymous.prototype.set = function (key, value) {\n            var index = getIndex(this.__entries__, key);\n\n            if (~index) {\n                this.__entries__[index][1] = value;\n            } else {\n                this.__entries__.push([key, value]);\n            }\n        };\n\n        /**\r\n         * @param {*} key\r\n         * @returns {void}\r\n         */\n        anonymous.prototype.delete = function (key) {\n            var entries = this.__entries__;\n            var index = getIndex(entries, key);\n\n            if (~index) {\n                entries.splice(index, 1);\n            }\n        };\n\n        /**\r\n         * @param {*} key\r\n         * @returns {void}\r\n         */\n        anonymous.prototype.has = function (key) {\n            return !!~getIndex(this.__entries__, key);\n        };\n\n        /**\r\n         * @returns {void}\r\n         */\n        anonymous.prototype.clear = function () {\n            this.__entries__.splice(0);\n        };\n\n        /**\r\n         * @param {Function} callback\r\n         * @param {*} [ctx=null]\r\n         * @returns {void}\r\n         */\n        anonymous.prototype.forEach = function (callback, ctx) {\n            var this$1 = this;\n            if ( ctx === void 0 ) ctx = null;\n\n            for (var i = 0, list = this$1.__entries__; i < list.length; i += 1) {\n                var entry = list[i];\n\n                callback.call(ctx, entry[1], entry[0]);\n            }\n        };\n\n        Object.defineProperties( anonymous.prototype, prototypeAccessors );\n\n        return anonymous;\n    }());\n})();\n\n/**\r\n * Detects whether window and document objects are available in current environment.\r\n */\nvar isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined' && window.document === document;\n\n// Returns global object of a current environment.\nvar global$1 = (function () {\n    if (typeof global !== 'undefined' && global.Math === Math) {\n        return global;\n    }\n\n    if (typeof self !== 'undefined' && self.Math === Math) {\n        return self;\n    }\n\n    if (typeof window !== 'undefined' && window.Math === Math) {\n        return window;\n    }\n\n    // eslint-disable-next-line no-new-func\n    return Function('return this')();\n})();\n\n/**\r\n * A shim for the requestAnimationFrame which falls back to the setTimeout if\r\n * first one is not supported.\r\n *\r\n * @returns {number} Requests' identifier.\r\n */\nvar requestAnimationFrame$1 = (function () {\n    if (typeof requestAnimationFrame === 'function') {\n        // It's required to use a bounded function because IE sometimes throws\n        // an \"Invalid calling object\" error if rAF is invoked without the global\n        // object on the left hand side.\n        return requestAnimationFrame.bind(global$1);\n    }\n\n    return function (callback) { return setTimeout(function () { return callback(Date.now()); }, 1000 / 60); };\n})();\n\n// Defines minimum timeout before adding a trailing call.\nvar trailingTimeout = 2;\n\n/**\r\n * Creates a wrapper function which ensures that provided callback will be\r\n * invoked only once during the specified delay period.\r\n *\r\n * @param {Function} callback - Function to be invoked after the delay period.\r\n * @param {number} delay - Delay after which to invoke callback.\r\n * @returns {Function}\r\n */\nvar throttle = function (callback, delay) {\n    var leadingCall = false,\n        trailingCall = false,\n        lastCallTime = 0;\n\n    /**\r\n     * Invokes the original callback function and schedules new invocation if\r\n     * the \"proxy\" was called during current request.\r\n     *\r\n     * @returns {void}\r\n     */\n    function resolvePending() {\n        if (leadingCall) {\n            leadingCall = false;\n\n            callback();\n        }\n\n        if (trailingCall) {\n            proxy();\n        }\n    }\n\n    /**\r\n     * Callback invoked after the specified delay. It will further postpone\r\n     * invocation of the original function delegating it to the\r\n     * requestAnimationFrame.\r\n     *\r\n     * @returns {void}\r\n     */\n    function timeoutCallback() {\n        requestAnimationFrame$1(resolvePending);\n    }\n\n    /**\r\n     * Schedules invocation of the original function.\r\n     *\r\n     * @returns {void}\r\n     */\n    function proxy() {\n        var timeStamp = Date.now();\n\n        if (leadingCall) {\n            // Reject immediately following calls.\n            if (timeStamp - lastCallTime < trailingTimeout) {\n                return;\n            }\n\n            // Schedule new call to be in invoked when the pending one is resolved.\n            // This is important for \"transitions\" which never actually start\n            // immediately so there is a chance that we might miss one if change\n            // happens amids the pending invocation.\n            trailingCall = true;\n        } else {\n            leadingCall = true;\n            trailingCall = false;\n\n            setTimeout(timeoutCallback, delay);\n        }\n\n        lastCallTime = timeStamp;\n    }\n\n    return proxy;\n};\n\n// Minimum delay before invoking the update of observers.\nvar REFRESH_DELAY = 20;\n\n// A list of substrings of CSS properties used to find transition events that\n// might affect dimensions of observed elements.\nvar transitionKeys = ['top', 'right', 'bottom', 'left', 'width', 'height', 'size', 'weight'];\n\n// Check if MutationObserver is available.\nvar mutationObserverSupported = typeof MutationObserver !== 'undefined';\n\n/**\r\n * Singleton controller class which handles updates of ResizeObserver instances.\r\n */\nvar ResizeObserverController = function() {\n    this.connected_ = false;\n    this.mutationEventsAdded_ = false;\n    this.mutationsObserver_ = null;\n    this.observers_ = [];\n\n    this.onTransitionEnd_ = this.onTransitionEnd_.bind(this);\n    this.refresh = throttle(this.refresh.bind(this), REFRESH_DELAY);\n};\n\n/**\r\n * Adds observer to observers list.\r\n *\r\n * @param {ResizeObserverSPI} observer - Observer to be added.\r\n * @returns {void}\r\n */\n\n\n/**\r\n * Holds reference to the controller's instance.\r\n *\r\n * @private {ResizeObserverController}\r\n */\n\n\n/**\r\n * Keeps reference to the instance of MutationObserver.\r\n *\r\n * @private {MutationObserver}\r\n */\n\n/**\r\n * Indicates whether DOM listeners have been added.\r\n *\r\n * @private {boolean}\r\n */\nResizeObserverController.prototype.addObserver = function (observer) {\n    if (!~this.observers_.indexOf(observer)) {\n        this.observers_.push(observer);\n    }\n\n    // Add listeners if they haven't been added yet.\n    if (!this.connected_) {\n        this.connect_();\n    }\n};\n\n/**\r\n * Removes observer from observers list.\r\n *\r\n * @param {ResizeObserverSPI} observer - Observer to be removed.\r\n * @returns {void}\r\n */\nResizeObserverController.prototype.removeObserver = function (observer) {\n    var observers = this.observers_;\n    var index = observers.indexOf(observer);\n\n    // Remove observer if it's present in registry.\n    if (~index) {\n        observers.splice(index, 1);\n    }\n\n    // Remove listeners if controller has no connected observers.\n    if (!observers.length && this.connected_) {\n        this.disconnect_();\n    }\n};\n\n/**\r\n * Invokes the update of observers. It will continue running updates insofar\r\n * it detects changes.\r\n *\r\n * @returns {void}\r\n */\nResizeObserverController.prototype.refresh = function () {\n    var changesDetected = this.updateObservers_();\n\n    // Continue running updates if changes have been detected as there might\n    // be future ones caused by CSS transitions.\n    if (changesDetected) {\n        this.refresh();\n    }\n};\n\n/**\r\n * Updates every observer from observers list and notifies them of queued\r\n * entries.\r\n *\r\n * @private\r\n * @returns {boolean} Returns \"true\" if any observer has detected changes in\r\n *  dimensions of it's elements.\r\n */\nResizeObserverController.prototype.updateObservers_ = function () {\n    // Collect observers that have active observations.\n    var activeObservers = this.observers_.filter(function (observer) {\n        return observer.gatherActive(), observer.hasActive();\n    });\n\n    // Deliver notifications in a separate cycle in order to avoid any\n    // collisions between observers, e.g. when multiple instances of\n    // ResizeObserver are tracking the same element and the callback of one\n    // of them changes content dimensions of the observed target. Sometimes\n    // this may result in notifications being blocked for the rest of observers.\n    activeObservers.forEach(function (observer) { return observer.broadcastActive(); });\n\n    return activeObservers.length > 0;\n};\n\n/**\r\n * Initializes DOM listeners.\r\n *\r\n * @private\r\n * @returns {void}\r\n */\nResizeObserverController.prototype.connect_ = function () {\n    // Do nothing if running in a non-browser environment or if listeners\n    // have been already added.\n    if (!isBrowser || this.connected_) {\n        return;\n    }\n\n    // Subscription to the \"Transitionend\" event is used as a workaround for\n    // delayed transitions. This way it's possible to capture at least the\n    // final state of an element.\n    document.addEventListener('transitionend', this.onTransitionEnd_);\n\n    window.addEventListener('resize', this.refresh);\n\n    if (mutationObserverSupported) {\n        this.mutationsObserver_ = new MutationObserver(this.refresh);\n\n        this.mutationsObserver_.observe(document, {\n            attributes: true,\n            childList: true,\n            characterData: true,\n            subtree: true\n        });\n    } else {\n        document.addEventListener('DOMSubtreeModified', this.refresh);\n\n        this.mutationEventsAdded_ = true;\n    }\n\n    this.connected_ = true;\n};\n\n/**\r\n * Removes DOM listeners.\r\n *\r\n * @private\r\n * @returns {void}\r\n */\nResizeObserverController.prototype.disconnect_ = function () {\n    // Do nothing if running in a non-browser environment or if listeners\n    // have been already removed.\n    if (!isBrowser || !this.connected_) {\n        return;\n    }\n\n    document.removeEventListener('transitionend', this.onTransitionEnd_);\n    window.removeEventListener('resize', this.refresh);\n\n    if (this.mutationsObserver_) {\n        this.mutationsObserver_.disconnect();\n    }\n\n    if (this.mutationEventsAdded_) {\n        document.removeEventListener('DOMSubtreeModified', this.refresh);\n    }\n\n    this.mutationsObserver_ = null;\n    this.mutationEventsAdded_ = false;\n    this.connected_ = false;\n};\n\n/**\r\n * \"Transitionend\" event handler.\r\n *\r\n * @private\r\n * @param {TransitionEvent} event\r\n * @returns {void}\r\n */\nResizeObserverController.prototype.onTransitionEnd_ = function (ref) {\n        var propertyName = ref.propertyName; if ( propertyName === void 0 ) propertyName = '';\n\n    // Detect whether transition may affect dimensions of an element.\n    var isReflowProperty = transitionKeys.some(function (key) {\n        return !!~propertyName.indexOf(key);\n    });\n\n    if (isReflowProperty) {\n        this.refresh();\n    }\n};\n\n/**\r\n * Returns instance of the ResizeObserverController.\r\n *\r\n * @returns {ResizeObserverController}\r\n */\nResizeObserverController.getInstance = function () {\n    if (!this.instance_) {\n        this.instance_ = new ResizeObserverController();\n    }\n\n    return this.instance_;\n};\n\nResizeObserverController.instance_ = null;\n\n/**\r\n * Defines non-writable/enumerable properties of the provided target object.\r\n *\r\n * @param {Object} target - Object for which to define properties.\r\n * @param {Object} props - Properties to be defined.\r\n * @returns {Object} Target object.\r\n */\nvar defineConfigurable = (function (target, props) {\n    for (var i = 0, list = Object.keys(props); i < list.length; i += 1) {\n        var key = list[i];\n\n        Object.defineProperty(target, key, {\n            value: props[key],\n            enumerable: false,\n            writable: false,\n            configurable: true\n        });\n    }\n\n    return target;\n});\n\n/**\r\n * Returns the global object associated with provided element.\r\n *\r\n * @param {Object} target\r\n * @returns {Object}\r\n */\nvar getWindowOf = (function (target) {\n    // Assume that the element is an instance of Node, which means that it\n    // has the \"ownerDocument\" property from which we can retrieve a\n    // corresponding global object.\n    var ownerGlobal = target && target.ownerDocument && target.ownerDocument.defaultView;\n\n    // Return the local global object if it's not possible extract one from\n    // provided element.\n    return ownerGlobal || global$1;\n});\n\n// Placeholder of an empty content rectangle.\nvar emptyRect = createRectInit(0, 0, 0, 0);\n\n/**\r\n * Converts provided string to a number.\r\n *\r\n * @param {number|string} value\r\n * @returns {number}\r\n */\nfunction toFloat(value) {\n    return parseFloat(value) || 0;\n}\n\n/**\r\n * Extracts borders size from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @param {...string} positions - Borders positions (top, right, ...)\r\n * @returns {number}\r\n */\nfunction getBordersSize(styles) {\n    var positions = [], len = arguments.length - 1;\n    while ( len-- > 0 ) positions[ len ] = arguments[ len + 1 ];\n\n    return positions.reduce(function (size, position) {\n        var value = styles['border-' + position + '-width'];\n\n        return size + toFloat(value);\n    }, 0);\n}\n\n/**\r\n * Extracts paddings sizes from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @returns {Object} Paddings box.\r\n */\nfunction getPaddings(styles) {\n    var positions = ['top', 'right', 'bottom', 'left'];\n    var paddings = {};\n\n    for (var i = 0, list = positions; i < list.length; i += 1) {\n        var position = list[i];\n\n        var value = styles['padding-' + position];\n\n        paddings[position] = toFloat(value);\n    }\n\n    return paddings;\n}\n\n/**\r\n * Calculates content rectangle of provided SVG element.\r\n *\r\n * @param {SVGGraphicsElement} target - Element content rectangle of which needs\r\n *      to be calculated.\r\n * @returns {DOMRectInit}\r\n */\nfunction getSVGContentRect(target) {\n    var bbox = target.getBBox();\n\n    return createRectInit(0, 0, bbox.width, bbox.height);\n}\n\n/**\r\n * Calculates content rectangle of provided HTMLElement.\r\n *\r\n * @param {HTMLElement} target - Element for which to calculate the content rectangle.\r\n * @returns {DOMRectInit}\r\n */\nfunction getHTMLElementContentRect(target) {\n    // Client width & height properties can't be\n    // used exclusively as they provide rounded values.\n    var clientWidth = target.clientWidth;\n    var clientHeight = target.clientHeight;\n\n    // By this condition we can catch all non-replaced inline, hidden and\n    // detached elements. Though elements with width & height properties less\n    // than 0.5 will be discarded as well.\n    //\n    // Without it we would need to implement separate methods for each of\n    // those cases and it's not possible to perform a precise and performance\n    // effective test for hidden elements. E.g. even jQuery's ':visible' filter\n    // gives wrong results for elements with width & height less than 0.5.\n    if (!clientWidth && !clientHeight) {\n        return emptyRect;\n    }\n\n    var styles = getWindowOf(target).getComputedStyle(target);\n    var paddings = getPaddings(styles);\n    var horizPad = paddings.left + paddings.right;\n    var vertPad = paddings.top + paddings.bottom;\n\n    // Computed styles of width & height are being used because they are the\n    // only dimensions available to JS that contain non-rounded values. It could\n    // be possible to utilize the getBoundingClientRect if only it's data wasn't\n    // affected by CSS transformations let alone paddings, borders and scroll bars.\n    var width = toFloat(styles.width),\n        height = toFloat(styles.height);\n\n    // Width & height include paddings and borders when the 'border-box' box\n    // model is applied (except for IE).\n    if (styles.boxSizing === 'border-box') {\n        // Following conditions are required to handle Internet Explorer which\n        // doesn't include paddings and borders to computed CSS dimensions.\n        //\n        // We can say that if CSS dimensions + paddings are equal to the \"client\"\n        // properties then it's either IE, and thus we don't need to subtract\n        // anything, or an element merely doesn't have paddings/borders styles.\n        if (Math.round(width + horizPad) !== clientWidth) {\n            width -= getBordersSize(styles, 'left', 'right') + horizPad;\n        }\n\n        if (Math.round(height + vertPad) !== clientHeight) {\n            height -= getBordersSize(styles, 'top', 'bottom') + vertPad;\n        }\n    }\n\n    // Following steps can't be applied to the document's root element as its\n    // client[Width/Height] properties represent viewport area of the window.\n    // Besides, it's as well not necessary as the <html> itself neither has\n    // rendered scroll bars nor it can be clipped.\n    if (!isDocumentElement(target)) {\n        // In some browsers (only in Firefox, actually) CSS width & height\n        // include scroll bars size which can be removed at this step as scroll\n        // bars are the only difference between rounded dimensions + paddings\n        // and \"client\" properties, though that is not always true in Chrome.\n        var vertScrollbar = Math.round(width + horizPad) - clientWidth;\n        var horizScrollbar = Math.round(height + vertPad) - clientHeight;\n\n        // Chrome has a rather weird rounding of \"client\" properties.\n        // E.g. for an element with content width of 314.2px it sometimes gives\n        // the client width of 315px and for the width of 314.7px it may give\n        // 314px. And it doesn't happen all the time. So just ignore this delta\n        // as a non-relevant.\n        if (Math.abs(vertScrollbar) !== 1) {\n            width -= vertScrollbar;\n        }\n\n        if (Math.abs(horizScrollbar) !== 1) {\n            height -= horizScrollbar;\n        }\n    }\n\n    return createRectInit(paddings.left, paddings.top, width, height);\n}\n\n/**\r\n * Checks whether provided element is an instance of the SVGGraphicsElement.\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\nvar isSVGGraphicsElement = (function () {\n    // Some browsers, namely IE and Edge, don't have the SVGGraphicsElement\n    // interface.\n    if (typeof SVGGraphicsElement !== 'undefined') {\n        return function (target) { return target instanceof getWindowOf(target).SVGGraphicsElement; };\n    }\n\n    // If it's so, then check that element is at least an instance of the\n    // SVGElement and that it has the \"getBBox\" method.\n    // eslint-disable-next-line no-extra-parens\n    return function (target) { return target instanceof getWindowOf(target).SVGElement && typeof target.getBBox === 'function'; };\n})();\n\n/**\r\n * Checks whether provided element is a document element (<html>).\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\nfunction isDocumentElement(target) {\n    return target === getWindowOf(target).document.documentElement;\n}\n\n/**\r\n * Calculates an appropriate content rectangle for provided html or svg element.\r\n *\r\n * @param {Element} target - Element content rectangle of which needs to be calculated.\r\n * @returns {DOMRectInit}\r\n */\nfunction getContentRect(target) {\n    if (!isBrowser) {\n        return emptyRect;\n    }\n\n    if (isSVGGraphicsElement(target)) {\n        return getSVGContentRect(target);\n    }\n\n    return getHTMLElementContentRect(target);\n}\n\n/**\r\n * Creates rectangle with an interface of the DOMRectReadOnly.\r\n * Spec: https://drafts.fxtf.org/geometry/#domrectreadonly\r\n *\r\n * @param {DOMRectInit} rectInit - Object with rectangle's x/y coordinates and dimensions.\r\n * @returns {DOMRectReadOnly}\r\n */\nfunction createReadOnlyRect(ref) {\n    var x = ref.x;\n    var y = ref.y;\n    var width = ref.width;\n    var height = ref.height;\n\n    // If DOMRectReadOnly is available use it as a prototype for the rectangle.\n    var Constr = typeof DOMRectReadOnly !== 'undefined' ? DOMRectReadOnly : Object;\n    var rect = Object.create(Constr.prototype);\n\n    // Rectangle's properties are not writable and non-enumerable.\n    defineConfigurable(rect, {\n        x: x, y: y, width: width, height: height,\n        top: y,\n        right: x + width,\n        bottom: height + y,\n        left: x\n    });\n\n    return rect;\n}\n\n/**\r\n * Creates DOMRectInit object based on the provided dimensions and the x/y coordinates.\r\n * Spec: https://drafts.fxtf.org/geometry/#dictdef-domrectinit\r\n *\r\n * @param {number} x - X coordinate.\r\n * @param {number} y - Y coordinate.\r\n * @param {number} width - Rectangle's width.\r\n * @param {number} height - Rectangle's height.\r\n * @returns {DOMRectInit}\r\n */\nfunction createRectInit(x, y, width, height) {\n    return { x: x, y: y, width: width, height: height };\n}\n\n/**\r\n * Class that is responsible for computations of the content rectangle of\r\n * provided DOM element and for keeping track of it's changes.\r\n */\nvar ResizeObservation = function(target) {\n    this.broadcastWidth = 0;\n    this.broadcastHeight = 0;\n    this.contentRect_ = createRectInit(0, 0, 0, 0);\n\n    this.target = target;\n};\n\n/**\r\n * Updates content rectangle and tells whether it's width or height properties\r\n * have changed since the last broadcast.\r\n *\r\n * @returns {boolean}\r\n */\n\n\n/**\r\n * Reference to the last observed content rectangle.\r\n *\r\n * @private {DOMRectInit}\r\n */\n\n\n/**\r\n * Broadcasted width of content rectangle.\r\n *\r\n * @type {number}\r\n */\nResizeObservation.prototype.isActive = function () {\n    var rect = getContentRect(this.target);\n\n    this.contentRect_ = rect;\n\n    return rect.width !== this.broadcastWidth || rect.height !== this.broadcastHeight;\n};\n\n/**\r\n * Updates 'broadcastWidth' and 'broadcastHeight' properties with a data\r\n * from the corresponding properties of the last observed content rectangle.\r\n *\r\n * @returns {DOMRectInit} Last observed content rectangle.\r\n */\nResizeObservation.prototype.broadcastRect = function () {\n    var rect = this.contentRect_;\n\n    this.broadcastWidth = rect.width;\n    this.broadcastHeight = rect.height;\n\n    return rect;\n};\n\nvar ResizeObserverEntry = function(target, rectInit) {\n    var contentRect = createReadOnlyRect(rectInit);\n\n    // According to the specification following properties are not writable\n    // and are also not enumerable in the native implementation.\n    //\n    // Property accessors are not being used as they'd require to define a\n    // private WeakMap storage which may cause memory leaks in browsers that\n    // don't support this type of collections.\n    defineConfigurable(this, { target: target, contentRect: contentRect });\n};\n\nvar ResizeObserverSPI = function(callback, controller, callbackCtx) {\n    this.activeObservations_ = [];\n    this.observations_ = new MapShim();\n\n    if (typeof callback !== 'function') {\n        throw new TypeError('The callback provided as parameter 1 is not a function.');\n    }\n\n    this.callback_ = callback;\n    this.controller_ = controller;\n    this.callbackCtx_ = callbackCtx;\n};\n\n/**\r\n * Starts observing provided element.\r\n *\r\n * @param {Element} target - Element to be observed.\r\n * @returns {void}\r\n */\n\n\n/**\r\n * Registry of the ResizeObservation instances.\r\n *\r\n * @private {Map<Element, ResizeObservation>}\r\n */\n\n\n/**\r\n * Public ResizeObserver instance which will be passed to the callback\r\n * function and used as a value of it's \"this\" binding.\r\n *\r\n * @private {ResizeObserver}\r\n */\n\n/**\r\n * Collection of resize observations that have detected changes in dimensions\r\n * of elements.\r\n *\r\n * @private {Array<ResizeObservation>}\r\n */\nResizeObserverSPI.prototype.observe = function (target) {\n    if (!arguments.length) {\n        throw new TypeError('1 argument required, but only 0 present.');\n    }\n\n    // Do nothing if current environment doesn't have the Element interface.\n    if (typeof Element === 'undefined' || !(Element instanceof Object)) {\n        return;\n    }\n\n    if (!(target instanceof getWindowOf(target).Element)) {\n        throw new TypeError('parameter 1 is not of type \"Element\".');\n    }\n\n    var observations = this.observations_;\n\n    // Do nothing if element is already being observed.\n    if (observations.has(target)) {\n        return;\n    }\n\n    observations.set(target, new ResizeObservation(target));\n\n    this.controller_.addObserver(this);\n\n    // Force the update of observations.\n    this.controller_.refresh();\n};\n\n/**\r\n * Stops observing provided element.\r\n *\r\n * @param {Element} target - Element to stop observing.\r\n * @returns {void}\r\n */\nResizeObserverSPI.prototype.unobserve = function (target) {\n    if (!arguments.length) {\n        throw new TypeError('1 argument required, but only 0 present.');\n    }\n\n    // Do nothing if current environment doesn't have the Element interface.\n    if (typeof Element === 'undefined' || !(Element instanceof Object)) {\n        return;\n    }\n\n    if (!(target instanceof getWindowOf(target).Element)) {\n        throw new TypeError('parameter 1 is not of type \"Element\".');\n    }\n\n    var observations = this.observations_;\n\n    // Do nothing if element is not being observed.\n    if (!observations.has(target)) {\n        return;\n    }\n\n    observations.delete(target);\n\n    if (!observations.size) {\n        this.controller_.removeObserver(this);\n    }\n};\n\n/**\r\n * Stops observing all elements.\r\n *\r\n * @returns {void}\r\n */\nResizeObserverSPI.prototype.disconnect = function () {\n    this.clearActive();\n    this.observations_.clear();\n    this.controller_.removeObserver(this);\n};\n\n/**\r\n * Collects observation instances the associated element of which has changed\r\n * it's content rectangle.\r\n *\r\n * @returns {void}\r\n */\nResizeObserverSPI.prototype.gatherActive = function () {\n        var this$1 = this;\n\n    this.clearActive();\n\n    this.observations_.forEach(function (observation) {\n        if (observation.isActive()) {\n            this$1.activeObservations_.push(observation);\n        }\n    });\n};\n\n/**\r\n * Invokes initial callback function with a list of ResizeObserverEntry\r\n * instances collected from active resize observations.\r\n *\r\n * @returns {void}\r\n */\nResizeObserverSPI.prototype.broadcastActive = function () {\n    // Do nothing if observer doesn't have active observations.\n    if (!this.hasActive()) {\n        return;\n    }\n\n    var ctx = this.callbackCtx_;\n\n    // Create ResizeObserverEntry instance for every active observation.\n    var entries = this.activeObservations_.map(function (observation) {\n        return new ResizeObserverEntry(observation.target, observation.broadcastRect());\n    });\n\n    this.callback_.call(ctx, entries, ctx);\n    this.clearActive();\n};\n\n/**\r\n * Clears the collection of active observations.\r\n *\r\n * @returns {void}\r\n */\nResizeObserverSPI.prototype.clearActive = function () {\n    this.activeObservations_.splice(0);\n};\n\n/**\r\n * Tells whether observer has active observations.\r\n *\r\n * @returns {boolean}\r\n */\nResizeObserverSPI.prototype.hasActive = function () {\n    return this.activeObservations_.length > 0;\n};\n\n// Registry of internal observers. If WeakMap is not available use current shim\n// for the Map collection as it has all required methods and because WeakMap\n// can't be fully polyfilled anyway.\nvar observers = typeof WeakMap !== 'undefined' ? new WeakMap() : new MapShim();\n\n/**\r\n * ResizeObserver API. Encapsulates the ResizeObserver SPI implementation\r\n * exposing only those methods and properties that are defined in the spec.\r\n */\nvar ResizeObserver = function(callback) {\n    if (!(this instanceof ResizeObserver)) {\n        throw new TypeError('Cannot call a class as a function.');\n    }\n    if (!arguments.length) {\n        throw new TypeError('1 argument required, but only 0 present.');\n    }\n\n    var controller = ResizeObserverController.getInstance();\n    var observer = new ResizeObserverSPI(callback, controller, this);\n\n    observers.set(this, observer);\n};\n\n// Expose public methods of ResizeObserver.\n['observe', 'unobserve', 'disconnect'].forEach(function (method) {\n    ResizeObserver.prototype[method] = function () {\n        return (ref = observers.get(this))[method].apply(ref, arguments);\n        var ref;\n    };\n});\n\nvar index = (function () {\n    // Export existing implementation if available.\n    if (typeof global$1.ResizeObserver !== 'undefined') {\n        return global$1.ResizeObserver;\n    }\n\n    return ResizeObserver;\n})();\n\nexport default index;\n","// Code from ally.js\r\n\r\n/*\r\n  Observe keyboard-, pointer-, mouse- and touch-events so that a query for\r\n  the current interaction type can be made at any time. For pointer interaction\r\n  this observer is limited to pointer button down/up - move is not observed!\r\n\r\n  USAGE:\r\n    var listener = engage();\r\n    listener.get() === {pointer: Boolean, key: Boolean}\r\n*/\r\n\r\n// counters to track primary input\r\nlet _activePointers = 0;\r\nlet _activeKeys = 0;\r\n\r\nconst pointerStartEvents = [\r\n  'touchstart',\r\n  'pointerdown',\r\n  'MSPointerDown',\r\n  'mousedown',\r\n];\r\nconst pointerEndEvents = [\r\n  'touchend',\r\n  'touchcancel',\r\n  'pointerup',\r\n  'MSPointerUp',\r\n  'pointercancel',\r\n  'MSPointerCancel',\r\n  'mouseup',\r\n];\r\n\r\nfunction handleWindowBlurEvent() {\r\n  // reset internal counters when window loses focus\r\n  _activePointers = 0;\r\n  _activeKeys = 0;\r\n}\r\n\r\nfunction handlePointerStartEvent(event: PointerEvent) {\r\n  if (event.isPrimary === false) {\r\n    // ignore non-primary pointer events\r\n    // https://w3c.github.io/pointerevents/#widl-PointerEvent-isPrimary\r\n    return;\r\n  }\r\n\r\n  // mousedown without following mouseup\r\n  // (likely not possible in Chrome)\r\n  _activePointers += 1;\r\n}\r\n\r\nfunction handlePointerEndEvent(event: any) {\r\n  if (event.isPrimary === false) {\r\n    // ignore non-primary pointer events\r\n    // https://w3c.github.io/pointerevents/#widl-PointerEvent-isPrimary\r\n    return;\r\n  } else if (event.touches) {\r\n    _activePointers = event.touches.length;\r\n    return;\r\n  }\r\n\r\n  // delay reset to when the current handlers are executed\r\n  (window.setImmediate || window.setTimeout)(() => {\r\n    // mouseup without prior mousedown\r\n    // (drag something out of the window)\r\n    _activePointers = Math.max(_activePointers - 1, 0);\r\n  });\r\n}\r\n\r\nfunction handleKeyStartEvent(event: KeyboardEvent) {\r\n  // ignore modifier keys\r\n  switch (event.keyCode || event.which) {\r\n    case 16: // space\r\n    case 17: // control\r\n    case 18: // alt\r\n    case 91: // command left\r\n    case 93: // command right\r\n      return;\r\n    default:\r\n      break;\r\n  }\r\n\r\n  // keydown without a following keyup\r\n  // (may happen on CMD+TAB)\r\n  _activeKeys += 1;\r\n}\r\n\r\nfunction handleKeyEndEvent(event: KeyboardEvent) {\r\n  // ignore modifier keys\r\n  switch (event.keyCode || event.which) {\r\n    case 16: // space\r\n    case 17: // control\r\n    case 18: // alt\r\n    case 91: // command left\r\n    case 93: // command right\r\n      return;\r\n    default:\r\n      break;\r\n  }\r\n\r\n  // delay reset to when the current handlers are executed\r\n  (window.setImmediate || window.setTimeout)(() => {\r\n    // keyup without prior keydown\r\n    // (may happen on CMD+R)\r\n    _activeKeys = Math.max(_activeKeys - 1, 0);\r\n  });\r\n}\r\n\r\nfunction getInteractionType() {\r\n  return {\r\n    pointer: Boolean(_activePointers),\r\n    key: Boolean(_activeKeys),\r\n  };\r\n}\r\n\r\nfunction disengage() {\r\n  _activePointers = _activeKeys = 0;\r\n  window.removeEventListener('blur', handleWindowBlurEvent, false);\r\n  document.documentElement.removeEventListener(\r\n    'keydown',\r\n    handleKeyStartEvent,\r\n    true,\r\n  );\r\n  document.documentElement.removeEventListener(\r\n    'keyup',\r\n    handleKeyEndEvent,\r\n    true,\r\n  );\r\n  pointerStartEvents.forEach(event => {\r\n    document.documentElement.removeEventListener(\r\n      event,\r\n      handlePointerStartEvent,\r\n      true,\r\n    );\r\n  });\r\n  pointerEndEvents.forEach(event => {\r\n    document.documentElement.removeEventListener(\r\n      event,\r\n      handlePointerEndEvent,\r\n      true,\r\n    );\r\n  });\r\n}\r\n\r\nfunction engage() {\r\n  // window blur must be in bubble phase so it won't capture regular blurs\r\n  window.addEventListener('blur', handleWindowBlurEvent, false);\r\n  // handlers to identify the method of focus change\r\n  document.documentElement.addEventListener(\r\n    'keydown',\r\n    handleKeyStartEvent,\r\n    true,\r\n  );\r\n  document.documentElement.addEventListener('keyup', handleKeyEndEvent, true);\r\n  pointerStartEvents.forEach(event => {\r\n    document.documentElement.addEventListener(\r\n      event,\r\n      handlePointerStartEvent,\r\n      true,\r\n    );\r\n  });\r\n  pointerEndEvents.forEach(event => {\r\n    document.documentElement.addEventListener(\r\n      event,\r\n      handlePointerEndEvent,\r\n      true,\r\n    );\r\n  });\r\n\r\n  return {\r\n    get: getInteractionType,\r\n  };\r\n}\r\n\r\nexport default { engage, disengage };\r\n","// Code from ally.js\r\n/*\r\n  add data-focus-source attribute to html element containing \"key\", \"pointer\" or \"script\"\r\n  depending on the input method used to change focus.\r\n\r\n  USAGE:\r\n    style/focus-source()\r\n\r\n    body :focus {\r\n      outline: 1px solid grey;\r\n    }\r\n\r\n    html[data-focus-source=\"key\"] body :focus {\r\n      outline: 5px solid red;\r\n    }\r\n\r\n    html[data-focus-source=\"key\"] body :focus {\r\n      outline: 1px solid blue;\r\n    }\r\n\r\n  NOTE: I don't have a GamePad to test, if you do and you want to\r\n  implement an observer for https://w3c.github.io/gamepad/ - send a PR!\r\n\r\n  Alternate implementation: https://github.com/alice/modality\r\n*/\r\n\r\nimport engageInteractionTypeObserver from './interaction-type';\r\n\r\n// preferring focusin/out because they are synchronous in IE10+11\r\nconst supportsFocusIn =\r\n  typeof document !== 'undefined' && 'onfocusin' in document;\r\nconst focusEventName = supportsFocusIn ? 'focusin' : 'focus';\r\nconst blurEventName = supportsFocusIn ? 'focusout' : 'blur';\r\n\r\n// interface to read interaction-type-listener state\r\nlet interactionTypeHandler: any;\r\n// keep track of last focus source\r\nlet current: any = null;\r\n// overwrite focus source for use with the every upcoming focus event\r\nlet lock: any = null;\r\n// keep track of ever having used a particular input method to change focus\r\nconst used: any = {\r\n  pointer: false,\r\n  key: false,\r\n  script: false,\r\n  initial: false,\r\n};\r\n\r\nfunction handleFocusEvent(event: any) {\r\n  let source = '';\r\n  if (event.type === focusEventName) {\r\n    const interactionType = interactionTypeHandler.get();\r\n    source =\r\n      lock ||\r\n      (interactionType.pointer && 'pointer') ||\r\n      (interactionType.key && 'key') ||\r\n      'script';\r\n  } else if (event.type === 'initial') {\r\n    source = 'initial';\r\n  }\r\n\r\n  document.documentElement.setAttribute('data-focus-source', source);\r\n\r\n  if (event.type !== blurEventName) {\r\n    used[source] = true;\r\n    current = source;\r\n  }\r\n}\r\n\r\nfunction getCurrentFocusSource() {\r\n  return current;\r\n}\r\n\r\nfunction getUsedFocusSource(source: any) {\r\n  return used[source];\r\n}\r\n\r\nfunction lockFocusSource(source: any) {\r\n  lock = source;\r\n}\r\n\r\nfunction unlockFocusSource() {\r\n  lock = false;\r\n}\r\n\r\nfunction disengage() {\r\n  // clear dom state\r\n  handleFocusEvent({ type: blurEventName });\r\n  current = lock = null;\r\n  Object.keys(used).forEach(function(key) {\r\n    used[key] = false;\r\n  });\r\n  // kill interaction type identification listener\r\n  engageInteractionTypeObserver.disengage();\r\n  document.documentElement.removeEventListener(\r\n    focusEventName,\r\n    handleFocusEvent,\r\n    true,\r\n  );\r\n  document.documentElement.removeEventListener(\r\n    blurEventName,\r\n    handleFocusEvent,\r\n    true,\r\n  );\r\n  document.documentElement.removeAttribute('data-focus-source');\r\n}\r\n\r\nfunction engage() {\r\n  document.documentElement.addEventListener(\r\n    focusEventName,\r\n    handleFocusEvent,\r\n    true,\r\n  );\r\n  document.documentElement.addEventListener(\r\n    blurEventName,\r\n    handleFocusEvent,\r\n    true,\r\n  );\r\n  // enable the interaction type identification observer\r\n  interactionTypeHandler = engageInteractionTypeObserver.engage();\r\n  // set up initial dom state\r\n  handleFocusEvent({ type: 'initial' });\r\n\r\n  return {\r\n    used: getUsedFocusSource,\r\n    current: getCurrentFocusSource,\r\n    lock: lockFocusSource,\r\n    unlock: unlockFocusSource,\r\n  };\r\n}\r\n\r\nexport default { engage, disengage };\r\n","// inspired by https://gist.github.com/aFarkas/a7e0d85450f323d5e164\r\nconst focusWithin = () => {\r\n  const slice = [].slice;\r\n  const removeClass = (elem: any) => {\r\n    elem.classList.remove('focus-within');\r\n  };\r\n  const update = (() => {\r\n    let running: boolean;\r\n    let last: Element;\r\n    const action = () => {\r\n      let element: any = document.activeElement;\r\n\r\n      running = false;\r\n      if (last !== element) {\r\n        last = element;\r\n        slice\r\n          .call(document.getElementsByClassName('focus-within'))\r\n          .forEach(removeClass);\r\n        while (element && element.classList) {\r\n          element.classList.add('focus-within');\r\n          element = element.parentNode;\r\n        }\r\n      }\r\n    };\r\n\r\n    return () => {\r\n      if (!running) {\r\n        requestAnimationFrame(action);\r\n        running = true;\r\n      }\r\n    };\r\n  })();\r\n\r\n  document.addEventListener('focus', update, true);\r\n  document.addEventListener('blur', update, true);\r\n  update();\r\n\r\n  return () => {\r\n    document.removeEventListener('focus', update, true);\r\n    document.removeEventListener('blur', update, true);\r\n  };\r\n};\r\n\r\nexport default focusWithin;\r\n","enum MediaStreamTypes {\r\n  MP4 = 'MP4',\r\n  WEBM = 'WEBM',\r\n  HLS = 'HLS',\r\n  DASH = 'DASH',\r\n  OGG = 'OGG',\r\n  MOV = 'MOV',\r\n  MKV = 'MKV',\r\n}\r\n\r\nenum MediaStreamDeliveryPriority {\r\n  NATIVE_PROGRESSIVE,\r\n  ADAPTIVE_VIA_MSE,\r\n  NATIVE_ADAPTIVE,\r\n  FORCED,\r\n}\r\n\r\nexport { MediaStreamTypes, MediaStreamDeliveryPriority };\r\n","const UI_EVENTS = {\r\n  PLAY_TRIGGERED: 'ui-events/play-triggered',\r\n  PLAY_OVERLAY_TRIGGERED: 'ui-events/play-overlay-triggered',\r\n  PAUSE_TRIGGERED: 'ui-events/pause-triggered',\r\n  PROGRESS_CHANGE_TRIGGERED: 'ui-events/progress-change-triggered',\r\n  VOLUME_CHANGE_TRIGGERED: 'ui-events/volume-change-triggered',\r\n  MUTE_STATUS_TRIGGERED: 'ui-events/mute-status-triggered',\r\n  FULLSCREEN_STATUS_CHANGED: 'ui-events/fullscreen-status-changed',\r\n\r\n  // TODO: follow ENTITY_EVENT_TRIGGERED or ENTITY_EVENT format\r\n  MOUSE_ENTER_ON_PLAYER_TRIGGERED: 'ui-events/mouse-enter-on-player-triggered',\r\n  MOUSE_MOVE_ON_PLAYER_TRIGGERED: 'ui-events/mouse-move-on-player-triggered',\r\n  MOUSE_LEAVE_ON_PLAYER_TRIGGERED: 'ui-events/mouse-leave-on-player-triggered',\r\n  CONTROL_BLOCK_HIDE_TRIGGERED: 'ui-events/control-block-hide-triggered',\r\n  CONTROL_BLOCK_SHOW_TRIGGERED: 'ui-events/control-block-show-triggered',\r\n  PROGRESS_MANIPULATION_STARTED: 'ui-events/progress-manipulation-started',\r\n  PROGRESS_MANIPULATION_ENDED: 'ui-events/progress-manipulation-ended',\r\n  KEYBOARD_KEYDOWN_INTERCEPTED: 'ui-events/keyboard-keydown-intercepted',\r\n  LOADER_SHOW_TRIGGERED: 'ui-events/loader-show-triggered',\r\n  LOADER_HIDE_TRIGGERED: 'ui-events/loader-hide-triggered',\r\n  LOADING_COVER_SHOW_TRIGGERED: 'ui-events/loading-cover-show-triggered',\r\n  LOADING_COVER_HIDE_TRIGGERED: 'ui-events/loading-cover-hide-triggered',\r\n  TOGGLE_PLAYBACK_WITH_KEYBOARD_TRIGGERED:\r\n    'ui-events/toggle-playback-with-keyboard-triggered',\r\n  GO_BACKWARD_WITH_KEYBOARD_TRIGGERED:\r\n    'ui-events/go-backward-with-keyboard-triggered',\r\n  GO_FORWARD_WITH_KEYBOARD_TRIGGERED:\r\n    'ui-events/go-forward-with-keyboard-triggered',\r\n  INCREASE_VOLUME_WITH_KEYBOARD_TRIGGERED:\r\n    'ui-events/increase-volume-with-keyboard-triggered',\r\n  DECREASE_VOLUME_WITH_KEYBOARD_TRIGGERED:\r\n    'ui-events/decrease-volume-with-keyboard-triggered',\r\n  MUTE_SOUND_WITH_KEYBOARD_TRIGGERED:\r\n    'ui-events/mute-sound-with-keyboard-triggered',\r\n  UNMUTE_SOUND_WITH_KEYBOARD_TRIGGERED:\r\n    'ui-events/unmute-sound-with-keyboard-triggered',\r\n  HIDE_INTERACTION_INDICATOR_TRIGGERED:\r\n    'ui-events/hide-interaction-indicator-triggered',\r\n  // TODO: get rid of WIDTH/HEIGHT change events in favour of RESIZE\r\n  PLAYER_WIDTH_CHANGE_TRIGGERED: 'ui-events/player-width-change-triggered',\r\n  PLAYER_HEIGHT_CHANGE_TRIGGERED: 'ui-events/player-height-change-triggered',\r\n\r\n  PLAY_WITH_SCREEN_CLICK_TRIGGERED:\r\n    'ui-events/play-with-screen-click-triggered',\r\n  PAUSE_WITH_SCREEN_CLICK_TRIGGERED:\r\n    'ui-events/pause-with-screen-click-triggered',\r\n\r\n  // TODO: review CONTROL_DRAG_START vs CONTROL_DRAG_START_TRIGGERED format\r\n  CONTROL_DRAG_START: 'ui-events/control-drag-start',\r\n  CONTROL_DRAG_END: 'ui-events/control-drag-end',\r\n  MAIN_BLOCK_HIDE_TRIGGERED: 'ui-events/main-block-hide-triggered',\r\n  MAIN_BLOCK_SHOW_TRIGGERED: 'ui-events/main-block-show-triggered',\r\n  PROGRESS_SYNC_BUTTON_MOUSE_ENTER_TRIGGERED:\r\n    'ui-events/progress-sync-button-mouse-enter-triggered',\r\n  PROGRESS_SYNC_BUTTON_MOUSE_LEAVE_TRIGGERED:\r\n    'ui-events/progress-sync-button-mouse-leave-triggered',\r\n  RESIZE: 'ui-events/resize',\r\n};\r\n\r\nexport default UI_EVENTS;\r\n","const VIDEO_EVENTS = {\r\n  ERROR: 'video-events/error',\r\n  STATE_CHANGED: 'video-events/state-changed',\r\n  LIVE_STATE_CHANGED: 'video-events/live-state-changed',\r\n  DYNAMIC_CONTENT_ENDED: 'video-events/dynamic-content-ended',\r\n  CHUNK_LOADED: 'video-events/chunk-loaded',\r\n  CURRENT_TIME_UPDATED: 'video-events/current-time-updated',\r\n  DURATION_UPDATED: 'video-events/duration-updated',\r\n  VOLUME_STATUS_CHANGED: 'video-events/volume-status-changed',\r\n  VOLUME_CHANGED: 'video-events/volume-changed',\r\n  MUTE_CHANGED: 'video-events/mute-changed',\r\n  SEEK_IN_PROGRESS: 'video-events/seek-in-progress',\r\n  UPLOAD_STALLED: 'video-events/upload-stalled',\r\n  UPLOAD_SUSPEND: 'video-events/upload-suspend',\r\n  PLAY_REQUEST_TRIGGERED: 'video-events/play-request-triggered',\r\n  PLAY_ABORTED: 'video-events/play-aborted',\r\n  RESET: 'video-events/reset-playback',\r\n};\r\n\r\nexport default VIDEO_EVENTS;\r\n","const Errors = {\r\n  SRC_PARSE: 'error-src-parse',\r\n  MANIFEST_LOAD: 'error-manifest-load',\r\n  MANIFEST_PARSE: 'error-manifest-parse',\r\n  MANIFEST_INCOMPATIBLE: 'error-manifest-incompatible',\r\n  LEVEL_LOAD: 'error-level-load',\r\n  CONTENT_LOAD: 'error-content-load',\r\n  CONTENT_PARSE: 'error-content-parse',\r\n  MEDIA: 'error-media',\r\n  UNKNOWN: 'error-unknown',\r\n};\r\n\r\nexport default Errors;\r\n","export default {\r\n  LOGO_LABEL: 'logo-label',\r\n  LOGO_TOOLTIP: 'logo-tooltip',\r\n  LIVE_INDICATOR_TEXT: 'live-indicator-text',\r\n  LIVE_SYNC_LABEL: 'live-sync-button-label',\r\n  LIVE_SYNC_TOOLTIP: 'live-sync-button-tooltip',\r\n  ENTER_FULL_SCREEN_LABEL: 'enter-full-screen-label',\r\n  ENTER_FULL_SCREEN_TOOLTIP: 'enter-full-screen-tooltip',\r\n  EXIT_FULL_SCREEN_LABEL: 'exit-full-screen-label',\r\n  EXIT_FULL_SCREEN_TOOLTIP: 'exit-full-screen-tooltip',\r\n  PLAY_CONTROL_LABEL: 'play-control-label',\r\n  PAUSE_CONTROL_LABEL: 'pause-control-label',\r\n  PROGRESS_CONTROL_LABEL: 'progress-control-label',\r\n  PROGRESS_CONTROL_VALUE: 'progress-control-value',\r\n  UNMUTE_CONTROL_LABEL: 'unmute-control-label',\r\n  UNMUTE_CONTROL_TOOLTIP: 'unmute-control-label',\r\n  MUTE_CONTROL_LABEL: 'mute-control-label',\r\n  MUTE_CONTROL_TOOLTIP: 'mute-control-tooltip',\r\n  VOLUME_CONTROL_LABEL: 'volume-control-label',\r\n  VOLUME_CONTROL_VALUE: 'volume-control-value',\r\n};\r\n","enum EngineState {\r\n  SRC_SET = 'engine-state/src-set',\r\n  LOAD_STARTED = 'engine-state/load-started',\r\n  METADATA_LOADED = 'engine-state/metadata-loaded',\r\n  READY_TO_PLAY = 'engine-state/ready-to-play',\r\n  SEEK_IN_PROGRESS = 'engine-state/seek-in-progress',\r\n  PLAY_REQUESTED = 'engine-state/play-requested',\r\n  WAITING = 'engine-state/waiting',\r\n  PLAYING = 'engine-state/playing',\r\n  PAUSED = 'engine-state/paused',\r\n  ENDED = 'engine-state/ended',\r\n}\r\n\r\nexport default EngineState;\r\n","enum LiveState {\r\n  NONE = 'live-state/none',\r\n  INITIAL = 'live-state/initial',\r\n  NOT_SYNC = 'live-state/not-sync',\r\n  SYNC = 'live-state/sync',\r\n  ENDED = 'live-state/ended',\r\n}\r\n\r\nexport default LiveState;\r\n","function htmlToElement(html: string) {\r\n  const div: HTMLDivElement = document.createElement('div');\r\n  div.innerHTML = html.trim();\r\n  return div.firstChild as HTMLElement;\r\n}\r\n\r\nexport default htmlToElement;\r\n","/*!\n  Copyright (c) 2016 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tclasses.push(classNames.apply(null, arg));\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","//@ts-ignore\nimport classnames from 'classnames';\n\nfunction extendStyles(\n  sourceStyles: Playable.IStyles,\n  partialStyles: Playable.IStyles,\n) {\n  const styles = {\n    ...sourceStyles,\n  };\n\n  Object.keys(partialStyles).forEach(styleName => {\n    styles[styleName] = styles[styleName]\n      ? classnames(styles[styleName], partialStyles[styleName])\n      : partialStyles[styleName];\n  });\n\n  return styles;\n}\n\nexport default extendStyles;\n","import extendStyles from './extendStyles';\n\nclass Stylable<TStyles = Playable.IStyles>\n  implements Playable.IStylable<TStyles> {\n  private static _moduleTheme: Playable.ICSSRules;\n  private static _styles: Playable.IStyles = {};\n\n  private _themeStyles: Playable.IStyles = {};\n\n  constructor(theme?: Playable.IThemeService) {\n    const moduleTheme = (<typeof Stylable>this.constructor)._moduleTheme;\n    if (theme && moduleTheme) {\n      theme.registerModuleTheme(this, moduleTheme);\n      this._themeStyles = theme.get(this);\n    }\n  }\n\n  static setTheme(theme: Playable.ICSSRules) {\n    this._moduleTheme = theme;\n  }\n\n  static extendStyleNames(styles: Playable.IStyles) {\n    this._styles = extendStyles(this._styles, styles);\n  }\n\n  static resetStyles() {\n    this._styles = {};\n  }\n\n  get themeStyles(): Playable.IStyles {\n    return this._themeStyles;\n  }\n\n  get styleNames(): TStyles {\n    // NOTE: TS does not work with instance static fields + generic type\n    return (this.constructor as any)._styles || {};\n  }\n}\n\nexport default Stylable;\n","import Stylable from './stylable';\n\nclass View<TStyles = Playable.IStyles> extends Stylable<TStyles>\n  implements Playable.IView<TStyles> {}\n\nexport default View;\n","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import htmlToElement from '../ui/core/htmlToElement';\n\nimport { containerTemplate } from './templates';\n\nimport View from '../ui/core/view';\n\nimport styles from './root-container.scss';\n\nclass RootContainerView extends View<Playable.IRootContainerViewStyles>\n  implements Playable.IView<Playable.IRootContainerViewStyles> {\n  private _$node: HTMLElement;\n  private _callbacks: Playable.IRootContainerViewCallbacks;\n\n  constructor(config: Playable.IRootContainerViewConfig) {\n    super();\n    const { width, height, fillAllSpace, callbacks } = config;\n    this._callbacks = callbacks;\n    this._$node = htmlToElement(containerTemplate({ styles: this.styleNames }));\n\n    this.setFillAllSpaceFlag(fillAllSpace);\n\n    this.setWidth(width);\n    this.setHeight(height);\n\n    this._bindEvents();\n  }\n\n  private _bindEvents() {\n    this._$node.addEventListener('mouseenter', this._callbacks.onMouseEnter);\n    this._$node.addEventListener('mousemove', this._callbacks.onMouseMove);\n    this._$node.addEventListener('mouseleave', this._callbacks.onMouseLeave);\n  }\n\n  private _unbindEvents() {\n    this._$node.removeEventListener('mouseenter', this._callbacks.onMouseEnter);\n    this._$node.removeEventListener('mousemove', this._callbacks.onMouseMove);\n    this._$node.removeEventListener('mouseleave', this._callbacks.onMouseLeave);\n  }\n\n  setWidth(width: number) {\n    if (!width) {\n      return;\n    }\n\n    this._$node.style.width = `${width}px`;\n  }\n\n  setHeight(height: number) {\n    if (!height) {\n      return;\n    }\n\n    this._$node.style.height = `${height}px`;\n  }\n\n  getWidth(): number {\n    return this._$node.offsetWidth;\n  }\n\n  getHeight(): number {\n    return this._$node.offsetHeight;\n  }\n\n  show() {\n    this._$node.classList.add(this.styleNames.hidden);\n  }\n\n  hide() {\n    this._$node.classList.remove(this.styleNames.hidden);\n  }\n\n  appendComponentNode(node: HTMLElement) {\n    this._$node.appendChild(node);\n  }\n\n  getNode(): HTMLElement {\n    return this._$node;\n  }\n\n  setFullScreenStatus(isFullScreen: boolean) {\n    if (isFullScreen) {\n      this._$node.setAttribute('data-in-full-screen', 'true');\n      this._$node.classList.add(this.styleNames.fullScreen);\n    } else {\n      this._$node.setAttribute('data-in-full-screen', 'false');\n      this._$node.classList.remove(this.styleNames.fullScreen);\n    }\n  }\n\n  setFillAllSpaceFlag(isFillAllSpace = false) {\n    if (isFillAllSpace) {\n      this._$node.classList.add(this.styleNames.fillAllSpace);\n    } else {\n      this._$node.classList.remove(this.styleNames.fillAllSpace);\n    }\n  }\n\n  destroy() {\n    this._unbindEvents();\n    this._callbacks = null;\n\n    if (this._$node.parentNode) {\n      this._$node.parentNode.removeChild(this._$node);\n    }\n\n    this._$node = null;\n  }\n}\n\nRootContainerView.extendStyleNames(styles);\n\nexport default RootContainerView;\n","function reduce(\r\n  arrayLike: { length: number },\r\n  callback: Function,\r\n  initialValue: any,\r\n) {\r\n  return Array.prototype.reduce.call(arrayLike, callback, initialValue);\r\n}\r\n\r\nfunction forEachMatch(string: string, pattern: RegExp, callback: Function) {\r\n  let match = pattern.exec(string);\r\n\r\n  while (match !== null) {\r\n    callback(match);\r\n    match = pattern.exec(string);\r\n  }\r\n}\r\n\r\nexport { reduce, forEachMatch };\r\n","const ALIASES = [\r\n  'matches',\r\n  'webkitMatchesSelector',\r\n  'mozMatchesSelector',\r\n  'msMatchesSelector',\r\n];\r\n\r\nlet matchesSelectorFn: Function;\r\n\r\nif (typeof HTMLElement !== 'undefined') {\r\n  for (let i = 0; i < ALIASES.length; i++) {\r\n    matchesSelectorFn = (Element as any).prototype[ALIASES[i]] as Function;\r\n\r\n    if (matchesSelectorFn) {\r\n      break;\r\n    }\r\n  }\r\n}\r\n\r\nconst isElementMatchesSelector = matchesSelectorFn\r\n  ? (element: HTMLElement, selector: string) =>\r\n      matchesSelectorFn.call(element, selector)\r\n  : (element: HTMLElement, selector: string) =>\r\n      Array.prototype.indexOf.call(\r\n        document.querySelectorAll(selector),\r\n        element,\r\n      ) !== -1;\r\n\r\nexport default isElementMatchesSelector;\r\n","import { forEachMatch, reduce } from './utils';\r\nimport isElementMatchesSelector from '../isElementMatchesSelector';\r\n\r\n// NOTE: \"inspired\" by https://github.com/marcj/css-element-queries/blob/1.0.2/src/ElementQueries.js#L340-L393\r\n\r\nconst CSS_SELECTOR_PATTERN = /,?[\\s\\t]*([^,\\n]*?)((?:\\[[\\s\\t]*?(?:[a-z-]+-)?(?:min|max)-width[\\s\\t]*?[~$\\^]?=[\\s\\t]*?\"[^\"]*?\"[\\s\\t]*?])+)([^,\\n\\s\\{]*)/gim;\r\nconst QUERY_ATTR_PATTERN = /\\[[\\s\\t]*?(?:([a-z-]+)-)?(min|max)-width[\\s\\t]*?[~$\\^]?=[\\s\\t]*?\"([^\"]*?)\"[\\s\\t]*?]/gim;\r\n\r\nfunction getQueriesFromCssSelector(cssSelector: string) {\r\n  const results: any[] = [];\r\n\r\n  if (\r\n    cssSelector.indexOf('min-width') === -1 &&\r\n    cssSelector.indexOf('max-width') === -1\r\n  ) {\r\n    return [];\r\n  }\r\n\r\n  cssSelector = cssSelector.replace(/'/g, '\"');\r\n\r\n  forEachMatch(cssSelector, CSS_SELECTOR_PATTERN, (match: RegExpMatchArray) => {\r\n    const [selectorPart1, attribute, selectorPart2] = match.slice(1);\r\n    const selector = selectorPart1 + selectorPart2;\r\n\r\n    forEachMatch(attribute, QUERY_ATTR_PATTERN, (match: RegExpMatchArray) => {\r\n      const [prefix = '', mode, width] = match.slice(1);\r\n\r\n      results.push({\r\n        selector,\r\n        prefix,\r\n        mode,\r\n        width: parseInt(width, 10),\r\n      });\r\n    });\r\n  });\r\n\r\n  return results;\r\n}\r\n\r\nfunction getQueriesFromRules(rules: CSSRuleList) {\r\n  return reduce(\r\n    rules,\r\n    (results: any[], rule: any) => {\r\n      // https://developer.mozilla.org/en-US/docs/Web/API/CSSRule\r\n      // CSSRule.STYLE_RULE\r\n      if (rule.type === 1) {\r\n        const selector = rule.selectorText || rule.cssText;\r\n\r\n        return results.concat(getQueriesFromCssSelector(selector));\r\n      }\r\n\r\n      // NOTE: add other `CSSRule` types if required.\r\n      // Example - https://github.com/marcj/css-element-queries/blob/1.0.2/src/ElementQueries.js#L384-L390\r\n\r\n      return results;\r\n    },\r\n    [],\r\n  );\r\n}\r\n\r\nfunction getQueries() {\r\n  return reduce(\r\n    document.styleSheets,\r\n    (results: any[], styleSheet: CSSStyleSheet) => {\r\n      // NOTE: browser may not able to read rules for cross-domain stylesheets\r\n      try {\r\n        const rules = styleSheet.cssRules || styleSheet.rules;\r\n\r\n        if (rules) {\r\n          return results.concat(getQueriesFromRules(rules));\r\n        }\r\n\r\n        if (styleSheet.cssText) {\r\n          return results.concat(getQueriesFromCssSelector(styleSheet.cssText));\r\n        }\r\n      } catch (e) {}\r\n\r\n      return results;\r\n    },\r\n    [],\r\n  );\r\n}\r\n\r\nfunction getQueriesForElement(element: HTMLElement, prefix = '') {\r\n  const matchedSelectors = new Map();\r\n  const queries: any[] = [];\r\n\r\n  getQueries().forEach((query: any) => {\r\n    if (!matchedSelectors.has(query.selector)) {\r\n      matchedSelectors.set(\r\n        query.selector,\r\n        isElementMatchesSelector(element, query.selector),\r\n      );\r\n    }\r\n\r\n    if (!matchedSelectors.get(query.selector)) {\r\n      return;\r\n    }\r\n\r\n    if (\r\n      query.prefix === prefix &&\r\n      !queries.some(\r\n        _query => _query.mode === query.mode && _query.width === query.width,\r\n      )\r\n    ) {\r\n      queries.push({\r\n        mode: query.mode,\r\n        width: query.width,\r\n      });\r\n    }\r\n  });\r\n\r\n  return queries.sort((a, b) => a.width - b.width);\r\n}\r\n\r\nexport default getQueriesForElement;\r\n","import getQueriesForElement from './getQueriesForElement';\r\n\r\nconst DEFAULT_QUERY_PREFIX = 'data';\r\n\r\nclass ElementQueries {\r\n  private _element: Element;\r\n  private _queryPrefix: string;\r\n  private _queries: { mode: string; width: number }[];\r\n\r\n  constructor(element: HTMLElement, { prefix = DEFAULT_QUERY_PREFIX } = {}) {\r\n    this._element = element;\r\n    this._queryPrefix = prefix;\r\n    this._queries = getQueriesForElement(element, prefix);\r\n  }\r\n\r\n  private _getQueryAttributeValue(mode: string, elementWidth: number) {\r\n    return this._queries\r\n      .filter(\r\n        query =>\r\n          query.mode === mode &&\r\n          ((mode === 'max' && query.width >= elementWidth) ||\r\n            (mode === 'min' && query.width <= elementWidth)),\r\n      )\r\n      .map(query => `${query.width}px`)\r\n      .join(' ');\r\n  }\r\n\r\n  private _setQueryAttribute(mode: string, elementWidth: number) {\r\n    const attributeName = this._queryPrefix\r\n      ? `${this._queryPrefix}-${mode}-width`\r\n      : `${mode}-width`;\r\n    const attributeValue = this._getQueryAttributeValue(mode, elementWidth);\r\n\r\n    if (attributeValue) {\r\n      this._element.setAttribute(attributeName, attributeValue);\r\n    } else {\r\n      this._element.removeAttribute(attributeName);\r\n    }\r\n  }\r\n\r\n  setWidth(width: number) {\r\n    this._setQueryAttribute('min', width);\r\n    this._setQueryAttribute('max', width);\r\n  }\r\n\r\n  destroy() {\r\n    this._element = null;\r\n  }\r\n}\r\n\r\nexport default ElementQueries;\r\n","import ResizeObserver from 'resize-observer-polyfill';\n\nimport focusSource from './utils/focus-source';\nimport focusWithin from './utils/focus-within';\n\nimport playerAPI from '../../core/player-api-decorator';\n\nimport { UI_EVENTS } from '../../constants';\n\nimport View from './root-container.view';\nimport ElementQueries from '../ui/core/element-queries';\n\nimport { IEventEmitter } from '../event-emitter/types';\nimport { IPlayerConfig } from '../../core/config';\n\nconst DEFAULT_CONFIG = {\n  fillAllSpace: false,\n};\n\nclass RootContainer implements Playable.IRootContainer {\n  static moduleName = 'rootContainer';\n  static dependencies = ['eventEmitter', 'config'];\n\n  private _eventEmitter: IEventEmitter;\n\n  private _elementQueries: ElementQueries;\n  private _resizeObserver: ResizeObserver;\n  private _disengageFocusWithin: Function;\n  private _disengageFocusSource: Function;\n\n  private _unbindEvents: Function;\n\n  // TODO: check if props should be `private`\n  view: View;\n  isHidden: boolean;\n\n  constructor({\n    eventEmitter,\n    config,\n  }: {\n    config: IPlayerConfig;\n    eventEmitter: IEventEmitter;\n  }) {\n    this._eventEmitter = eventEmitter;\n    this.isHidden = false;\n\n    this._bindCallbacks();\n    this._initUI(config);\n\n    this._bindEvents();\n  }\n\n  /**\n   * Getter for DOM node with player UI element\n   * (use it only for debug, if you need attach player to your document use `attachToElement` method)\n   */\n  @playerAPI()\n  get node(): HTMLElement {\n    return this.view.getNode();\n  }\n\n  private _bindCallbacks() {\n    this._onResized = this._onResized.bind(this);\n    this._broadcastMouseEnter = this._broadcastMouseEnter.bind(this);\n    this._broadcastMouseMove = this._broadcastMouseMove.bind(this);\n    this._broadcastMouseLeave = this._broadcastMouseLeave.bind(this);\n  }\n\n  private _bindEvents() {\n    this._unbindEvents = this._eventEmitter.bindEvents(\n      [\n        [\n          UI_EVENTS.FULLSCREEN_STATUS_CHANGED,\n          this.view.setFullScreenStatus,\n          this.view,\n        ],\n      ],\n      this,\n    );\n  }\n\n  private _initUI(config: IPlayerConfig) {\n    const sizeConfig = {\n      ...config.size,\n    };\n    this.view = new View({\n      callbacks: {\n        onMouseEnter: this._broadcastMouseEnter,\n        onMouseLeave: this._broadcastMouseLeave,\n        onMouseMove: this._broadcastMouseMove,\n      },\n      width: sizeConfig.width || null,\n      height: sizeConfig.height || null,\n      fillAllSpace: config.fillAllSpace || DEFAULT_CONFIG.fillAllSpace,\n    });\n\n    this._elementQueries = new ElementQueries(this.node, {\n      prefix: '',\n    });\n  }\n\n  appendComponentNode(node: HTMLElement) {\n    this.view.appendComponentNode(node);\n  }\n\n  private _broadcastMouseEnter() {\n    this._eventEmitter.emit(UI_EVENTS.MOUSE_ENTER_ON_PLAYER_TRIGGERED);\n  }\n\n  private _broadcastMouseMove() {\n    this._eventEmitter.emit(UI_EVENTS.MOUSE_MOVE_ON_PLAYER_TRIGGERED);\n  }\n\n  private _broadcastMouseLeave() {\n    this._eventEmitter.emit(UI_EVENTS.MOUSE_LEAVE_ON_PLAYER_TRIGGERED);\n  }\n\n  private _enableFocusInterceptors() {\n    if (!this._disengageFocusWithin) {\n      this._disengageFocusWithin = focusWithin();\n    }\n\n    if (!this._disengageFocusSource) {\n      focusSource.engage();\n      this._disengageFocusSource = focusSource.disengage;\n    }\n  }\n\n  private _disableFocusInterceptors() {\n    if (this._disengageFocusSource) {\n      this._disengageFocusSource();\n      this._disengageFocusSource = null;\n    }\n\n    if (this._disengageFocusWithin) {\n      this._disengageFocusWithin();\n      this._disengageFocusWithin = null;\n    }\n  }\n\n  private _onResized() {\n    const width = this.view.getWidth();\n    const height = this.view.getHeight();\n\n    this._elementQueries.setWidth(width);\n\n    this._eventEmitter.emit(UI_EVENTS.RESIZE, { width, height });\n  }\n\n  /**\n   * Method for attaching player node to your container\n   * It's important to call this methods after `DOMContentLoaded` event!\n   *\n   * @example\n   * document.addEventListener('DOMContentLoaded', function() {\n   *   const config = { src: 'http://my-url/video.mp4' }\n   *   const player = Playable.create(config);\n   *\n   *   player.attachToElement(document.getElementById('content'));\n   * });\n   */\n  @playerAPI()\n  attachToElement(element: Element) {\n    this._enableFocusInterceptors();\n\n    element.appendChild(this.node);\n\n    if (!this._resizeObserver) {\n      // NOTE: required for valid work of player \"media queries\"\n      this._resizeObserver = new ResizeObserver(this._onResized);\n\n      this._resizeObserver.observe(this.node);\n    }\n  }\n\n  /**\n   * Method for setting width of player\n   * @param width - Desired width of player in pixels\n   * @example\n   * player.setWidth(400);\n   */\n  @playerAPI()\n  setWidth(width: number) {\n    this.view.setWidth(width);\n    this._eventEmitter.emit(UI_EVENTS.PLAYER_WIDTH_CHANGE_TRIGGERED, width);\n  }\n\n  /**\n   * Return current width of player in pixels\n   * @example\n   * player.getWidth(); // 400\n   */\n  @playerAPI()\n  getWidth(): number {\n    return this.view.getWidth();\n  }\n\n  /**\n   * Method for setting width of player\n   * @param height - Desired height of player in pixels\n   * @example\n   * player.setHeight(225);\n   */\n  @playerAPI()\n  setHeight(height: number) {\n    this.view.setHeight(height);\n    this._eventEmitter.emit(UI_EVENTS.PLAYER_HEIGHT_CHANGE_TRIGGERED, height);\n  }\n\n  /**\n   * Return current height of player in pixels\n   * @example\n   * player.getHeight(); // 225\n   */\n  @playerAPI()\n  getHeight(): number {\n    return this.view.getHeight();\n  }\n\n  /**\n   * Method for allowing player fill all available space\n   * @param flag - `true` for allowing\n   * @example\n   * player.setFillAllSpace(true);\n   */\n  @playerAPI()\n  setFillAllSpace(flag: boolean) {\n    this.view.setFillAllSpaceFlag(flag);\n  }\n\n  /**\n   * Hide whole ui\n   * @example\n   * player.hide();\n   */\n  @playerAPI()\n  hide() {\n    this.isHidden = true;\n    this.view.hide();\n  }\n\n  /**\n   * Show whole ui\n   * @example\n   * player.show();\n   */\n  @playerAPI()\n  show() {\n    this.isHidden = false;\n    this.view.show();\n  }\n\n  destroy() {\n    this._unbindEvents();\n    this._disableFocusInterceptors();\n\n    if (this._resizeObserver) {\n      this._resizeObserver.unobserve(this.node);\n      this._resizeObserver = null;\n    }\n\n    this._elementQueries.destroy();\n    this._elementQueries = null;\n\n    this.view.destroy();\n    this.view = null;\n\n    this._eventEmitter = null;\n  }\n}\n\nexport default RootContainer;\n","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n","import { EventEmitter, ListenerFn } from 'eventemitter3';\r\n\r\nimport playerAPI from '../../core/player-api-decorator';\r\n\r\nimport { IEventEmitter, IEventMap } from './types';\r\n\r\nexport default class EventEmitterModule extends EventEmitter\r\n  implements IEventEmitter {\r\n  static moduleName = 'eventEmitter';\r\n  /**\r\n   * Method for adding listeners of events inside player.\r\n   * You can check all events inside `Playable.UI_EVENTS` and `Playable.VIDEO_EVENTS`\r\n   *\r\n   * @param event - The Event name, such as `Playable.UI_EVENTS.PLAY_TRIGGERED`\r\n   * @param fn - A function callback to execute when the event is triggered.\r\n   * @param context - Value to use as `this` (i.e the reference Object) when executing callback.\r\n   *\r\n   * @example\r\n   * const Playable = require('playable');\r\n   * const player = Playable.create();\r\n   *\r\n   * player.on(Playable.UI_EVENTS.PLAY_TRIGGERED, () => {\r\n   *   // Will be executed after you will click on play button\r\n   * });\r\n   *\r\n   * // To supply a context value for `this` when the callback is invoked,\r\n   * // pass the optional context argument\r\n   * player.on(Playable.VIDEO_EVENTS.UPLOAD_STALLED, this.handleStalledUpload, this);\r\n   */\r\n  @playerAPI()\r\n  on(event: string, fn: ListenerFn, context?: any) {\r\n    return super.on(event, fn, context);\r\n  }\r\n\r\n  /**\r\n   * Method for removing listeners of events inside player.\r\n   *\r\n   * @param event - The Event name, such as `Playable.UI_EVENTS.PLAY_TRIGGERED`\r\n   * @param fn - Only remove the listeners that match this function.\r\n   * @param context - Only remove the listeners that have this context.\r\n   * @param once - Only remove one-time listeners.\r\n   *\r\n   * @example\r\n   * const Playable = require('playable');\r\n   * const player = Playable.create();\r\n   *\r\n   * const callback = function() {\r\n   *   // Code to handle some kind of event\r\n   * };\r\n   *\r\n   * // ... Now callback will be called when some one will pause the video ...\r\n   * player.on(Playable.UI_EVENTS.PAUSE_TRIGGERED, callback);\r\n   *\r\n   * // ... callback will no longer be called.\r\n   * player.off(Playable.UI_EVENTS.PAUSE_TRIGGERED, callback);\r\n   *\r\n   * // ... remove all handlers for event UI_EVENTS.PAUSE_TRIGGERED.\r\n   * player.off(Playable.UI_EVENTS.PAUSE_TRIGGERED);\r\n   */\r\n  @playerAPI()\r\n  off(event: string, fn?: ListenerFn, context?: any, once?: boolean) {\r\n    return super.off(event, fn, context, once);\r\n  }\r\n\r\n  /**\r\n   * Method for binding array of listeners with events inside player.\r\n   *\r\n   * @example\r\n   *\r\n   * this._unbindEvents = this._eventEmitter.bindEvents([\r\n   *     [VIDEO_EVENTS.STATE_CHANGED, this._processStateChange],\r\n   *     [VIDEO_EVENTS.LIVE_STATE_CHANGED, this._processLiveStateChange],\r\n   *     [VIDEO_EVENTS.CHUNK_LOADED, this._updateBufferIndicator],\r\n   *     [VIDEO_EVENTS.DURATION_UPDATED, this._updateAllIndicators],\r\n   *   ],\r\n   *   this,\r\n   * );\r\n   *\r\n   * //...\r\n   *\r\n   * this._unbindEvents()\r\n   *\r\n   * @param eventsMap\r\n   * @param defaultFnContext\r\n   * @returns unbindEvents\r\n   */\r\n  bindEvents(eventsMap: IEventMap[], defaultFnContext?: Object): Function {\r\n    const events: Function[] = [];\r\n\r\n    eventsMap.forEach(([eventName, fn, fnContext = defaultFnContext]) => {\r\n      this.on(eventName, fn, fnContext);\r\n      events.push(() => {\r\n        this.off(eventName, fn, fnContext);\r\n      });\r\n    });\r\n\r\n    return function unbindEvents() {\r\n      events.forEach(unbindEvent => {\r\n        unbindEvent();\r\n      });\r\n    };\r\n  }\r\n\r\n  destroy() {\r\n    this.removeAllListeners();\r\n  }\r\n}\r\n","import { IEventEmitter } from '../event-emitter/types';\r\n\r\nimport { isSafari } from '../../utils/device-detection';\r\n\r\nimport { VIDEO_EVENTS, EngineState } from '../../constants';\r\n\r\nexport const NATIVE_VIDEO_EVENTS_TO_STATE = [\r\n  'loadstart',\r\n  'loadedmetadata',\r\n  'canplay',\r\n  'play',\r\n  'playing',\r\n  'pause',\r\n  'ended',\r\n  'waiting',\r\n  'seeking',\r\n  'seeked',\r\n];\r\n\r\nexport default class StateEngine {\r\n  private _eventEmitter: IEventEmitter;\r\n  private _video: HTMLVideoElement;\r\n  private _currentState: EngineState;\r\n  private _statesTimestamps: { [state: string]: number };\r\n  private _initialTimeStamp: number;\r\n  private _isMetadataLoaded: boolean;\r\n\r\n  constructor(eventEmitter: IEventEmitter, video: HTMLVideoElement) {\r\n    this._eventEmitter = eventEmitter;\r\n    this._video = video;\r\n\r\n    this._currentState = null;\r\n\r\n    this._isMetadataLoaded = false;\r\n    this._statesTimestamps = {};\r\n\r\n    this._bindCallbacks();\r\n    this._bindEvents();\r\n  }\r\n\r\n  private _bindCallbacks() {\r\n    this._processEventFromVideo = this._processEventFromVideo.bind(this);\r\n  }\r\n\r\n  private _bindEvents() {\r\n    NATIVE_VIDEO_EVENTS_TO_STATE.forEach(event =>\r\n      this._video.addEventListener(event, this._processEventFromVideo),\r\n    );\r\n  }\r\n\r\n  private _unbindEvents() {\r\n    NATIVE_VIDEO_EVENTS_TO_STATE.forEach(event =>\r\n      this._video.removeEventListener(event, this._processEventFromVideo),\r\n    );\r\n  }\r\n\r\n  clearTimestamps() {\r\n    this._statesTimestamps = {};\r\n  }\r\n\r\n  private _setInitialTimeStamp() {\r\n    this._initialTimeStamp = Date.now();\r\n  }\r\n\r\n  private _setStateTimestamp(state: EngineState) {\r\n    if (!this._statesTimestamps[state]) {\r\n      this._statesTimestamps[state] = Date.now() - this._initialTimeStamp;\r\n      this._setInitialTimeStamp();\r\n    }\r\n  }\r\n\r\n  get stateTimestamps() {\r\n    return this._statesTimestamps;\r\n  }\r\n\r\n  private _processEventFromVideo(event: any = {}) {\r\n    const videoEl = this._video;\r\n\r\n    switch (event.type) {\r\n      case 'loadstart': {\r\n        this._setInitialTimeStamp();\r\n        this.setState(EngineState.LOAD_STARTED);\r\n        break;\r\n      }\r\n      case 'loadedmetadata': {\r\n        this._setStateTimestamp(EngineState.METADATA_LOADED);\r\n        this.setState(EngineState.METADATA_LOADED);\r\n        this._isMetadataLoaded = true;\r\n        break;\r\n      }\r\n      case 'canplay': {\r\n        this._setStateTimestamp(EngineState.READY_TO_PLAY);\r\n        this.setState(EngineState.READY_TO_PLAY);\r\n        break;\r\n      }\r\n      case 'play': {\r\n        this.setState(EngineState.PLAY_REQUESTED);\r\n        break;\r\n      }\r\n      case 'playing': {\r\n        // Safari triggers event 'playing' even when play request aborted by browser. So we need to check if video is actualy playing\r\n        if (isSafari()) {\r\n          if (!videoEl.paused) {\r\n            this.setState(EngineState.PLAYING);\r\n          }\r\n        } else {\r\n          this.setState(EngineState.PLAYING);\r\n        }\r\n        break;\r\n      }\r\n      case 'waiting': {\r\n        this.setState(EngineState.WAITING);\r\n        break;\r\n      }\r\n      case 'pause': {\r\n        // Safari triggers event 'pause' even when playing was aborted buy autoplay policies, emit pause event even if there wasn't any real playback\r\n        if (isSafari()) {\r\n          if (videoEl.played.length) {\r\n            this.setState(EngineState.PAUSED);\r\n          }\r\n        } else {\r\n          this.setState(EngineState.PAUSED);\r\n        }\r\n        break;\r\n      }\r\n      case 'ended': {\r\n        this.setState(EngineState.ENDED);\r\n        break;\r\n      }\r\n      case 'seeking': {\r\n        this.setState(EngineState.SEEK_IN_PROGRESS);\r\n        break;\r\n      }\r\n      case 'seeked': {\r\n        this.setState(\r\n          videoEl.paused ? EngineState.PAUSED : EngineState.PLAYING,\r\n        );\r\n        break;\r\n      }\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  setState(state: EngineState) {\r\n    if (state === this._currentState) {\r\n      return;\r\n    }\r\n\r\n    //This case is happens only with dash.js sometimes when manifest got some problems\r\n    if (this._currentState === EngineState.METADATA_LOADED) {\r\n      if (\r\n        state === EngineState.SEEK_IN_PROGRESS ||\r\n        state === EngineState.PAUSED\r\n      ) {\r\n        return;\r\n      }\r\n    }\r\n\r\n    this._eventEmitter.emit(VIDEO_EVENTS.STATE_CHANGED, {\r\n      prevState: this._currentState,\r\n      nextState: state,\r\n    });\r\n    this._eventEmitter.emit(state);\r\n    this._currentState = state;\r\n  }\r\n\r\n  get isMetadataLoaded() {\r\n    return this._isMetadataLoaded;\r\n  }\r\n\r\n  get state() {\r\n    return this._currentState;\r\n  }\r\n\r\n  destroy() {\r\n    this._unbindEvents();\r\n\r\n    this._eventEmitter = null;\r\n    this._video = null;\r\n  }\r\n}\r\n","import { IEventEmitter } from '../event-emitter/types';\r\n\r\nimport { VIDEO_EVENTS } from '../../constants';\r\n\r\nexport const NATIVE_VIDEO_TO_BROADCAST = [\r\n  'progress',\r\n  'error',\r\n  'stalled',\r\n  'suspend',\r\n  'durationchange',\r\n  'timeupdate',\r\n  'volumechange',\r\n  'seeking',\r\n];\r\n\r\nexport default class NativeEventsBroadcaster {\r\n  private _eventEmitter: IEventEmitter;\r\n  private _video: HTMLVideoElement;\r\n  private _currentVolume: number;\r\n  private _currentMute: boolean;\r\n\r\n  constructor(eventEmitter: IEventEmitter, video: HTMLVideoElement) {\r\n    this._eventEmitter = eventEmitter;\r\n    this._video = video;\r\n\r\n    this._currentMute = this._video.muted;\r\n    this._currentVolume = this._video.volume;\r\n\r\n    this._bindCallbacks();\r\n    this._bindEvents();\r\n  }\r\n\r\n  private _bindCallbacks() {\r\n    this._processEventFromVideo = this._processEventFromVideo.bind(this);\r\n  }\r\n\r\n  private _bindEvents() {\r\n    NATIVE_VIDEO_TO_BROADCAST.forEach(event =>\r\n      this._video.addEventListener(event, this._processEventFromVideo),\r\n    );\r\n  }\r\n\r\n  private _unbindEvents() {\r\n    NATIVE_VIDEO_TO_BROADCAST.forEach(event =>\r\n      this._video.removeEventListener(event, this._processEventFromVideo),\r\n    );\r\n  }\r\n\r\n  private _processEventFromVideo(event: any = {}) {\r\n    const videoEl = this._video;\r\n\r\n    switch (event.type) {\r\n      case 'progress': {\r\n        this._eventEmitter.emit(VIDEO_EVENTS.CHUNK_LOADED);\r\n        break;\r\n      }\r\n      case 'stalled': {\r\n        this._eventEmitter.emit(VIDEO_EVENTS.UPLOAD_STALLED);\r\n        break;\r\n      }\r\n      case 'suspend': {\r\n        this._eventEmitter.emit(VIDEO_EVENTS.UPLOAD_SUSPEND);\r\n        break;\r\n      }\r\n      case 'seeking': {\r\n        this._eventEmitter.emit(\r\n          VIDEO_EVENTS.SEEK_IN_PROGRESS,\r\n          videoEl.currentTime,\r\n        );\r\n        break;\r\n      }\r\n      case 'durationchange': {\r\n        this._eventEmitter.emit(\r\n          VIDEO_EVENTS.DURATION_UPDATED,\r\n          videoEl.duration,\r\n        );\r\n        break;\r\n      }\r\n      case 'timeupdate': {\r\n        this._eventEmitter.emit(\r\n          VIDEO_EVENTS.CURRENT_TIME_UPDATED,\r\n          videoEl.currentTime,\r\n        );\r\n        break;\r\n      }\r\n      case 'volumechange': {\r\n        if (this._currentVolume !== videoEl.volume) {\r\n          this._currentVolume = videoEl.volume * 100;\r\n          this._eventEmitter.emit(\r\n            VIDEO_EVENTS.VOLUME_CHANGED,\r\n            this._currentVolume,\r\n          );\r\n        }\r\n\r\n        if (this._currentMute !== videoEl.muted) {\r\n          this._currentMute = videoEl.muted;\r\n          this._eventEmitter.emit(VIDEO_EVENTS.MUTE_CHANGED, this._currentMute);\r\n        }\r\n\r\n        this._eventEmitter.emit(VIDEO_EVENTS.VOLUME_STATUS_CHANGED, {\r\n          volume: videoEl.volume,\r\n          muted: videoEl.muted,\r\n        });\r\n        break;\r\n      }\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  destroy() {\r\n    this._unbindEvents();\r\n\r\n    this._video = null;\r\n    this._eventEmitter = null;\r\n  }\r\n}\r\n","import { IPlaybackAdapter } from '../adapters/types';\r\nimport { MediaStreamTypes } from '../../../constants';\r\nimport { IMediaSource } from '../types';\r\n\r\nexport function resolveAdapters(\r\n  mediaStreams: IMediaSource[],\r\n  availableAdapters: IPlaybackAdapter[],\r\n): IPlaybackAdapter[] {\r\n  const playableAdapters: IPlaybackAdapter[] = [];\r\n\r\n  const groupedStreams = groupStreamsByMediaType(mediaStreams);\r\n  const groupedStreamKeys = Object.keys(groupedStreams) as MediaStreamTypes[];\r\n\r\n  availableAdapters.forEach(adapter => {\r\n    for (let i = 0; i < groupedStreamKeys.length; i += 1) {\r\n      const mediaType = groupedStreamKeys[i];\r\n      const mediaStreams = groupedStreams[mediaType];\r\n\r\n      if (adapter.canPlay(mediaType)) {\r\n        adapter.setMediaStreams(mediaStreams);\r\n        playableAdapters.push(adapter);\r\n        break;\r\n      }\r\n    }\r\n  });\r\n\r\n  playableAdapters.sort(\r\n    (firstAdapter, secondAdapter) =>\r\n      secondAdapter.mediaStreamDeliveryPriority -\r\n      firstAdapter.mediaStreamDeliveryPriority,\r\n  );\r\n\r\n  return playableAdapters;\r\n}\r\n\r\nfunction groupStreamsByMediaType(mediaStreams: IMediaSource[]) {\r\n  const typeMap: { [type: string]: IMediaSource[] } = {};\r\n  mediaStreams.forEach((mediaStream: IMediaSource) => {\r\n    if (!mediaStream.type) {\r\n      return;\r\n    }\r\n\r\n    if (!Array.isArray(typeMap[mediaStream.type])) {\r\n      typeMap[mediaStream.type] = [];\r\n    }\r\n    typeMap[mediaStream.type].push(mediaStream);\r\n  });\r\n\r\n  return typeMap;\r\n}\r\n","import { MediaStreamTypes } from '../../../constants';\r\n\r\nconst extensionsMap = Object.create(null);\r\nextensionsMap.mp4 = MediaStreamTypes.MP4;\r\nextensionsMap.webm = MediaStreamTypes.WEBM;\r\nextensionsMap.m3u8 = MediaStreamTypes.HLS;\r\nextensionsMap.mpd = MediaStreamTypes.DASH;\r\nextensionsMap.ogg = MediaStreamTypes.OGG;\r\nextensionsMap.mkv = MediaStreamTypes.MKV;\r\nextensionsMap.mov = MediaStreamTypes.MOV;\r\n\r\nexport function getStreamType(url: string) {\r\n  const anchorElement = document.createElement('a');\r\n  anchorElement.href = url;\r\n  const streamType = extensionsMap[getExtFromPath(anchorElement.pathname)];\r\n\r\n  return streamType || false;\r\n}\r\n\r\nexport function getExtFromPath(path: string) {\r\n  return path\r\n    .split('.')\r\n    .pop()\r\n    .toLowerCase();\r\n}\r\n","import { IEventEmitter } from '../event-emitter/types';\r\n\r\nimport { VIDEO_EVENTS, ERRORS } from '../../constants';\r\n\r\nimport { resolveAdapters } from './utils/adapters-resolver';\r\nimport { getStreamType } from './utils/detect-stream-type';\r\n\r\nimport { IPlaybackAdapter } from './adapters/types';\r\nimport { MediaSource, IMediaSource } from './types';\r\n\r\nexport default class AdaptersStrategy {\r\n  private _video: HTMLVideoElement;\r\n  private _eventEmitter: IEventEmitter;\r\n  private _playableAdapters: IPlaybackAdapter[];\r\n  private _availableAdapters: IPlaybackAdapter[];\r\n  private _attachedAdapter: IPlaybackAdapter;\r\n\r\n  constructor(\r\n    eventEmitter: IEventEmitter,\r\n    video: HTMLVideoElement,\r\n    playbackAdapters: any[] = [],\r\n  ) {\r\n    this._video = video;\r\n    this._eventEmitter = eventEmitter;\r\n    this._playableAdapters = [];\r\n    this._availableAdapters = [];\r\n    this._attachedAdapter = null;\r\n\r\n    playbackAdapters.forEach(\r\n      adapter =>\r\n        adapter.isSupported() &&\r\n        this._availableAdapters.push(new adapter(eventEmitter)),\r\n    );\r\n  }\r\n\r\n  private _autoDetectSourceTypes(\r\n    mediaSources: Array<IMediaSource | string>,\r\n  ): IMediaSource[] {\r\n    return mediaSources.map((mediaSource: IMediaSource | string) => {\r\n      if (typeof mediaSource === 'string') {\r\n        const type = getStreamType(mediaSource);\r\n        if (!type) {\r\n          this._eventEmitter.emit(VIDEO_EVENTS.ERROR, {\r\n            errorType: ERRORS.SRC_PARSE,\r\n            streamSrc: mediaSource,\r\n          });\r\n        }\r\n        return { url: mediaSource, type };\r\n      }\r\n\r\n      return mediaSource;\r\n    });\r\n  }\r\n\r\n  private _resolvePlayableAdapters(src: MediaSource) {\r\n    if (!src) {\r\n      this._playableAdapters = [];\r\n      return;\r\n    }\r\n\r\n    const mediaSources = [].concat(src);\r\n    const mediaStreams = this._autoDetectSourceTypes(mediaSources);\r\n    this._playableAdapters = resolveAdapters(\r\n      mediaStreams,\r\n      this._availableAdapters,\r\n    );\r\n  }\r\n\r\n  private _connectAdapterToVideo() {\r\n    if (this._playableAdapters.length > 0) {\r\n      // Use the first PlayableStream for now\r\n      // Later, we can use the others as fallback\r\n      this._attachedAdapter = this._playableAdapters[0];\r\n      this._attachedAdapter.attach(this._video);\r\n    }\r\n  }\r\n\r\n  private _detachCurrentAdapter() {\r\n    if (this._attachedAdapter) {\r\n      this._attachedAdapter.detach();\r\n      this._attachedAdapter = null;\r\n    }\r\n  }\r\n\r\n  get attachedAdapter() {\r\n    return this._attachedAdapter;\r\n  }\r\n\r\n  connectAdapter(src: MediaSource) {\r\n    this._detachCurrentAdapter();\r\n    this._resolvePlayableAdapters(src);\r\n    this._connectAdapterToVideo();\r\n  }\r\n\r\n  destroy() {\r\n    this._detachCurrentAdapter();\r\n\r\n    this._attachedAdapter = null;\r\n    this._availableAdapters = null;\r\n    this._playableAdapters = null;\r\n\r\n    this._video = null;\r\n  }\r\n}\r\n","import playerAPI from '../../core/player-api-decorator';\r\n\r\nimport StateEngine from './state-engine';\r\nimport NativeEventsBroadcaster from './native-events-broadcaster';\r\nimport AdapterStrategy from './adapters-strategy';\r\n\r\nimport {\r\n  isIPhone,\r\n  isIPod,\r\n  isIPad,\r\n  isAndroid,\r\n} from '../../utils/device-detection';\r\n\r\nimport { VIDEO_EVENTS, EngineState } from '../../constants';\r\nimport { IPlaybackAdapter } from './adapters/types';\r\n\r\nimport { IPlayerConfig } from '../../core/config';\r\nimport {\r\n  IPlaybackEngine,\r\n  IPlaybackEngineDependencies,\r\n  IDebugInfo,\r\n  MediaSource,\r\n  CrossOriginValue,\r\n} from './types';\r\nimport { IEventEmitter } from '../event-emitter/types';\r\n\r\n//TODO: Find source of problem with native HLS on Safari, when playing state triggered but actual playing is delayed\r\nexport default class Engine implements IPlaybackEngine {\r\n  static moduleName = 'engine';\r\n  static dependencies = ['eventEmitter', 'config', 'availablePlaybackAdapters'];\r\n\r\n  private _eventEmitter: IEventEmitter;\r\n  private _currentSrc: MediaSource;\r\n  private _stateEngine: StateEngine;\r\n  private _video: HTMLVideoElement;\r\n  private _nativeEventsBroadcaster: NativeEventsBroadcaster;\r\n  private _adapterStrategy: AdapterStrategy;\r\n  private _playPromise: Promise<any>;\r\n  private _pauseRequested: boolean;\r\n\r\n  constructor({\r\n    eventEmitter,\r\n    config,\r\n    availablePlaybackAdapters = [],\r\n  }: IPlaybackEngineDependencies) {\r\n    this._eventEmitter = eventEmitter;\r\n\r\n    this._currentSrc = null;\r\n\r\n    this._createVideoTag(config.videoElement);\r\n\r\n    this._stateEngine = new StateEngine(eventEmitter, this._video);\r\n    this._nativeEventsBroadcaster = new NativeEventsBroadcaster(\r\n      eventEmitter,\r\n      this._video,\r\n    );\r\n    this._adapterStrategy = new AdapterStrategy(\r\n      this._eventEmitter,\r\n      this._video,\r\n      availablePlaybackAdapters,\r\n    );\r\n\r\n    this._applyConfig(config);\r\n  }\r\n\r\n  private _createVideoTag(videoElement?: HTMLVideoElement) {\r\n    if (videoElement && videoElement.tagName === 'VIDEO') {\r\n      this._video = videoElement;\r\n    } else {\r\n      this._video = document.createElement('video');\r\n    }\r\n  }\r\n  private _applyConfig(config: IPlayerConfig = {}) {\r\n    const {\r\n      preload,\r\n      autoPlay,\r\n      loop,\r\n      muted,\r\n      volume,\r\n      playInline,\r\n      crossOrigin,\r\n      src,\r\n    } = config;\r\n\r\n    this.setPreload(preload);\r\n    this.setAutoPlay(autoPlay);\r\n    this.setLoop(loop);\r\n    this.setMute(muted);\r\n    this.setVolume(volume);\r\n    this.setPlayInline(playInline);\r\n    this.setCrossOrigin(crossOrigin);\r\n\r\n    this.setSrc(src);\r\n  }\r\n\r\n  getNode() {\r\n    return this._video;\r\n  }\r\n\r\n  private _getViewDimensions() {\r\n    return {\r\n      width: this._video.offsetWidth,\r\n      height: this._video.offsetHeight,\r\n    };\r\n  }\r\n\r\n  get isDynamicContent() {\r\n    if (!this.attachedAdapter) {\r\n      return false;\r\n    }\r\n\r\n    return this.attachedAdapter.isDynamicContent;\r\n  }\r\n\r\n  get isDynamicContentEnded() {\r\n    if (!this.attachedAdapter) {\r\n      return false;\r\n    }\r\n\r\n    return this.attachedAdapter.isDynamicContentEnded;\r\n  }\r\n\r\n  get isSeekAvailable() {\r\n    if (!this.attachedAdapter) {\r\n      return false;\r\n    }\r\n\r\n    return this.attachedAdapter.isSeekAvailable;\r\n  }\r\n\r\n  get isMetadataLoaded() {\r\n    return this._stateEngine.isMetadataLoaded;\r\n  }\r\n\r\n  get isPreloadAvailable() {\r\n    if (isIPad() || isIPhone() || isIPod() || isAndroid()) {\r\n      return false;\r\n    }\r\n\r\n    return this.getPreload() !== 'none';\r\n  }\r\n\r\n  get isAutoPlayAvailable() {\r\n    if (isIPad() || isIPhone() || isIPod() || isAndroid()) {\r\n      return false;\r\n    }\r\n\r\n    return this.getAutoPlay();\r\n  }\r\n\r\n  get isSyncWithLive(): boolean {\r\n    if (!this.attachedAdapter) {\r\n      return false;\r\n    }\r\n\r\n    return this.attachedAdapter.isSyncWithLive;\r\n  }\r\n\r\n  get attachedAdapter(): IPlaybackAdapter {\r\n    return this._adapterStrategy.attachedAdapter;\r\n  }\r\n\r\n  /**\r\n   * Method for setting source of video to player.\r\n   * @param src Array with multiple sources\r\n   * @example\r\n   * player.setSrc([\r\n   *   'https://my-url/video.mp4',\r\n   *   'https://my-url/video.webm',\r\n   *   'https://my-url/video.m3u8'\r\n   * ]);\r\n   * @note\r\n   * Read more about [video source](/video-source)\r\n   */\r\n  @playerAPI()\r\n  setSrc(src: MediaSource) {\r\n    if (src === this._currentSrc) {\r\n      return;\r\n    }\r\n\r\n    this._stateEngine.clearTimestamps();\r\n    this._currentSrc = src;\r\n    this._adapterStrategy.connectAdapter(this._currentSrc);\r\n\r\n    this._stateEngine.setState(EngineState.SRC_SET);\r\n  }\r\n\r\n  /**\r\n   * Return current source of video\r\n   * @example\r\n   * player.getSrc(); // ['https://my-url/video.mp4']\r\n   */\r\n  @playerAPI()\r\n  getSrc(): MediaSource {\r\n    return this._currentSrc;\r\n  }\r\n\r\n  @playerAPI()\r\n  reset() {\r\n    this.pause();\r\n    this.setCurrentTime(0);\r\n    this._eventEmitter.emit(VIDEO_EVENTS.RESET);\r\n  }\r\n\r\n  /**\r\n   * Method for starting playback of video\r\n   * @example\r\n   * player.play();\r\n   */\r\n  @playerAPI()\r\n  play() {\r\n    //Workaround for triggering functionality that requires user event pipe\r\n    this._eventEmitter.emit(VIDEO_EVENTS.PLAY_REQUEST_TRIGGERED);\r\n\r\n    this._pauseRequested = false;\r\n\r\n    if (!this._playPromise) {\r\n      this._playPromise = this._video.play();\r\n      if (this._playPromise !== undefined) {\r\n        this._playPromise\r\n          .then(() => {\r\n            this._playPromise = null;\r\n\r\n            if (this._pauseRequested) {\r\n              this.pause();\r\n            }\r\n          })\r\n          .catch(event => {\r\n            this._eventEmitter.emit(VIDEO_EVENTS.PLAY_ABORTED, event);\r\n            this._playPromise = null;\r\n          });\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Method for pausing playback of video\r\n   * @example\r\n   * player.pause();\r\n   */\r\n  @playerAPI()\r\n  pause() {\r\n    if (this._playPromise) {\r\n      this._pauseRequested = true;\r\n    } else {\r\n      this._video.pause();\r\n      this._pauseRequested = false;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Method for toggling(play\\pause) playback of video\r\n   * @example\r\n   * player.togglePlayback();\r\n   */\r\n  @playerAPI()\r\n  togglePlayback() {\r\n    if (this.isVideoPaused) {\r\n      this.play();\r\n    } else {\r\n      this.pause();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Method for reseting playback of video\r\n   * @example\r\n   * player.play();\r\n   * console.log(player.isVideoPaused); // false\r\n   * ...\r\n   * player.resetPlayback();\r\n   * console.log(player.isVideoPaused); // true;\r\n   * console.log(player.getCurrentTime()); //0;\r\n   */\r\n  @playerAPI()\r\n  resetPlayback() {\r\n    this.pause();\r\n    this.setCurrentTime(0);\r\n    this._eventEmitter.emit(VIDEO_EVENTS.RESET);\r\n  }\r\n\r\n  /**\r\n   * High level status of video playback. Returns true if playback is paused.\r\n   * For more advance state use `getCurrentPlaybackState`\r\n   * @example\r\n   * player.play();\r\n   * console.log(player.isVideoPaused);\r\n   */\r\n  @playerAPI()\r\n  get isVideoPaused(): boolean {\r\n    return this._video.paused;\r\n  }\r\n\r\n  /**\r\n   * High level status of video playback. Returns true if playback is ended. Also note, that `isPaused` will return `true` if playback is ended also.\r\n   * For more advance state use `getCurrentPlaybackState`\r\n   * @example\r\n   * player.play();\r\n   * console.log(player.isVideoEnded);\r\n   */\r\n  @playerAPI()\r\n  get isVideoEnded(): boolean {\r\n    return this._video.ended;\r\n  }\r\n\r\n  /**\r\n   * Method for synchronize current playback with live point. Available only if you playing live source.\r\n   * @example\r\n   * player.syncWithLive();\r\n   */\r\n  @playerAPI()\r\n  syncWithLive() {\r\n    if (\r\n      this.attachedAdapter &&\r\n      this.attachedAdapter.isDynamicContent &&\r\n      !this.attachedAdapter.isDynamicContentEnded &&\r\n      !this.isSyncWithLive\r\n    ) {\r\n      this.setCurrentTime(this.attachedAdapter.syncWithLiveTime);\r\n\r\n      this.play();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Method for going forward in playback by your value\r\n   * @param sec - Value in seconds\r\n   * @example\r\n   * player.goForward(5);\r\n   */\r\n  @playerAPI()\r\n  goForward(sec: number) {\r\n    const duration = this.getDurationTime();\r\n\r\n    if (duration) {\r\n      const current = this.getCurrentTime();\r\n      this.setCurrentTime(Math.min(current + sec, duration));\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Method for going backward in playback by your value\r\n   * @param sec - Value in seconds\r\n   * @example\r\n   * player.goBackward(5);\r\n   */\r\n  @playerAPI()\r\n  goBackward(sec: number) {\r\n    const duration = this.getDurationTime();\r\n\r\n    if (duration) {\r\n      const current = this.getCurrentTime();\r\n      this.setCurrentTime(Math.max(current - sec, 0));\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Set volume\r\n   * @param volume - Volume value `0..100`\r\n   * @example\r\n   * player.setVolume(50);\r\n   */\r\n  @playerAPI()\r\n  setVolume(volume: number) {\r\n    const parsedVolume = Number(volume);\r\n    this._video.volume = isNaN(parsedVolume)\r\n      ? 1\r\n      : Math.max(0, Math.min(Number(volume) / 100, 1));\r\n  }\r\n\r\n  /**\r\n   * Get volume\r\n   * @example\r\n   * player.getVolume(); // 50\r\n   */\r\n  @playerAPI()\r\n  getVolume(): number {\r\n    return this._video.volume * 100;\r\n  }\r\n\r\n  /**\r\n   * Method for increasing current volume by value\r\n   * @param value - Value from 0 to 100\r\n   * @example\r\n   * player.increaseVolume(30);\r\n   */\r\n  @playerAPI()\r\n  increaseVolume(value: number) {\r\n    this.setVolume(this.getVolume() + value);\r\n  }\r\n\r\n  /**\r\n   * Method for decreasing current volume by value\r\n   * @param value - Value from 0 to 100\r\n   * @example\r\n   * player.decreaseVolume(30);\r\n   */\r\n  @playerAPI()\r\n  decreaseVolume(value: number) {\r\n    this.setVolume(this.getVolume() - value);\r\n  }\r\n\r\n  /**\r\n   * Mute or unmute the video\r\n   * @param isMuted - `true` to mute the video.\r\n   * @example\r\n   * player.setMute(true);\r\n   */\r\n  @playerAPI()\r\n  setMute(isMuted: boolean) {\r\n    this._video.muted = Boolean(isMuted);\r\n  }\r\n\r\n  /**\r\n   * Get mute flag\r\n   * @example\r\n   * player.getMute(); // true\r\n   */\r\n  @playerAPI()\r\n  getMute(): boolean {\r\n    return this._video.muted;\r\n  }\r\n\r\n  /**\r\n   * Set autoPlay flag\r\n   * @example\r\n   * player.setAutoPlay();\r\n   */\r\n  @playerAPI()\r\n  setAutoPlay(isAutoPlay: boolean) {\r\n    this._video.autoplay = Boolean(isAutoPlay);\r\n  }\r\n\r\n  /**\r\n   * Get autoPlay flag\r\n   * @example\r\n   * player.getAutoPlay(); // true\r\n   */\r\n  @playerAPI()\r\n  getAutoPlay(): boolean {\r\n    return this._video.autoplay;\r\n  }\r\n\r\n  /**\r\n   * Set loop flag\r\n   * @param isLoop - If `true` video will be played again after it will finish\r\n   * @example\r\n   * player.setLoop(true);\r\n   */\r\n  @playerAPI()\r\n  setLoop(isLoop: boolean) {\r\n    this._video.loop = Boolean(isLoop);\r\n  }\r\n\r\n  /**\r\n   * Get loop flag\r\n   * @example\r\n   * player.getLoop(); // true\r\n   */\r\n  @playerAPI()\r\n  getLoop(): boolean {\r\n    return this._video.loop;\r\n  }\r\n\r\n  /**\r\n   * Method for setting playback rate\r\n   */\r\n  @playerAPI()\r\n  setPlaybackRate(rate: number) {\r\n    this._video.playbackRate = rate;\r\n  }\r\n\r\n  /**\r\n   * Return current playback rate\r\n   */\r\n  @playerAPI()\r\n  getPlaybackRate(): number {\r\n    return this._video.playbackRate;\r\n  }\r\n\r\n  /**\r\n   * Set preload type\r\n   * @example\r\n   * player.setPreload('none');\r\n   */\r\n  @playerAPI()\r\n  setPreload(preload: 'auto' | 'metadata' | 'none') {\r\n    this._video.preload = preload || 'auto';\r\n  }\r\n\r\n  /**\r\n   * Return preload type\r\n   * @example\r\n   * player.getPreload(); // none\r\n   */\r\n  @playerAPI()\r\n  getPreload(): string {\r\n    return this._video.preload;\r\n  }\r\n\r\n  /**\r\n   * Return current time of video playback\r\n   * @example\r\n   * player.getCurrentTime(); //  60.139683\r\n   */\r\n  @playerAPI()\r\n  getCurrentTime(): number {\r\n    return this._video.currentTime;\r\n  }\r\n\r\n  /**\r\n   * Method for seeking to time in video\r\n   * @param time - Time in seconds\r\n   * @example\r\n   * player.goTo(34);\r\n   */\r\n  @playerAPI('goTo')\r\n  setCurrentTime(time: number) {\r\n    this._video.currentTime = time;\r\n  }\r\n\r\n  /**\r\n   * Return duration of video\r\n   * @example\r\n   * player.getDurationTime(); // 180.149745\r\n   */\r\n  @playerAPI()\r\n  getDurationTime(): number {\r\n    return this._video.duration || 0;\r\n  }\r\n\r\n  /**\r\n   * Return real width of video from metadata\r\n   * @example\r\n   * player.getVideoWidth(); // 400\r\n   */\r\n  @playerAPI('getVideoRealWidth')\r\n  getVideoWidth(): number {\r\n    return this._video.videoWidth;\r\n  }\r\n\r\n  /**\r\n   * Return real height of video from metadata\r\n   * @example\r\n   * player.getVideoHeight(); // 225\r\n   */\r\n  @playerAPI('getVideoRealHeight')\r\n  getVideoHeight(): number {\r\n    return this._video.videoHeight;\r\n  }\r\n\r\n  getBuffered() {\r\n    return this._video.buffered;\r\n  }\r\n\r\n  /**\r\n   * Set playInline flag\r\n   * @param isPlayInline - If `false` - video will be played in full screen, `true` - inline\r\n   * @example\r\n   * player.setPlayInline(true);\r\n   */\r\n  @playerAPI()\r\n  setPlayInline(isPlayInline: boolean) {\r\n    if (isPlayInline) {\r\n      this._video.setAttribute('playsInline', 'true');\r\n    } else {\r\n      this._video.removeAttribute('playsInline');\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get playInline flag\r\n   * @example\r\n   * player.getPlayInline(); // true\r\n   */\r\n  @playerAPI()\r\n  getPlayInline(): boolean {\r\n    return this._video.getAttribute('playsInline') === 'true';\r\n  }\r\n\r\n  /**\r\n   * Set crossorigin attribute for video\r\n   * @example\r\n   * player.setCrossOrigin('anonymous');\r\n   */\r\n  @playerAPI()\r\n  setCrossOrigin(crossOrigin?: 'anonymous' | 'use-credentials') {\r\n    if (crossOrigin) {\r\n      this._video.setAttribute('crossorigin', crossOrigin);\r\n    } else {\r\n      this._video.removeAttribute('crossorigin');\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get crossorigin attribute value for video\r\n   * @example\r\n   * player.getCrossOrigin(); // 'anonymous'\r\n   */\r\n  @playerAPI()\r\n  getCrossOrigin(): CrossOriginValue {\r\n    return this._video.getAttribute('crossorigin') as CrossOriginValue;\r\n  }\r\n\r\n  /**\r\n   * Return current state of playback\r\n   */\r\n  @playerAPI('getCurrentPlaybackState')\r\n  getCurrentState() {\r\n    return this._stateEngine.state;\r\n  }\r\n\r\n  /**\r\n   * Return object with internal debug info\r\n   *\r\n   * @example\r\n   * player.getDebugInfo();\r\n   *\r\n   * @note\r\n   * The above command returns JSON structured like this:\r\n   *\r\n   * @example\r\n   * {\r\n   *   \"type\": \"HLS\",\r\n   *   \"viewDimensions\": {\r\n   *     \"width\": 700,\r\n   *     \"height\": 394\r\n   *   }\r\n   *   \"url\": \"https://example.com/video.m3u8\",\r\n   *   \"currentTime\": 22.092514,\r\n   *   \"duration\": 60.139683,\r\n   *   \"loadingStateTimestamps\": {\r\n   *     \"metadata-loaded\": 76,\r\n   *     \"ready-to-play\": 67\r\n   *   },\r\n   *   \"bitrates\": [\r\n   *     // Available bitrates\r\n   *     \"100000\",\r\n   *     \"200000\",\r\n   *     ...\r\n   *   ],\r\n   *   // One of available bitrates, that used right now\r\n   *   \"currentBitrate\": \"100000\",\r\n   *   // Raw estimation of bandwidth, that could be used without playback stall\r\n   *   \"bwEstimate\": \"120000\"\r\n   *   \"overallBufferLength\": 60.139683,\r\n   *   \"nearestBufferSegInfo\": {\r\n   *     \"start\": 0,\r\n   *     \"end\": 60.139683\r\n   *   }\r\n   * }\r\n   */\r\n  @playerAPI()\r\n  getDebugInfo(): IDebugInfo {\r\n    const { duration, currentTime } = this._video;\r\n    let data;\r\n\r\n    if (this._adapterStrategy.attachedAdapter) {\r\n      data = this._adapterStrategy.attachedAdapter.debugInfo;\r\n    }\r\n\r\n    return {\r\n      ...data,\r\n      viewDimensions: this._getViewDimensions(),\r\n      currentTime,\r\n      duration,\r\n      loadingStateTimestamps: this._stateEngine.stateTimestamps,\r\n    };\r\n  }\r\n\r\n  destroy() {\r\n    this._stateEngine.destroy();\r\n    this._nativeEventsBroadcaster.destroy();\r\n    this._adapterStrategy.destroy();\r\n    this._video.parentNode && this._video.parentNode.removeChild(this._video);\r\n\r\n    this._stateEngine = null;\r\n    this._nativeEventsBroadcaster = null;\r\n    this._adapterStrategy = null;\r\n    this._eventEmitter = null;\r\n    this._video = null;\r\n  }\r\n}\r\n","const SHORTHAND_HEX_COLOR_PATTERN = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\r\nconst HEX_COLOR_PATTERN = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i;\r\n\r\ntype IRGB = {\r\n  r: number;\r\n  g: number;\r\n  b: number;\r\n};\r\n\r\nfunction hexToRgb(hex: string): IRGB {\r\n  hex = hex.replace(\r\n    SHORTHAND_HEX_COLOR_PATTERN,\r\n    (_, r, g, b) => r + r + g + g + b + b,\r\n  );\r\n\r\n  const result = hex.match(HEX_COLOR_PATTERN);\r\n  return result\r\n    ? {\r\n        r: parseInt(result[1], 16),\r\n        g: parseInt(result[2], 16),\r\n        b: parseInt(result[3], 16),\r\n      }\r\n    : null;\r\n}\r\n\r\nexport default hexToRgb;\r\n","import hexToRgb from './hexToRgb';\r\n\r\nfunction transperentizeColor(color: string, alpha: number) {\r\n  const { r, g, b } = hexToRgb(color);\r\n  return `rgba(${r},${g},${b},${alpha})`;\r\n}\r\n\r\nexport default transperentizeColor;\r\n","function camelToKebab(string: string): string {\r\n  return string.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\r\n}\r\n\r\nexport default camelToKebab;\r\n","import camelToKebab from './camelToKebab';\r\n\r\nconst generatedIds: Map<string, number> = new Map();\r\n\r\nfunction getUniquePostfix(className: string): string {\r\n  if (generatedIds.has(className)) {\r\n    const newID: number = generatedIds.get(className) + 1;\r\n    generatedIds.set(className, newID);\r\n\r\n    return `${newID}`;\r\n  }\r\n\r\n  generatedIds.set(className, 0);\r\n  return '';\r\n}\r\n\r\nfunction getUniqueId(classImportName: string): string {\r\n  const kebabName: string = camelToKebab(classImportName);\r\n\r\n  return `${kebabName}${getUniquePostfix(kebabName)}`;\r\n}\r\n\r\nexport default getUniqueId;\r\n","import getUniqueId from './getUniqueId';\n\nfunction getUniqueClassName(classImportName: string) {\n  return `wix-playable--${getUniqueId(classImportName)}`;\n}\n\nfunction generateClassNames(rules: Playable.ICSSRules): Playable.IStyles {\n  return Object.keys(rules).reduce(\n    (acc, classImportName) => ({\n      ...acc,\n      [classImportName]: getUniqueClassName(classImportName),\n    }),\n    {},\n  );\n}\n\nexport default generateClassNames;\n","import camelToKebab from './utils/camelToKebab';\nimport generateClassNames from './utils/generateClassNames';\n\nexport class StyleSheet {\n  private _rulesByModule: Map<object, Playable.ICSSRules> = new Map();\n  private _classNamesByModule: Map<object, Playable.IStyles> = new Map();\n  private _data: any = {};\n  private _styleNode: Element;\n\n  attach() {\n    this._styleNode = this._styleNode || document.createElement('style');\n\n    const discoveredStyles: string[] = [];\n    this._rulesByModule.forEach((_, module) => {\n      discoveredStyles.push(this._getModuleCSS(module));\n    });\n\n    this._styleNode.innerHTML = discoveredStyles.join(' ');\n\n    document.getElementsByTagName('head')[0].appendChild(this._styleNode);\n  }\n\n  update(data: any) {\n    this._data = {\n      ...this._data,\n      ...data,\n    };\n\n    if (this._styleNode) {\n      this.attach();\n    }\n  }\n\n  registerModuleTheme(module: object, rules: Playable.ICSSRules) {\n    //todo maybe we would like to update overrides for module? Or at least show warning instead of Error\n    if (this._rulesByModule.get(module)) {\n      throw new Error('can`t register multiple themes for one module');\n    }\n\n    this._rulesByModule.set(module, rules);\n    this._classNamesByModule.set(module, generateClassNames(rules));\n  }\n\n  getModuleClassNames(module: any): Playable.IStyles {\n    return this._classNamesByModule.get(module);\n  }\n\n  private _getModuleCSS(module: any): string {\n    const moduleRules = this._rulesByModule.get(module);\n    const moduleClassNames = this._classNamesByModule.get(module);\n\n    if (!moduleRules || !moduleClassNames) {\n      return '';\n    }\n\n    return Object.keys(moduleRules)\n      .map(classImportName =>\n        this._getRuleCSS(\n          moduleRules[classImportName],\n          moduleClassNames[classImportName],\n        ),\n      )\n      .join(' ');\n  }\n\n  private _getRuleCSS(rule: Playable.ICSSRule, ruleClassName: string): string {\n    if (!rule || !ruleClassName) {\n      return '';\n    }\n\n    const complexRuleNames = Object.keys(rule)\n      .filter(ruleName => typeof rule[ruleName] === 'object')\n      .map(\n        ruleName => (ruleName.indexOf('&') !== -1 ? ruleName : `& ${ruleName}`),\n      );\n\n    const complexRules = complexRuleNames\n      .map(ruleName => {\n        const selector = ruleName.replace(/&/g, `.${ruleClassName}`);\n        //don't want to allow deep nesting now, maybe later\n        return `${selector} {${this._getRuleStyles(rule[ruleName])}}`;\n      })\n      .join(' ');\n\n    return `.${ruleClassName} {${this._getRuleStyles(rule)}} ${complexRules}`;\n  }\n\n  private _getRuleStyles(rule: any) {\n    const simpleRuleNames: Array<string> = Object.keys(rule).filter(\n      ruleName => typeof rule[ruleName] !== 'object',\n    );\n\n    return simpleRuleNames\n      .map(\n        ruleName =>\n          `${camelToKebab(ruleName)}: ${\n            typeof rule[ruleName] === 'function'\n              ? (rule[ruleName] as Playable.ICSSRuleFunction)(this._data)\n              : rule[ruleName]\n          }`,\n      )\n      .join('; ');\n  }\n}\n","import { StyleSheet } from './style-sheet';\n\nimport playerAPI from '../../../../core/player-api-decorator';\n\nconst DEFAULT_THEME_CONFIG = {\n  color: '#FFF',\n  liveColor: '#ea492e',\n  progressColor: '#FFF',\n};\n\nclass ThemeService implements Playable.IThemeService {\n  static moduleName = 'theme';\n  static dependencies = ['themeConfig'];\n\n  private _styleSheet: StyleSheet;\n\n  constructor({ themeConfig }: { themeConfig: Playable.IThemeConfig }) {\n    this._styleSheet = new StyleSheet();\n\n    this._styleSheet.update({\n      ...DEFAULT_THEME_CONFIG,\n      ...themeConfig,\n    });\n\n    // setTimeout here is for calling `attach` after all modules resolved.\n    window.setTimeout(() => {\n      this._styleSheet && this._styleSheet.attach();\n    }, 0);\n  }\n\n  /**\n   * Method for setting theme for player instance\n   *\n   * @example\n   * player.updateTheme({\n   *   progressColor: \"#AEAD22\"\n   * })\n   * @note\n   *\n   * You can check info about theming [here](/themes)\n   *\n   * @param themeConfig - Theme config\n   *\n   */\n  @playerAPI()\n  updateTheme(themeConfig: Playable.IThemeConfig) {\n    this._styleSheet.update(themeConfig);\n  }\n\n  registerModuleTheme(module: object, rules: Playable.ICSSRules) {\n    this._styleSheet.registerModuleTheme(module, rules);\n  }\n\n  get(module: any) {\n    return this._styleSheet.getModuleClassNames(module);\n  }\n\n  destroy() {\n    this._styleSheet = null;\n  }\n}\n\nexport { DEFAULT_THEME_CONFIG };\n\nexport default ThemeService;\n","import { TEXT_LABELS } from '../../constants';\n\nconst map: Playable.ITextMapConfig = {\n  [TEXT_LABELS.LOGO_LABEL]: 'Watch On Site',\n  [TEXT_LABELS.LOGO_TOOLTIP]: 'Watch On Site',\n  [TEXT_LABELS.LIVE_INDICATOR_TEXT]: ({ isEnded }) =>\n    !isEnded ? 'Live' : 'Live Ended',\n  [TEXT_LABELS.LIVE_SYNC_LABEL]: 'Sync to Live',\n  [TEXT_LABELS.LIVE_SYNC_TOOLTIP]: 'Sync to Live',\n  [TEXT_LABELS.PAUSE_CONTROL_LABEL]: 'Pause',\n  [TEXT_LABELS.PLAY_CONTROL_LABEL]: 'Play',\n  [TEXT_LABELS.PROGRESS_CONTROL_LABEL]: 'Progress control',\n  [TEXT_LABELS.PROGRESS_CONTROL_VALUE]: ({ percent }) =>\n    `Already played ${percent}%`,\n  [TEXT_LABELS.MUTE_CONTROL_LABEL]: 'Mute',\n  [TEXT_LABELS.MUTE_CONTROL_TOOLTIP]: 'Mute',\n  [TEXT_LABELS.UNMUTE_CONTROL_LABEL]: 'Unmute',\n  [TEXT_LABELS.UNMUTE_CONTROL_TOOLTIP]: 'Unmute',\n  [TEXT_LABELS.VOLUME_CONTROL_LABEL]: 'Volume control',\n  [TEXT_LABELS.VOLUME_CONTROL_VALUE]: ({ volume }) => `Volume is ${volume}%`,\n  [TEXT_LABELS.ENTER_FULL_SCREEN_LABEL]: 'Enter full screen mode',\n  [TEXT_LABELS.ENTER_FULL_SCREEN_TOOLTIP]: 'Enter full screen mode',\n  [TEXT_LABELS.EXIT_FULL_SCREEN_LABEL]: 'Exit full screen mode',\n  [TEXT_LABELS.EXIT_FULL_SCREEN_TOOLTIP]: 'Exit full screen mode',\n};\n\nexport default map;\n","import DEFAULT_TEXTS from './default-texts';\n\nimport { IPlayerConfig } from '../../core/config';\n\nexport default class TextMap implements Playable.ITextMap {\n  static moduleName = 'textMap';\n  static dependencies = ['config'];\n\n  private _textMap: Playable.ITextMapConfig;\n\n  constructor({ config }: { config: IPlayerConfig }) {\n    this._textMap = {\n      ...DEFAULT_TEXTS,\n      ...config.texts,\n    };\n  }\n\n  get(id: string, args: any): string {\n    if (!this._textMap) {\n      return;\n    }\n\n    const text = this._textMap[id];\n\n    if (typeof text === 'function') {\n      return text(args);\n    }\n\n    return text;\n  }\n\n  destroy() {\n    this._textMap = null;\n  }\n}\n","import { IFullScreenHelper } from './types';\r\n\r\nconst fnMap = [\r\n  [\r\n    'requestFullscreen',\r\n    'exitFullscreen',\r\n    'fullscreenElement',\r\n    'fullscreenEnabled',\r\n    'fullscreenchange',\r\n    'fullscreenerror',\r\n  ],\r\n  // new WebKit\r\n  [\r\n    'webkitRequestFullscreen',\r\n    'webkitExitFullscreen',\r\n    'webkitFullscreenElement',\r\n    'webkitFullscreenEnabled',\r\n    'webkitfullscreenchange',\r\n    'webkitfullscreenerror',\r\n  ],\r\n  // old WebKit (Safari 5.1)\r\n  [\r\n    'webkitRequestFullScreen',\r\n    'webkitCancelFullScreen',\r\n    'webkitCurrentFullScreenElement',\r\n    'webkitCancelFullScreen',\r\n    'webkitfullscreenchange',\r\n    'webkitfullscreenerror',\r\n  ],\r\n  [\r\n    'mozRequestFullScreen',\r\n    'mozCancelFullScreen',\r\n    'mozFullScreenElement',\r\n    'mozFullScreenEnabled',\r\n    'mozfullscreenchange',\r\n    'mozfullscreenerror',\r\n  ],\r\n  [\r\n    'msRequestFullscreen',\r\n    'msExitFullscreen',\r\n    'msFullscreenElement',\r\n    'msFullscreenEnabled',\r\n    'MSFullscreenChange',\r\n    'MSFullscreenError',\r\n  ],\r\n];\r\n\r\n/* ignore coverage */\r\nfunction getFullScreenFn(): IFullScreenFnMap | boolean {\r\n  const ret: IFullScreenFnMap = {};\r\n\r\n  for (let i = 0; i < fnMap.length; i += 1) {\r\n    if (fnMap[i][1] in document) {\r\n      for (let j = 0; j < fnMap[i].length; j += 1) {\r\n        ret[fnMap[0][j]] = fnMap[i][j];\r\n      }\r\n      return ret;\r\n    }\r\n  }\r\n\r\n  return false;\r\n}\r\n\r\ninterface IFullScreenFnMap {\r\n  [fn: string]: string;\r\n}\r\n\r\nexport default class DesktopFullScreen implements IFullScreenHelper {\r\n  private _elem: HTMLElement;\r\n  private _callback: EventListener;\r\n  private _fullscreenFn: IFullScreenFnMap | boolean;\r\n\r\n  constructor(elem: HTMLElement, callback: EventListener) {\r\n    this._elem = elem;\r\n    this._callback = callback;\r\n    this._fullscreenFn = getFullScreenFn();\r\n\r\n    this._bindEvents();\r\n  }\r\n\r\n  get isAPIExist() {\r\n    return Boolean(this._fullscreenFn);\r\n  }\r\n\r\n  get isInFullScreen() {\r\n    if (typeof this._fullscreenFn === 'boolean') {\r\n      return false;\r\n    }\r\n\r\n    return Boolean((document as any)[this._fullscreenFn.fullscreenElement]);\r\n  }\r\n\r\n  get isEnabled() {\r\n    if (typeof this._fullscreenFn === 'boolean') {\r\n      return false;\r\n    }\r\n\r\n    return (\r\n      this.isAPIExist && (document as any)[this._fullscreenFn.fullscreenEnabled]\r\n    );\r\n  }\r\n\r\n  private _bindEvents() {\r\n    if (typeof this._fullscreenFn === 'boolean') {\r\n      return false;\r\n    }\r\n\r\n    document.addEventListener(\r\n      this._fullscreenFn.fullscreenchange,\r\n      this._callback,\r\n    );\r\n  }\r\n\r\n  private _unbindEvents() {\r\n    if (typeof this._fullscreenFn === 'boolean') {\r\n      return false;\r\n    }\r\n\r\n    document.removeEventListener(\r\n      this._fullscreenFn.fullscreenchange,\r\n      this._callback,\r\n    );\r\n  }\r\n\r\n  request() {\r\n    if (!this.isEnabled) {\r\n      return;\r\n    }\r\n\r\n    const request = (this._fullscreenFn as IFullScreenFnMap).requestFullscreen;\r\n\r\n    // Work around Safari 5.1 bug: reports support for\r\n    // keyboard in fullscreen even though it doesn't.\r\n    // Browser sniffing, since the alternative with\r\n    // setTimeout is even worse.\r\n\r\n    if (/5\\.1[.\\d]* Safari/.test(navigator.userAgent)) {\r\n      (this._elem as any)[request]();\r\n    } else {\r\n      (this._elem as any)[request]((Element as any).ALLOW_KEYBOARD_INPUT);\r\n    }\r\n  }\r\n\r\n  exit() {\r\n    if (!this.isEnabled) {\r\n      return;\r\n    }\r\n\r\n    (document as any)[\r\n      (this._fullscreenFn as IFullScreenFnMap).exitFullscreen\r\n    ]();\r\n  }\r\n\r\n  destroy() {\r\n    this._unbindEvents();\r\n\r\n    this._elem = null;\r\n    this._callback = null;\r\n  }\r\n}\r\n","import { IFullScreenHelper } from './types';\r\n\r\nconst HAVE_METADATA = 1;\r\n\r\nlet isFullScreenRequested = false;\r\n\r\nexport default class IOSFullScreen implements IFullScreenHelper {\r\n  private _elem: HTMLVideoElement;\r\n  private _callback: EventListener;\r\n\r\n  constructor(elem: HTMLVideoElement, callback: EventListener) {\r\n    this._elem = elem;\r\n    this._callback = callback;\r\n\r\n    this._bindEvents();\r\n\r\n    this._enterWhenHasMetaData = this._enterWhenHasMetaData.bind(this);\r\n  }\r\n\r\n  get isAPIExist() {\r\n    return Boolean(this._elem && this._elem.webkitSupportsFullscreen);\r\n  }\r\n\r\n  get isInFullScreen() {\r\n    return Boolean(this._elem && this._elem.webkitDisplayingFullscreen);\r\n  }\r\n\r\n  get isEnabled() {\r\n    return this.isAPIExist;\r\n  }\r\n\r\n  private _bindEvents() {\r\n    this._elem.addEventListener('webkitbeginfullscreen', this._callback);\r\n    this._elem.addEventListener('webkitendfullscreen', this._callback);\r\n  }\r\n\r\n  private _unbindEvents() {\r\n    this._elem.removeEventListener('webkitbeginfullscreen', this._callback);\r\n    this._elem.removeEventListener('webkitendfullscreen', this._callback);\r\n\r\n    this._elem.removeEventListener(\r\n      'loadedmetadata',\r\n      this._enterWhenHasMetaData,\r\n    );\r\n  }\r\n\r\n  private _enterWhenHasMetaData() {\r\n    this._elem.removeEventListener(\r\n      'loadedmetadata',\r\n      this._enterWhenHasMetaData,\r\n    );\r\n\r\n    isFullScreenRequested = false;\r\n\r\n    this._elem.webkitEnterFullscreen();\r\n  }\r\n\r\n  request() {\r\n    if (!this.isEnabled || this.isInFullScreen) {\r\n      return false;\r\n    }\r\n\r\n    try {\r\n      this._elem.webkitEnterFullscreen();\r\n    } catch (e) {\r\n      if (this._elem.readyState < HAVE_METADATA) {\r\n        if (isFullScreenRequested) {\r\n          return;\r\n        }\r\n        this._elem.addEventListener(\r\n          'loadedmetadata',\r\n          this._enterWhenHasMetaData,\r\n        );\r\n        isFullScreenRequested = true;\r\n      }\r\n    }\r\n  }\r\n\r\n  exit() {\r\n    if (!this.isEnabled || !this.isInFullScreen) {\r\n      return false;\r\n    }\r\n\r\n    this._elem.webkitExitFullscreen();\r\n  }\r\n\r\n  destroy() {\r\n    this._unbindEvents();\r\n\r\n    this._elem = null;\r\n    this._callback = null;\r\n  }\r\n}\r\n","import { isIOS } from '../../utils/device-detection';\nimport playerAPI from '../../core/player-api-decorator';\nimport DesktopFullScreen from './desktop';\nimport IOSFullScreen from './ios';\n\nimport { VIDEO_EVENTS, UI_EVENTS, EngineState } from '../../constants';\nimport {\n  IFullScreenManager,\n  IFullScreenHelper,\n  IFullScreenConfig,\n} from './types';\nimport { IEventEmitter } from '../event-emitter/types';\nimport { IPlaybackEngine } from '../playback-engine/types';\nimport { IPlayerConfig } from '../../core/config';\n\nconst DEFAULT_CONFIG: IFullScreenConfig = {\n  exitFullScreenOnEnd: true,\n  enterFullScreenOnPlay: false,\n  exitFullScreenOnPause: false,\n  pauseVideoOnFullScreenExit: false,\n};\n\nexport default class FullScreenManager implements IFullScreenManager {\n  static moduleName = 'fullScreenManager';\n  static dependencies = ['eventEmitter', 'engine', 'rootContainer', 'config'];\n\n  private _eventEmitter: IEventEmitter;\n  private _engine: IPlaybackEngine;\n  private _helper: IFullScreenHelper;\n\n  private _exitFullScreenOnEnd: boolean = false;\n  private _enterFullScreenOnPlay: boolean = false;\n  private _exitFullScreenOnPause: boolean = false;\n  private _pauseVideoOnFullScreenExit: boolean = false;\n\n  private _isEnabled: boolean;\n\n  private _unbindEvents: Function;\n\n  constructor({\n    eventEmitter,\n    engine,\n    rootContainer,\n    config,\n  }: {\n    engine: IPlaybackEngine;\n    eventEmitter: IEventEmitter;\n    rootContainer: Playable.IRootContainer;\n    config: IPlayerConfig;\n  }) {\n    this._eventEmitter = eventEmitter;\n    this._engine = engine;\n\n    if (config.fullScreen === false) {\n      this._isEnabled = false;\n    } else {\n      this._isEnabled = true;\n      const _config: IFullScreenConfig = {\n        ...DEFAULT_CONFIG,\n        ...(typeof config.fullScreen === 'object' ? config.fullScreen : {}),\n      };\n\n      this._exitFullScreenOnEnd = _config.exitFullScreenOnEnd;\n      this._enterFullScreenOnPlay = _config.enterFullScreenOnPlay;\n      this._exitFullScreenOnPause = _config.exitFullScreenOnPause;\n      this._pauseVideoOnFullScreenExit = _config.pauseVideoOnFullScreenExit;\n    }\n    this._onChange = this._onChange.bind(this);\n\n    if (isIOS()) {\n      this._helper = new IOSFullScreen(this._engine.getNode(), this._onChange);\n    } else {\n      this._helper = new DesktopFullScreen(rootContainer.node, this._onChange);\n    }\n\n    this._bindEvents();\n  }\n\n  private _onChange() {\n    if (!this._helper.isInFullScreen && this._pauseVideoOnFullScreenExit) {\n      this._engine.pause();\n    }\n    this._eventEmitter.emit(\n      UI_EVENTS.FULLSCREEN_STATUS_CHANGED,\n      this._helper.isInFullScreen,\n    );\n  }\n\n  private _bindEvents() {\n    this._unbindEvents = this._eventEmitter.bindEvents(\n      [\n        [VIDEO_EVENTS.STATE_CHANGED, this._processNextStateFromEngine],\n        [VIDEO_EVENTS.PLAY_REQUEST_TRIGGERED, this._enterOnPlayRequested],\n      ],\n      this,\n    );\n  }\n\n  private _exitOnEnd() {\n    if (this._exitFullScreenOnEnd && this.isInFullScreen) {\n      this.exitFullScreen();\n    }\n  }\n\n  private _enterOnPlayRequested() {\n    if (this._enterFullScreenOnPlay && !this.isInFullScreen) {\n      this.enterFullScreen();\n    }\n  }\n\n  private _exitOnPauseRequested() {\n    if (this._exitFullScreenOnPause && this.isInFullScreen) {\n      this.exitFullScreen();\n    }\n  }\n\n  private _processNextStateFromEngine({\n    nextState,\n  }: {\n    nextState: EngineState;\n  }) {\n    switch (nextState) {\n      case EngineState.ENDED: {\n        this._exitOnEnd();\n        break;\n      }\n      case EngineState.PAUSED: {\n        this._exitOnPauseRequested();\n        break;\n      }\n\n      /* ignore coverage */\n      default:\n        break;\n    }\n  }\n\n  /**\n   * Player would try to enter fullscreen mode.\n   * Behavior of fullscreen mode on different platforms may differ.\n   * @example\n   * player.enterFullScreen();\n   */\n  @playerAPI()\n  enterFullScreen() {\n    if (!this.isEnabled) {\n      return;\n    }\n\n    this._helper.request();\n  }\n\n  /**\n   * Player would try to exit fullscreen mode.\n   * @example\n   * player.exitFullScreen();\n   */\n  @playerAPI()\n  exitFullScreen() {\n    if (!this.isEnabled) {\n      return;\n    }\n\n    this._helper.exit();\n  }\n\n  /**\n   * Return true if player is in full screen\n   * @example\n   * console.log(player.isInFullScreen); // false\n   */\n  @playerAPI()\n  get isInFullScreen(): boolean {\n    if (!this.isEnabled) {\n      return false;\n    }\n\n    return this._helper.isInFullScreen;\n  }\n\n  get isEnabled() {\n    return this._helper.isEnabled && this._isEnabled;\n  }\n\n  destroy() {\n    this._unbindEvents();\n\n    this._helper.destroy();\n    this._helper = null;\n\n    this._eventEmitter = null;\n    this._engine = null;\n  }\n}\n","import {\r\n  EngineState,\r\n  VIDEO_EVENTS,\r\n  LiveState,\r\n  UI_EVENTS,\r\n} from '../../constants';\r\n\r\nimport { IEventEmitter, IEventMap } from '../event-emitter/types';\r\nimport { ILiveStateEngineDependencies, IPlaybackEngine } from './types';\r\n\r\nconst SEEK_BY_UI_EVENTS = [\r\n  UI_EVENTS.GO_FORWARD_WITH_KEYBOARD_TRIGGERED,\r\n  UI_EVENTS.GO_BACKWARD_WITH_KEYBOARD_TRIGGERED,\r\n  UI_EVENTS.PROGRESS_CHANGE_TRIGGERED,\r\n];\r\n\r\nclass LiveStateEngine {\r\n  static moduleName = 'liveStateEngine';\r\n  static dependencies = ['eventEmitter', 'engine'];\r\n\r\n  private _eventEmitter: IEventEmitter;\r\n  private _engine: IPlaybackEngine;\r\n  private _state: LiveState;\r\n\r\n  private _isSeekedByUIWhilePlaying: boolean;\r\n\r\n  private _unbindEvents: Function;\r\n\r\n  constructor({ eventEmitter, engine }: ILiveStateEngineDependencies) {\r\n    this._eventEmitter = eventEmitter;\r\n    this._engine = engine;\r\n    this._state = LiveState.NONE;\r\n\r\n    this._isSeekedByUIWhilePlaying = null;\r\n\r\n    this._bindEvents();\r\n  }\r\n\r\n  get state(): LiveState {\r\n    return this._state;\r\n  }\r\n\r\n  private _bindEvents() {\r\n    this._unbindEvents = this._eventEmitter.bindEvents(\r\n      [\r\n        [VIDEO_EVENTS.STATE_CHANGED, this._processStateChange],\r\n        ...SEEK_BY_UI_EVENTS.map(\r\n          eventName => [eventName, this._processSeekByUI] as IEventMap,\r\n        ),\r\n        [VIDEO_EVENTS.DYNAMIC_CONTENT_ENDED, this._onDynamicContentEnded],\r\n      ],\r\n      this,\r\n    );\r\n  }\r\n\r\n  private _processStateChange({\r\n    prevState,\r\n    nextState,\r\n  }: {\r\n    prevState: EngineState;\r\n    nextState: EngineState;\r\n  }) {\r\n    if (nextState === EngineState.SRC_SET) {\r\n      this._setState(LiveState.NONE);\r\n      return;\r\n    }\r\n\r\n    if (!this._engine.isDynamicContent || this._engine.isDynamicContentEnded) {\r\n      return;\r\n    }\r\n\r\n    switch (nextState) {\r\n      case EngineState.METADATA_LOADED:\r\n        this._setState(LiveState.INITIAL);\r\n        break;\r\n\r\n      case EngineState.PLAY_REQUESTED:\r\n        if (this._state === LiveState.INITIAL) {\r\n          this._engine.syncWithLive();\r\n        }\r\n        break;\r\n\r\n      case EngineState.PLAYING:\r\n        // NOTE: skip PLAYING event after events like `WAITING` and other not important events.\r\n        if (\r\n          this._state === LiveState.INITIAL ||\r\n          this._state === LiveState.NOT_SYNC ||\r\n          this._isSeekedByUIWhilePlaying\r\n        ) {\r\n          this._setState(\r\n            this._engine.isSyncWithLive ? LiveState.SYNC : LiveState.NOT_SYNC,\r\n          );\r\n          this._isSeekedByUIWhilePlaying = false;\r\n        }\r\n        break;\r\n\r\n      case EngineState.PAUSED:\r\n        // NOTE: process `PAUSED` event only `PLAYING`, to be sure its not related with `WAITING` events\r\n        if (prevState === EngineState.PLAYING) {\r\n          this._setState(LiveState.NOT_SYNC);\r\n        }\r\n        break;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  private _processSeekByUI() {\r\n    if (\r\n      this._engine.isDynamicContent &&\r\n      this._engine.getCurrentState() === EngineState.PLAYING\r\n    ) {\r\n      // NOTE: flag should be handled on `PLAYING` state in `_processStateChange`\r\n      this._isSeekedByUIWhilePlaying = true;\r\n    }\r\n  }\r\n\r\n  private _onDynamicContentEnded() {\r\n    this._setState(LiveState.ENDED);\r\n  }\r\n\r\n  private _setState(state: LiveState) {\r\n    if (this._state !== state) {\r\n      const prevState = this._state;\r\n      const nextState = state;\r\n\r\n      this._state = state;\r\n      this._eventEmitter.emit(VIDEO_EVENTS.LIVE_STATE_CHANGED, {\r\n        prevState,\r\n        nextState,\r\n      });\r\n    }\r\n  }\r\n\r\n  destroy() {\r\n    this._unbindEvents();\r\n    this._eventEmitter = null;\r\n    this._engine = null;\r\n    this._state = null;\r\n  }\r\n}\r\n\r\nexport default LiveStateEngine;\r\n","import { EventEmitter, ListenerFn } from 'eventemitter3';\r\n\r\nexport const KEYCODES = {\r\n  SPACE_BAR: 32,\r\n  ENTER: 13,\r\n  TAB: 9,\r\n  LEFT_ARROW: 37,\r\n  RIGHT_ARROW: 39,\r\n  UP_ARROW: 38,\r\n  DOWN_ARROW: 40,\r\n  DEBUG_KEY: 68,\r\n};\r\n\r\ninterface ICallbacks {\r\n  [keyCode: string]: ListenerFn;\r\n}\r\n\r\nexport default class KeyboardInterceptorCore {\r\n  //TODO: Find how to set proper types here\r\n  private _eventEmitter: any;\r\n  private _node: HTMLElement;\r\n\r\n  constructor(node: HTMLElement, callbacks?: ICallbacks) {\r\n    this._eventEmitter = new EventEmitter();\r\n    this._node = node;\r\n\r\n    callbacks && this._attachCallbacks(callbacks);\r\n    this._bindCallbacks();\r\n    this._bindEvents();\r\n  }\r\n\r\n  private _attachCallbacks(callbacks: ICallbacks) {\r\n    Object.keys(callbacks).forEach((keyCode: string) => {\r\n      const keyCodeCallbacks = callbacks[keyCode];\r\n      if (Array.isArray(keyCodeCallbacks)) {\r\n        keyCodeCallbacks.forEach(callback =>\r\n          this._eventEmitter.on(keyCode, callback),\r\n        );\r\n      } else {\r\n        this._eventEmitter.on(keyCode, keyCodeCallbacks);\r\n      }\r\n    });\r\n  }\r\n\r\n  private _unattachCallbacks() {\r\n    this._eventEmitter.removeAllListeners();\r\n  }\r\n\r\n  private _bindCallbacks() {\r\n    this._processKeyboardInput = this._processKeyboardInput.bind(this);\r\n  }\r\n\r\n  private _bindEvents() {\r\n    this._node.addEventListener('keydown', this._processKeyboardInput, false);\r\n  }\r\n\r\n  private _unbindEvents() {\r\n    this._node.removeEventListener(\r\n      'keydown',\r\n      this._processKeyboardInput,\r\n      false,\r\n    );\r\n  }\r\n\r\n  addCallbacks(callbacks: ICallbacks) {\r\n    this._attachCallbacks(callbacks);\r\n  }\r\n\r\n  private _processKeyboardInput(e: KeyboardEvent) {\r\n    this._eventEmitter.emit(e.keyCode, e);\r\n  }\r\n\r\n  destroy() {\r\n    this._unbindEvents();\r\n    this._unattachCallbacks();\r\n    this._eventEmitter = null;\r\n\r\n    this._node = null;\r\n  }\r\n}\r\n","import { UI_EVENTS } from '../../constants';\nimport {\n  isIPhone,\n  isIPod,\n  isIPad,\n  isAndroid,\n} from '../../utils/device-detection';\n\nimport KeyboardInterceptor, {\n  KEYCODES,\n} from '../../utils/keyboard-interceptor';\n\nimport { IEventEmitter } from '../event-emitter/types';\nimport { IPlaybackEngine } from '../playback-engine/types';\nimport { IPlayerConfig } from '../../core/config';\nimport { IKeyboardControl } from './types';\nimport { ListenerFn } from 'eventemitter3';\n\nexport const AMOUNT_TO_SKIP_SECONDS = 5;\nexport const AMOUNT_TO_CHANGE_VOLUME = 10;\n\nexport default class KeyboardControl implements IKeyboardControl {\n  static moduleName = 'keyboardControl';\n  static dependencies = ['engine', 'eventEmitter', 'rootContainer', 'config'];\n\n  private _isEnabled: boolean;\n  private _eventEmitter: IEventEmitter;\n  private _engine: IPlaybackEngine;\n  private _rootNode: HTMLElement;\n  private _keyboardInterceptor: KeyboardInterceptor;\n\n  constructor({\n    config,\n    eventEmitter,\n    rootContainer,\n    engine,\n  }: {\n    config: IPlayerConfig;\n    eventEmitter: IEventEmitter;\n    rootContainer: Playable.IRootContainer;\n    engine: IPlaybackEngine;\n  }) {\n    this._eventEmitter = eventEmitter;\n    this._engine = engine;\n    this._rootNode = rootContainer.node;\n\n    if (isIPhone() || isIPod() || isIPad() || isAndroid()) {\n      this._isEnabled = false;\n    } else {\n      this._isEnabled = config.disableControlWithKeyboard !== false;\n    }\n\n    this._initInterceptor();\n  }\n\n  private _initInterceptor() {\n    if (this._isEnabled) {\n      this._keyboardInterceptor = new KeyboardInterceptor(this._rootNode);\n      this._attachDefaultControls();\n    }\n  }\n\n  private _attachDefaultControls() {\n    this._keyboardInterceptor.addCallbacks({\n      [KEYCODES.TAB]: () => {\n        this._eventEmitter.emit(UI_EVENTS.KEYBOARD_KEYDOWN_INTERCEPTED);\n      },\n      [KEYCODES.SPACE_BAR]: e => {\n        e.preventDefault();\n        this._eventEmitter.emit(UI_EVENTS.KEYBOARD_KEYDOWN_INTERCEPTED);\n        this._eventEmitter.emit(\n          UI_EVENTS.TOGGLE_PLAYBACK_WITH_KEYBOARD_TRIGGERED,\n        );\n        this._engine.togglePlayback();\n      },\n      [KEYCODES.LEFT_ARROW]: e => {\n        if (this._engine.isSeekAvailable) {\n          e.preventDefault();\n          this._eventEmitter.emit(UI_EVENTS.KEYBOARD_KEYDOWN_INTERCEPTED);\n          this._eventEmitter.emit(\n            UI_EVENTS.GO_BACKWARD_WITH_KEYBOARD_TRIGGERED,\n          );\n          this._engine.goBackward(AMOUNT_TO_SKIP_SECONDS);\n        }\n      },\n      [KEYCODES.RIGHT_ARROW]: e => {\n        if (this._engine.isSeekAvailable) {\n          e.preventDefault();\n          this._eventEmitter.emit(UI_EVENTS.KEYBOARD_KEYDOWN_INTERCEPTED);\n          this._eventEmitter.emit(UI_EVENTS.GO_FORWARD_WITH_KEYBOARD_TRIGGERED);\n          this._engine.goForward(AMOUNT_TO_SKIP_SECONDS);\n        }\n      },\n      [KEYCODES.UP_ARROW]: e => {\n        e.preventDefault();\n        this._eventEmitter.emit(UI_EVENTS.KEYBOARD_KEYDOWN_INTERCEPTED);\n        this._eventEmitter.emit(\n          UI_EVENTS.INCREASE_VOLUME_WITH_KEYBOARD_TRIGGERED,\n        );\n        this._engine.setMute(false);\n        this._engine.increaseVolume(AMOUNT_TO_CHANGE_VOLUME);\n      },\n      [KEYCODES.DOWN_ARROW]: e => {\n        e.preventDefault();\n        this._eventEmitter.emit(UI_EVENTS.KEYBOARD_KEYDOWN_INTERCEPTED);\n        this._eventEmitter.emit(\n          UI_EVENTS.DECREASE_VOLUME_WITH_KEYBOARD_TRIGGERED,\n        );\n        this._engine.setMute(false);\n        this._engine.decreaseVolume(AMOUNT_TO_CHANGE_VOLUME);\n      },\n    });\n  }\n\n  private _destroyInterceptor() {\n    if (this._keyboardInterceptor) {\n      this._keyboardInterceptor.destroy();\n    }\n  }\n\n  addKeyControl(key: number, callback: ListenerFn) {\n    if (this._isEnabled) {\n      this._keyboardInterceptor.addCallbacks({\n        [key]: callback,\n      });\n    }\n  }\n\n  destroy() {\n    this._destroyInterceptor();\n\n    this._rootNode = null;\n    this._eventEmitter = null;\n    this._engine = null;\n  }\n}\n","import { IDebugPanelHighlightStyles } from './types';\r\n\r\nfunction syntaxHighlight(json: string, styleNames: IDebugPanelHighlightStyles) {\r\n  json = json\r\n    .replace(/&/g, '&amp;')\r\n    .replace(/</g, '&lt;')\r\n    .replace(/>/g, '&gt;');\r\n\r\n  return json.replace(\r\n    /(\"(\\\\u[a-zA-Z0-9]{4}|\\\\[^u]|[^\\\\\"])*\"(\\s*:)?|\\b(true|false|null)\\b|-?\\d+(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)/g,\r\n    (match: string) => {\r\n      let cls = styleNames.number;\r\n      if (/^\"/.test(match)) {\r\n        if (/:$/.test(match)) {\r\n          cls = styleNames.key;\r\n        } else {\r\n          cls = styleNames.string;\r\n        }\r\n      } else if (/true|false/.test(match)) {\r\n        cls = styleNames.boolean;\r\n      } else if (/null/.test(match)) {\r\n        cls = styleNames.null;\r\n      }\r\n      return `<span class=\"${cls}\">${match}</span>`;\r\n    },\r\n  );\r\n}\r\n\r\nexport default syntaxHighlight;\r\n","function getElementByHook(element: HTMLElement, hook: string): HTMLElement {\r\n  return element.querySelector(`[data-hook=\"${hook}\"]`);\r\n}\r\n\r\nexport default getElementByHook;\r\n","function toggleNodeClass(\r\n  node: HTMLElement,\r\n  className: string,\r\n  shouldAdd: boolean,\r\n) {\r\n  if (shouldAdd) {\r\n    node.classList.add(className);\r\n  } else {\r\n    node.classList.remove(className);\r\n  }\r\n}\r\n\r\nexport default toggleNodeClass;\r\n","import View from '../core/view';\n\nimport { debugPanelTemplate } from './templates';\n\nimport syntaxHighlight from './syntaxHighlight';\n\nimport htmlToElement from '../core/htmlToElement';\nimport getElementByHook from '../core/getElementByHook';\nimport toggleNodeClass from '../core/toggleNodeClass';\n\nimport {\n  IDebugPanelViewStyles,\n  IDebugPanelViewCallbacks,\n  IDebugPanelViewConfig,\n} from './types';\n\nimport styles from './debug-panel.scss';\n\nclass DebugPanelView extends View<IDebugPanelViewStyles>\n  implements Playable.IView<IDebugPanelViewStyles> {\n  private _callbacks: IDebugPanelViewCallbacks;\n\n  private _$node: HTMLElement;\n  private _$infoContainer: HTMLElement;\n  private _$closeButton: HTMLElement;\n\n  constructor(config: IDebugPanelViewConfig) {\n    super();\n    const { callbacks } = config;\n\n    this._callbacks = callbacks;\n\n    this._initDOM();\n    this._bindEvents();\n  }\n\n  private _initDOM() {\n    this._$node = htmlToElement(\n      debugPanelTemplate({\n        styles: this.styleNames,\n      }),\n    );\n\n    this._$closeButton = getElementByHook(\n      this._$node,\n      'debug-panel-close-button',\n    );\n    this._$infoContainer = getElementByHook(\n      this._$node,\n      'debug-panel-info-container',\n    );\n  }\n\n  private _bindEvents() {\n    this._$closeButton.addEventListener(\n      'click',\n      this._callbacks.onCloseButtonClick,\n    );\n  }\n\n  private _unbindEvents() {\n    this._$closeButton.removeEventListener(\n      'click',\n      this._callbacks.onCloseButtonClick,\n    );\n  }\n\n  show() {\n    toggleNodeClass(this._$node, this.styleNames.hidden, false);\n  }\n\n  hide() {\n    toggleNodeClass(this._$node, this.styleNames.hidden, true);\n  }\n\n  setInfo(info: any) {\n    this._$infoContainer.innerHTML = syntaxHighlight(\n      JSON.stringify(info, undefined, 4),\n      this.styleNames,\n    );\n  }\n\n  getNode() {\n    return this._$node;\n  }\n\n  destroy() {\n    this._unbindEvents();\n\n    if (this._$node.parentNode) {\n      this._$node.parentNode.removeChild(this._$node);\n    }\n\n    this._$node = null;\n    this._$closeButton = null;\n    this._$infoContainer = null;\n\n    this._callbacks = null;\n  }\n}\n\nDebugPanelView.extendStyleNames(styles);\n\nexport default DebugPanelView;\n","import { MediaStreamDeliveryPriority } from '../../../constants';\nimport View from './debug-panel.view';\n\nimport { KEYCODES } from '../../../utils/keyboard-interceptor';\n\nimport { IPlaybackEngine } from '../../playback-engine/types';\nimport { IKeyboardControl } from '../../keyboard-control/types';\n\nconst UPDATE_TIME = 1000;\n\nexport default class DebugPanel {\n  static moduleName = 'debugPanel';\n  static View = View;\n  static dependencies = ['engine', 'rootContainer', 'keyboardControl'];\n\n  private _engine: IPlaybackEngine;\n\n  private _interval: number;\n\n  view: View;\n  isHidden: boolean;\n\n  constructor({\n    engine,\n    rootContainer,\n    keyboardControl,\n  }: {\n    engine: IPlaybackEngine;\n    rootContainer: Playable.IRootContainer;\n    keyboardControl: IKeyboardControl;\n  }) {\n    this._engine = engine;\n\n    this._bindCallbacks();\n    this._initUI();\n\n    this.hide();\n\n    rootContainer.appendComponentNode(this.node);\n\n    keyboardControl.addKeyControl(KEYCODES.DEBUG_KEY, this._keyControlCallback);\n  }\n\n  private _keyControlCallback(e: KeyboardEvent) {\n    if (e.ctrlKey && e.shiftKey) {\n      this.show();\n    }\n  }\n\n  get node() {\n    return this.view.getNode();\n  }\n\n  private _initUI() {\n    this.view = new View({\n      callbacks: {\n        onCloseButtonClick: this.hide,\n      },\n    });\n  }\n\n  private _bindCallbacks() {\n    this.updateInfo = this.updateInfo.bind(this);\n    this.hide = this.hide.bind(this);\n    this._keyControlCallback = this._keyControlCallback.bind(this);\n  }\n\n  getDebugInfo() {\n    const {\n      url,\n      type,\n      deliveryPriority,\n      currentBitrate,\n      overallBufferLength,\n      nearestBufferSegInfo,\n      viewDimensions,\n      currentTime,\n      duration,\n      loadingStateTimestamps,\n      bitrates,\n      bwEstimate,\n    } = this._engine.getDebugInfo();\n\n    return {\n      url,\n      type,\n      deliveryPriority: MediaStreamDeliveryPriority[deliveryPriority],\n      currentBitrate,\n      overallBufferLength,\n      nearestBufferSegInfo,\n      viewDimensions,\n      currentTime,\n      duration,\n      loadingStateTimestamps,\n      bitrates,\n      bwEstimate,\n    };\n  }\n\n  updateInfo() {\n    this.view.setInfo(this.getDebugInfo());\n  }\n\n  setUpdateInterval() {\n    this.clearUpdateInterval();\n    this._interval = window.setInterval(this.updateInfo, UPDATE_TIME);\n  }\n\n  clearUpdateInterval() {\n    window.clearInterval(this._interval);\n  }\n\n  show() {\n    if (this.isHidden) {\n      this.updateInfo();\n      this.setUpdateInterval();\n      this.view.show();\n      this.isHidden = false;\n    }\n  }\n\n  hide() {\n    if (!this.isHidden) {\n      this.clearUpdateInterval();\n      this.view.hide();\n      this.isHidden = true;\n    }\n  }\n\n  destroy() {\n    this.clearUpdateInterval();\n\n    this.view.destroy();\n    this.view = null;\n  }\n}\n","type IScreenViewStyles = {\r\n  screen: string;\r\n  screenTopBackground: string;\r\n  screenBottomBackground: string;\r\n  hidden: string;\r\n  visible: string;\r\n  hiddenCursor: string;\r\n  horizontalVideo: string;\r\n  verticalVideo: string;\r\n  fillMode: string;\r\n  blurMode: string;\r\n  regularMode: string;\r\n};\r\n\r\ntype IScreenViewCallbacks = {\r\n  onWrapperMouseClick: EventListenerOrEventListenerObject;\r\n  onWrapperMouseDblClick: EventListenerOrEventListenerObject;\r\n};\r\n\r\ntype IScreenViewConfig = {\r\n  callbacks: IScreenViewCallbacks;\r\n  playbackViewNode: HTMLElement;\r\n  nativeControls: boolean;\r\n};\r\n\r\ninterface IScreenConfig {\r\n  disableClickProcessing?: boolean;\r\n  nativeControls?: boolean;\r\n}\r\n\r\nenum VideoViewMode {\r\n  REGULAR = 'REGULAR',\r\n  BLUR = 'BLUR',\r\n  FILL = 'FILL',\r\n}\r\n\r\ninterface IScreen {\r\n  node: HTMLElement;\r\n  showCursor(): void;\r\n  hideCursor(): void;\r\n\r\n  show(): void;\r\n  hide(): void;\r\n\r\n  setVideoViewMode(viewMode: VideoViewMode): void;\r\n\r\n  destroy(): void;\r\n}\r\n\r\nexport {\r\n  IScreen,\r\n  VideoViewMode,\r\n  IScreenConfig,\r\n  IScreenViewStyles,\r\n  IScreenViewCallbacks,\r\n  IScreenViewConfig,\r\n};\r\n","import View from '../core/view';\n\nimport { screenTemplate } from './templates';\n\nimport htmlToElement from '../core/htmlToElement';\nimport getElementByHook from '../core/getElementByHook';\nimport toggleNodeClass from '../core/toggleNodeClass';\n\nimport {\n  VideoViewMode,\n  IScreenViewStyles,\n  IScreenViewCallbacks,\n  IScreenViewConfig,\n} from './types';\n\nimport styles from './screen.scss';\n\nclass ScreenView extends View<IScreenViewStyles>\n  implements Playable.IView<IScreenViewStyles> {\n  private _callbacks: IScreenViewCallbacks;\n\n  private _$node: HTMLElement;\n  private _$canvas: HTMLCanvasElement;\n  private _$playbackNode: HTMLVideoElement;\n  private _ctx: CanvasRenderingContext2D;\n\n  private _widthHeightRatio: number;\n  private _requestAnimationFrameID: number;\n  private _currentMode: string;\n  private _styleNamesByViewMode: any;\n\n  constructor(config: IScreenViewConfig) {\n    super();\n    const { callbacks, nativeControls, playbackViewNode } = config;\n\n    this._callbacks = callbacks;\n\n    this._styleNamesByViewMode = {\n      [VideoViewMode.REGULAR]: this.styleNames.regularMode,\n      [VideoViewMode.BLUR]: this.styleNames.blurMode,\n      [VideoViewMode.FILL]: this.styleNames.fillMode,\n    };\n\n    this._bindCallbacks();\n\n    if (nativeControls) {\n      playbackViewNode.setAttribute('controls', 'true');\n    }\n\n    this._initDOM(playbackViewNode);\n    this._bindEvents();\n    this.setViewMode(VideoViewMode.REGULAR);\n  }\n\n  private _bindCallbacks() {\n    this._updateBackground = this._updateBackground.bind(this);\n  }\n\n  private _initDOM(playbackViewNode: HTMLElement) {\n    this._$node = htmlToElement(\n      screenTemplate({\n        styles: this.styleNames,\n      }),\n    );\n\n    this._$playbackNode = playbackViewNode as HTMLVideoElement;\n    this._$node.appendChild(playbackViewNode);\n\n    this._$canvas = getElementByHook(\n      this._$node,\n      'background-canvas',\n    ) as HTMLCanvasElement;\n    this._ctx = this._$canvas.getContext('2d');\n  }\n\n  private _bindEvents() {\n    this._$node.addEventListener('click', this._callbacks.onWrapperMouseClick);\n    this._$node.addEventListener(\n      'dblclick',\n      this._callbacks.onWrapperMouseDblClick,\n    );\n  }\n\n  private _unbindEvents() {\n    this._$node.removeEventListener(\n      'click',\n      this._callbacks.onWrapperMouseClick,\n    );\n    this._$node.removeEventListener(\n      'dblclick',\n      this._callbacks.onWrapperMouseDblClick,\n    );\n  }\n\n  updateVideoAspectRatio(widthHeightRatio: number) {\n    this._widthHeightRatio = widthHeightRatio;\n    const isHorizontal = this._widthHeightRatio > 1;\n    toggleNodeClass(this._$node, this.styleNames.horizontalVideo, isHorizontal);\n    toggleNodeClass(this._$node, this.styleNames.verticalVideo, !isHorizontal);\n  }\n\n  focusOnNode() {\n    this._$node.focus();\n  }\n\n  show() {\n    toggleNodeClass(this._$node, this.styleNames.hidden, false);\n  }\n\n  hide() {\n    toggleNodeClass(this._$node, this.styleNames.hidden, true);\n  }\n\n  getNode() {\n    return this._$node;\n  }\n\n  appendComponentNode(node: HTMLElement) {\n    this._$node.appendChild(node);\n  }\n\n  hideCursor() {\n    toggleNodeClass(this._$node, this.styleNames.hiddenCursor, true);\n  }\n\n  showCursor() {\n    toggleNodeClass(this._$node, this.styleNames.hiddenCursor, false);\n  }\n\n  setViewMode(viewMode: VideoViewMode) {\n    if (this._styleNamesByViewMode[viewMode]) {\n      this.resetBackground();\n\n      Object.keys(this._styleNamesByViewMode).forEach(mode => {\n        toggleNodeClass(this._$node, this._styleNamesByViewMode[mode], false);\n      });\n\n      toggleNodeClass(this._$node, this._styleNamesByViewMode[viewMode], true);\n\n      if (viewMode === VideoViewMode.BLUR) {\n        this._startUpdatingBackground();\n      } else {\n        this._stopUpdatingBackground();\n      }\n\n      this._currentMode = viewMode;\n    }\n  }\n\n  setBackgroundSize(width: number, height: number) {\n    this.setBackgroundWidth(width);\n    this.setBackgroundHeight(height);\n  }\n\n  setBackgroundWidth(width: number) {\n    this._$canvas.width = width;\n  }\n\n  setBackgroundHeight(height: number) {\n    this._$canvas.height = height;\n  }\n\n  private _startUpdatingBackground() {\n    if (!this._requestAnimationFrameID) {\n      this._updateBackground();\n    }\n  }\n\n  private _stopUpdatingBackground() {\n    if (this._requestAnimationFrameID) {\n      cancelAnimationFrame(this._requestAnimationFrameID);\n      this._requestAnimationFrameID = null;\n    }\n  }\n\n  resetAspectRatio() {\n    const { videoWidth, videoHeight } = this._$playbackNode;\n    this._widthHeightRatio = videoHeight ? videoWidth / videoHeight : 0;\n    const isHorizontal = this._widthHeightRatio > 1;\n    toggleNodeClass(this._$node, this.styleNames.horizontalVideo, isHorizontal);\n    toggleNodeClass(this._$node, this.styleNames.verticalVideo, !isHorizontal);\n  }\n\n  resetBackground() {\n    if (this._currentMode === VideoViewMode.BLUR) {\n      this._clearBackground();\n    }\n  }\n\n  private _getSourceAreas(width: number, height: number): number[][] {\n    if (this._widthHeightRatio > 1) {\n      return [[0, 0, width, 1], [0, height - 1, width, 1]];\n    }\n\n    return [[0, 0, 1, height], [width - 1, 0, 1, height]];\n  }\n\n  private _getCanvasAreas(width: number, height: number): number[][] {\n    if (this._widthHeightRatio > 1) {\n      return [[0, 0, width, height / 2], [0, height / 2, width, height / 2]];\n    }\n\n    return [[0, 0, width / 2, height], [width / 2, 0, width / 2, height]];\n  }\n\n  private _drawAreaFromSource(source: number[], area: number[]) {\n    const [sourceX, sourceY, sourceWidth, sourceHeight] = source;\n    const [areaX, areaY, areaWidth, areaHeight] = area;\n\n    this._ctx.drawImage(\n      this._$playbackNode,\n\n      sourceX,\n      sourceY,\n      sourceWidth,\n      sourceHeight,\n\n      areaX,\n      areaY,\n      areaWidth,\n      areaHeight,\n    );\n  }\n  private _drawBackground() {\n    const { videoWidth, videoHeight } = this._$playbackNode;\n    const canvasWidth: number = this._$canvas.width;\n    const canvasHeight: number = this._$canvas.height;\n    const sourceAreas: number[][] = this._getSourceAreas(\n      videoWidth,\n      videoHeight,\n    );\n    const canvasAreas: number[][] = this._getCanvasAreas(\n      canvasWidth,\n      canvasHeight,\n    );\n\n    this._drawAreaFromSource(sourceAreas[0], canvasAreas[0]);\n    this._drawAreaFromSource(sourceAreas[1], canvasAreas[1]);\n  }\n\n  private _updateBackground() {\n    this._drawBackground();\n\n    this._requestAnimationFrameID = requestAnimationFrame(\n      this._updateBackground,\n    );\n  }\n\n  private _clearBackground() {\n    this._ctx.clearRect(0, 0, this._$canvas.width, this._$canvas.height);\n  }\n\n  destroy() {\n    this._stopUpdatingBackground();\n    this._unbindEvents();\n    if (this._$node.parentNode) {\n      this._$node.parentNode.removeChild(this._$node);\n    }\n\n    this._$node = null;\n    this._$playbackNode = null;\n    this._$canvas = null;\n    this._ctx = null;\n\n    this._callbacks = null;\n  }\n}\n\nScreenView.extendStyleNames(styles);\n\nexport default ScreenView;\n","import { UI_EVENTS, EngineState } from '../../../constants';\n\nimport View from './screen.view';\n\nimport playerAPI from '../../../core/player-api-decorator';\n\nimport { IEventEmitter } from '../../event-emitter/types';\nimport { IFullScreenManager } from '../../full-screen-manager/types';\nimport { IPlaybackEngine } from '../../playback-engine/types';\nimport { IInteractionIndicator } from '../interaction-indicator/types';\nimport { IPlayerConfig } from '../../../core/config';\nimport {\n  IScreen,\n  VideoViewMode,\n  IScreenConfig,\n  IScreenViewConfig,\n} from './types';\n\nconst PLAYBACK_CHANGE_TIMEOUT = 300;\n\nconst DEFAULT_CONFIG: IScreenConfig = {\n  disableClickProcessing: false,\n  nativeControls: false,\n};\n\nexport default class Screen implements IScreen {\n  static moduleName = 'screen';\n  static View = View;\n  static dependencies = [\n    'engine',\n    'eventEmitter',\n    'config',\n    'fullScreenManager',\n    'interactionIndicator',\n    'rootContainer',\n  ];\n\n  private _eventEmitter: IEventEmitter;\n  private _engine: IPlaybackEngine;\n  private _fullScreenManager: IFullScreenManager;\n  private _interactionIndicator: IInteractionIndicator;\n\n  private _delayedToggleVideoPlaybackTimeout: number;\n\n  private _isClickProcessingDisabled: boolean;\n  private _isInFullScreen: boolean;\n\n  private _unbindEvents: Function;\n\n  view: View;\n  isHidden: boolean;\n\n  constructor({\n    config,\n    eventEmitter,\n    engine,\n    fullScreenManager,\n    interactionIndicator,\n    rootContainer,\n  }: {\n    config: IPlayerConfig;\n    eventEmitter: IEventEmitter;\n    engine: IPlaybackEngine;\n    fullScreenManager: IFullScreenManager;\n    interactionIndicator: IInteractionIndicator;\n    rootContainer: Playable.IRootContainer;\n  }) {\n    this._eventEmitter = eventEmitter;\n    this._engine = engine;\n    this._fullScreenManager = fullScreenManager;\n    this._interactionIndicator = interactionIndicator;\n\n    this._isInFullScreen = false;\n    this.isHidden = false;\n\n    this._delayedToggleVideoPlaybackTimeout = null;\n\n    const screenConfig = {\n      ...DEFAULT_CONFIG,\n      ...config.screen,\n    };\n\n    this._isClickProcessingDisabled = screenConfig.disableClickProcessing;\n\n    this._bindCallbacks();\n    this._initUI(screenConfig.nativeControls);\n    this._bindEvents();\n\n    rootContainer.appendComponentNode(this.node);\n  }\n\n  get node() {\n    return this.view.getNode();\n  }\n\n  private _bindCallbacks() {\n    this._processNodeClick = this._processNodeClick.bind(this);\n    this._processNodeDblClick = this._processNodeDblClick.bind(this);\n    this._toggleVideoPlayback = this._toggleVideoPlayback.bind(this);\n  }\n\n  private _initUI(isNativeControls: boolean) {\n    const config: IScreenViewConfig = {\n      nativeControls: isNativeControls,\n      callbacks: {\n        onWrapperMouseClick: this._processNodeClick,\n        onWrapperMouseDblClick: this._processNodeDblClick,\n      },\n      playbackViewNode: this._engine.getNode(),\n    };\n\n    this.view = new View(config);\n  }\n\n  private _bindEvents() {\n    this._unbindEvents = this._eventEmitter.bindEvents(\n      [\n        [UI_EVENTS.FULLSCREEN_STATUS_CHANGED, this._setFullScreenStatus],\n        [UI_EVENTS.PLAY_OVERLAY_TRIGGERED, this.view.focusOnNode, this.view],\n        [UI_EVENTS.RESIZE, this._updateBackgroundSize],\n        [EngineState.SRC_SET, this.view.resetBackground, this.view],\n        [EngineState.METADATA_LOADED, this.view.resetAspectRatio, this.view],\n      ],\n      this,\n    );\n  }\n\n  private _updateBackgroundSize({\n    width,\n    height,\n  }: {\n    width: number;\n    height: number;\n  }) {\n    this.view.setBackgroundSize(width, height);\n  }\n\n  showCursor() {\n    this.view.showCursor();\n  }\n\n  hideCursor() {\n    this.view.hideCursor();\n  }\n\n  private _setFullScreenStatus(isInFullScreen: boolean) {\n    this._isInFullScreen = isInFullScreen;\n  }\n\n  private _processNodeClick() {\n    if (this._isClickProcessingDisabled) {\n      return;\n    }\n\n    this._showPlaybackChangeIndicator();\n\n    if (!this._fullScreenManager.isEnabled) {\n      this._toggleVideoPlayback();\n    } else {\n      this._setDelayedPlaybackToggle();\n    }\n  }\n\n  private _processNodeDblClick() {\n    if (this._isClickProcessingDisabled) {\n      return;\n    }\n\n    if (this._fullScreenManager.isEnabled) {\n      if (this._isDelayedPlaybackToggleExist) {\n        this._clearDelayedPlaybackToggle();\n        this._hideDelayedPlaybackChangeIndicator();\n      }\n\n      this._toggleFullScreen();\n    }\n  }\n\n  private _showPlaybackChangeIndicator() {\n    const state = this._engine.getCurrentState();\n\n    if (state === EngineState.PLAY_REQUESTED || state === EngineState.PLAYING) {\n      this._interactionIndicator.showPause();\n    } else {\n      this._interactionIndicator.showPlay();\n    }\n  }\n\n  private _hideDelayedPlaybackChangeIndicator() {\n    this._interactionIndicator.hideIcons();\n  }\n\n  private _setDelayedPlaybackToggle() {\n    this._clearDelayedPlaybackToggle();\n\n    this._delayedToggleVideoPlaybackTimeout = window.setTimeout(\n      this._toggleVideoPlayback,\n      PLAYBACK_CHANGE_TIMEOUT,\n    );\n  }\n\n  private _clearDelayedPlaybackToggle() {\n    window.clearTimeout(this._delayedToggleVideoPlaybackTimeout);\n    this._delayedToggleVideoPlaybackTimeout = null;\n  }\n\n  private get _isDelayedPlaybackToggleExist() {\n    return Boolean(this._delayedToggleVideoPlaybackTimeout);\n  }\n\n  private _toggleVideoPlayback() {\n    this._clearDelayedPlaybackToggle();\n\n    const state = this._engine.getCurrentState();\n\n    if (state === EngineState.PLAY_REQUESTED || state === EngineState.PLAYING) {\n      this._eventEmitter.emit(UI_EVENTS.PAUSE_WITH_SCREEN_CLICK_TRIGGERED);\n      this._engine.pause();\n    } else {\n      this._eventEmitter.emit(UI_EVENTS.PLAY_WITH_SCREEN_CLICK_TRIGGERED);\n      this._engine.play();\n    }\n  }\n\n  private _toggleFullScreen() {\n    if (this._isInFullScreen) {\n      this._exitFullScreen();\n    } else {\n      this._enterFullScreen();\n    }\n  }\n\n  hide() {\n    if (!this.isHidden) {\n      this.view.hide();\n      this.isHidden = true;\n    }\n  }\n\n  show() {\n    if (this.isHidden) {\n      this.view.show();\n      this.isHidden = false;\n    }\n  }\n\n  @playerAPI()\n  setVideoViewMode(viewMode: VideoViewMode) {\n    this.view.setViewMode(viewMode);\n  }\n\n  private _enterFullScreen() {\n    this._fullScreenManager.enterFullScreen();\n  }\n\n  private _exitFullScreen() {\n    this._fullScreenManager.exitFullScreen();\n  }\n\n  destroy() {\n    this._unbindEvents();\n\n    this._clearDelayedPlaybackToggle();\n    this.view.destroy();\n    this.view = null;\n\n    this._interactionIndicator = null;\n    this._eventEmitter = null;\n    this._engine = null;\n    this._fullScreenManager = null;\n  }\n}\n","import View from '../core/view';\n\nimport {\n  containerTemplate,\n  playIconTemplate,\n  pauseIconTemplate,\n  forwardIconTemplate,\n  rewindIconTemplate,\n  increaseVolumeIconTemplate,\n  decreaseVolumeIconTemplate,\n  muteIconTemplate,\n} from './templates';\n\nimport htmlToElement from '../core/htmlToElement';\n\nimport { IInteractionIndicatorViewStyles } from './types';\n\nimport styles from './interaction-indicator.scss';\n\nconst SECONDS_COUNT = 5;\n\nclass InteractionIndicatorView extends View<IInteractionIndicatorViewStyles>\n  implements Playable.IView<IInteractionIndicatorViewStyles> {\n  private _$node: HTMLElement;\n\n  private _playIcon: string;\n  private _pauseIcon: string;\n  private _forwardIcon: string;\n  private _rewindIcon: string;\n  private _increaseVolumeIcon: string;\n  private _decreaseVolumeIcon: string;\n  private _muteIcon: string;\n\n  constructor() {\n    super();\n\n    this._$node = htmlToElement(\n      containerTemplate({\n        styles: this.styleNames,\n      }),\n    );\n\n    this._playIcon = playIconTemplate({\n      styles: this.styleNames,\n    });\n    this._pauseIcon = pauseIconTemplate({\n      styles: this.styleNames,\n    });\n    this._forwardIcon = forwardIconTemplate({\n      texts: {\n        SECONDS_COUNT,\n      },\n      styles: this.styleNames,\n    });\n    this._rewindIcon = rewindIconTemplate({\n      texts: {\n        SECONDS_COUNT,\n      },\n      styles: this.styleNames,\n    });\n    this._increaseVolumeIcon = increaseVolumeIconTemplate({\n      styles: this.styleNames,\n    });\n    this._decreaseVolumeIcon = decreaseVolumeIconTemplate({\n      styles: this.styleNames,\n    });\n    this._muteIcon = muteIconTemplate({\n      styles: this.styleNames,\n    });\n  }\n\n  activatePlayIcon() {\n    this._$node.innerHTML = this._playIcon;\n  }\n\n  activatePauseIcon() {\n    this._$node.innerHTML = this._pauseIcon;\n  }\n\n  activateForwardIcon() {\n    this._$node.innerHTML = this._forwardIcon;\n  }\n\n  activateRewindIcon() {\n    this._$node.innerHTML = this._rewindIcon;\n  }\n\n  activateIncreaseVolumeIcon() {\n    this._$node.innerHTML = this._increaseVolumeIcon;\n  }\n\n  activateDecreaseVolumeIcon() {\n    this._$node.innerHTML = this._decreaseVolumeIcon;\n  }\n\n  activateMuteVolumeIcon() {\n    this._$node.innerHTML = this._muteIcon;\n  }\n\n  deactivateIcon() {\n    this._$node.innerHTML = '';\n  }\n\n  hide() {\n    this._$node.classList.add(this.styleNames.hidden);\n  }\n\n  show() {\n    this._$node.classList.remove(this.styleNames.hidden);\n  }\n\n  getNode() {\n    return this._$node;\n  }\n\n  destroy() {\n    if (this._$node.parentNode) {\n      this._$node.parentNode.removeChild(this._$node);\n    }\n\n    this._$node = null;\n  }\n}\n\nInteractionIndicatorView.extendStyleNames(styles);\n\nexport default InteractionIndicatorView;\n","import { UI_EVENTS, EngineState } from '../../../constants';\n\nimport View from './interaction-indicator.view';\n\nimport { IEventEmitter } from '../../event-emitter/types';\nimport { IPlaybackEngine } from '../../playback-engine/types';\nimport { IInteractionIndicator } from './types';\nimport { IPlayerConfig } from '../../../core/config';\n\nexport default class InteractionIndicator implements IInteractionIndicator {\n  static moduleName = 'interactionIndicator';\n  static View = View;\n  static dependencies = ['engine', 'eventEmitter', 'config', 'rootContainer'];\n\n  private _eventEmitter: IEventEmitter;\n  private _engine: IPlaybackEngine;\n\n  private _unbindEvents: Function;\n\n  view: View;\n\n  constructor({\n    eventEmitter,\n    engine,\n    config,\n    rootContainer,\n  }: {\n    eventEmitter: IEventEmitter;\n    engine: IPlaybackEngine;\n    config: IPlayerConfig;\n    rootContainer: Playable.IRootContainer;\n  }) {\n    this._eventEmitter = eventEmitter;\n    this._engine = engine;\n\n    this._initUI();\n    this._bindEvents();\n\n    rootContainer.appendComponentNode(this.node);\n\n    if (config.showInteractionIndicator === false) {\n      this.hide();\n    }\n  }\n\n  get node() {\n    return this.view.getNode();\n  }\n\n  private _initUI() {\n    this.view = new View();\n  }\n\n  private _bindEvents() {\n    this._unbindEvents = this._eventEmitter.bindEvents(\n      [\n        [\n          UI_EVENTS.TOGGLE_PLAYBACK_WITH_KEYBOARD_TRIGGERED,\n          this._showPlaybackChangeIndicator,\n        ],\n        [UI_EVENTS.GO_BACKWARD_WITH_KEYBOARD_TRIGGERED, this.showRewind],\n        [UI_EVENTS.GO_FORWARD_WITH_KEYBOARD_TRIGGERED, this.showForward],\n        [\n          UI_EVENTS.INCREASE_VOLUME_WITH_KEYBOARD_TRIGGERED,\n          this.showIncreaseVolume,\n        ],\n        [\n          UI_EVENTS.DECREASE_VOLUME_WITH_KEYBOARD_TRIGGERED,\n          this.showDecreaseVolume,\n        ],\n        [UI_EVENTS.MUTE_SOUND_WITH_KEYBOARD_TRIGGERED, this.showMute],\n        [\n          UI_EVENTS.UNMUTE_SOUND_WITH_KEYBOARD_TRIGGERED,\n          this.showIncreaseVolume,\n        ],\n      ],\n      this,\n    );\n  }\n\n  showPause() {\n    this.view.activatePauseIcon();\n  }\n\n  showPlay() {\n    this.view.activatePlayIcon();\n  }\n\n  showRewind() {\n    this.view.activateRewindIcon();\n  }\n\n  showForward() {\n    this.view.activateForwardIcon();\n  }\n\n  showMute() {\n    this.view.activateMuteVolumeIcon();\n  }\n\n  showIncreaseVolume() {\n    this.view.activateIncreaseVolumeIcon();\n  }\n\n  showDecreaseVolume() {\n    this.view.activateDecreaseVolumeIcon();\n  }\n\n  hideIcons() {\n    this.view.deactivateIcon();\n    this._eventEmitter.emit(UI_EVENTS.HIDE_INTERACTION_INDICATOR_TRIGGERED);\n  }\n\n  show() {\n    this.view.hide();\n  }\n\n  hide() {\n    this.view.show();\n  }\n\n  private _showPlaybackChangeIndicator() {\n    const state = this._engine.getCurrentState();\n\n    if (state === EngineState.PLAY_REQUESTED || state === EngineState.PLAYING) {\n      this.view.activatePauseIcon();\n    } else {\n      this.view.activatePlayIcon();\n    }\n  }\n\n  destroy() {\n    this._unbindEvents();\n\n    this.view.destroy();\n    this.view = null;\n\n    this._eventEmitter = null;\n    this._engine = null;\n  }\n}\n","export default {\r\n  overlayPlaySvgFill: {\r\n    fill: (data: any) => data.color,\r\n  },\r\n  overlayPlaySvgStroke: {\r\n    stroke: (data: any) => data.color,\r\n  },\r\n};\r\n","import View from '../core/view';\n\nimport { overlayTemplate } from './templates';\nimport htmlToElement from '../core/htmlToElement';\nimport getElementByHook from '../core/getElementByHook';\n\nimport {\n  IOverlayViewConfig,\n  IOverlayViewCallbacks,\n  IOverlayViewStyles,\n} from './types';\n\nimport overlayViewTheme from './overlay.theme';\nimport styles from './overlay.scss';\n\nclass OverlayView extends View<IOverlayViewStyles>\n  implements Playable.IView<IOverlayViewStyles> {\n  private _callbacks: IOverlayViewCallbacks;\n\n  private _$node: HTMLElement;\n  private _$content: HTMLElement;\n  private _$playButton: HTMLElement;\n\n  constructor(config: IOverlayViewConfig) {\n    super(config.theme);\n\n    const { callbacks, src } = config;\n\n    this._callbacks = callbacks;\n\n    this._initDOM();\n    this._bindEvents();\n\n    this.setPoster(src);\n  }\n\n  private _initDOM() {\n    this._$node = htmlToElement(\n      overlayTemplate({\n        styles: this.styleNames,\n        themeStyles: this.themeStyles,\n      }),\n    );\n\n    this._$content = getElementByHook(this._$node, 'overlay-content');\n    this._$playButton = getElementByHook(this._$node, 'overlay-play-button');\n  }\n\n  private _bindEvents() {\n    this._$playButton.addEventListener('click', this._callbacks.onPlayClick);\n  }\n\n  private _unbindEvents() {\n    this._$playButton.removeEventListener('click', this._callbacks.onPlayClick);\n  }\n\n  getNode() {\n    return this._$node;\n  }\n\n  hideContent() {\n    this._$node.classList.remove(this.styleNames.active);\n  }\n\n  showContent() {\n    this._$node.classList.add(this.styleNames.active);\n  }\n\n  hide() {\n    this._$node.classList.add(this.styleNames.hidden);\n  }\n\n  show() {\n    this._$node.classList.remove(this.styleNames.hidden);\n  }\n\n  setPoster(src: string) {\n    this._$content.style.backgroundImage = src ? `url('${src}')` : 'none';\n  }\n\n  destroy() {\n    this._unbindEvents();\n\n    if (this._$node.parentNode) {\n      this._$node.parentNode.removeChild(this._$node);\n    }\n\n    this._$node = null;\n    this._$content = null;\n    this._$playButton = null;\n  }\n}\n\nOverlayView.setTheme(overlayViewTheme);\nOverlayView.extendStyleNames(styles);\n\nexport default OverlayView;\n","import { VIDEO_EVENTS, UI_EVENTS, EngineState } from '../../../constants';\n\nimport playerAPI from '../../../core/player-api-decorator';\n\nimport View from './overlay.view';\nimport { IOverlay, IOverlayConfig, IOverlayViewConfig } from './types';\nimport { IEventEmitter } from '../../event-emitter/types';\nimport { IPlaybackEngine } from '../../playback-engine/types';\nimport { IPlayerConfig } from '../../../core/config';\n\nexport default class Overlay implements IOverlay {\n  static moduleName = 'overlay';\n  static View = View;\n  static dependencies = [\n    'engine',\n    'eventEmitter',\n    'config',\n    'rootContainer',\n    'theme',\n  ];\n\n  private _eventEmitter: IEventEmitter;\n  private _engine: IPlaybackEngine;\n  private _theme: Playable.IThemeService;\n\n  private _unbindEvents: Function;\n\n  view: View;\n  isHidden: boolean = false;\n\n  constructor({\n    config,\n    eventEmitter,\n    engine,\n    rootContainer,\n    theme,\n  }: {\n    config: IPlayerConfig;\n    eventEmitter: IEventEmitter;\n    engine: IPlaybackEngine;\n    rootContainer: Playable.IRootContainer;\n    theme: Playable.IThemeService;\n  }) {\n    this._eventEmitter = eventEmitter;\n    this._engine = engine;\n    this._theme = theme;\n\n    this._bindEvents();\n    this._initUI(config.overlay);\n\n    rootContainer.appendComponentNode(this.node);\n\n    if (config.overlay === false) {\n      this.hide();\n    }\n  }\n\n  get node() {\n    return this.view.getNode();\n  }\n\n  private _initUI(overlayConfig: IOverlayConfig | boolean) {\n    const poster: string =\n      typeof overlayConfig === 'object' ? overlayConfig.poster : null;\n    const viewConfig: IOverlayViewConfig = {\n      callbacks: {\n        onPlayClick: this._playVideo.bind(this),\n      },\n      src: poster,\n      theme: this._theme,\n    };\n\n    this.view = new Overlay.View(viewConfig);\n  }\n\n  private _bindEvents() {\n    this._unbindEvents = this._eventEmitter.bindEvents(\n      [\n        [VIDEO_EVENTS.STATE_CHANGED, this._updatePlayingStatus],\n        [VIDEO_EVENTS.RESET, this._tryShowContent],\n      ],\n      this,\n    );\n  }\n\n  private _updatePlayingStatus({ nextState }: { nextState: EngineState }) {\n    if (nextState === EngineState.PLAY_REQUESTED) {\n      this._hideContent();\n    } else if (\n      nextState === EngineState.ENDED ||\n      nextState === EngineState.SRC_SET\n    ) {\n      this._tryShowContent();\n    }\n  }\n\n  private _playVideo() {\n    this._engine.play();\n\n    this._eventEmitter.emit(UI_EVENTS.PLAY_OVERLAY_TRIGGERED);\n  }\n\n  private _tryShowContent() {\n    if (this._engine.isVideoPaused) {\n      this._showContent();\n    }\n  }\n\n  private _hideContent() {\n    this.view.hideContent();\n  }\n\n  private _showContent() {\n    this.view.showContent();\n  }\n\n  hide() {\n    this.isHidden = true;\n    this.view.hide();\n  }\n\n  show() {\n    this.isHidden = false;\n    this.view.show();\n  }\n\n  /**\n   * Method for setting overlay poster\n   * @param src - Source of image\n   * @example\n   * player.setPoster('https://example.com/poster.png');\n   *\n   */\n  @playerAPI()\n  setPoster(src: string) {\n    this.view.setPoster(src);\n  }\n\n  destroy() {\n    this._unbindEvents();\n    this.view.destroy();\n    this.view = null;\n\n    this._eventEmitter = null;\n    this._engine = null;\n  }\n}\n","import View from '../core/view';\n\nimport { loaderTemplate } from './templates';\n\nimport htmlToElement from '../core/htmlToElement';\n\nimport { ILoaderViewStyles } from './types';\n\nimport styles from './loader.scss';\n\nclass LoaderView extends View<ILoaderViewStyles>\n  implements Playable.IView<ILoaderViewStyles> {\n  private _$node: HTMLElement;\n\n  constructor() {\n    super();\n\n    this._$node = htmlToElement(\n      loaderTemplate({\n        styles: this.styleNames,\n      }),\n    );\n  }\n\n  getNode() {\n    return this._$node;\n  }\n\n  showContent() {\n    this._$node.classList.add(this.styleNames.active);\n  }\n\n  hideContent() {\n    this._$node.classList.remove(this.styleNames.active);\n  }\n\n  hide() {\n    this._$node.classList.add(this.styleNames.hidden);\n  }\n\n  show() {\n    this._$node.classList.remove(this.styleNames.hidden);\n  }\n\n  destroy() {\n    if (this._$node.parentNode) {\n      this._$node.parentNode.removeChild(this._$node);\n    }\n\n    this._$node = null;\n  }\n}\n\nLoaderView.extendStyleNames(styles);\n\nexport default LoaderView;\n","import { VIDEO_EVENTS, UI_EVENTS, EngineState } from '../../../constants';\n\nimport View from './loader.view';\n\nimport { IEventEmitter } from '../../event-emitter/types';\nimport { IPlaybackEngine } from '../../playback-engine/types';\nimport { IPlayerConfig } from '../../../core/config';\n\nexport const DELAYED_SHOW_TIMEOUT = 100;\n\nexport default class Loader {\n  static moduleName = 'loader';\n  static View = View;\n  static dependencies = ['engine', 'eventEmitter', 'config', 'rootContainer'];\n\n  private _eventEmitter: IEventEmitter;\n  private _engine: IPlaybackEngine;\n\n  private _delayedShowTimeout: number;\n  private _unbindEvents: Function;\n\n  view: View;\n  isHidden: boolean;\n\n  constructor({\n    config,\n    eventEmitter,\n    engine,\n    rootContainer,\n  }: {\n    config: IPlayerConfig;\n    eventEmitter: IEventEmitter;\n    engine: IPlaybackEngine;\n    rootContainer: Playable.IRootContainer;\n  }) {\n    this._eventEmitter = eventEmitter;\n    this.isHidden = false;\n    this._engine = engine;\n\n    this._bindCallbacks();\n\n    this._initUI();\n    this._bindEvents();\n    this._hideContent();\n\n    rootContainer.appendComponentNode(this.node);\n\n    if (config.loader === false) {\n      this.hide();\n    }\n  }\n\n  get node() {\n    return this.view.getNode();\n  }\n\n  private _bindCallbacks() {\n    this._showContent = this._showContent.bind(this);\n    this._hideContent = this._hideContent.bind(this);\n  }\n\n  private _bindEvents() {\n    this._unbindEvents = this._eventEmitter.bindEvents(\n      [\n        [VIDEO_EVENTS.STATE_CHANGED, this._checkForWaitingState],\n        [VIDEO_EVENTS.UPLOAD_SUSPEND, this.hide],\n      ],\n      this,\n    );\n  }\n\n  private _checkForWaitingState({ nextState }: { nextState: EngineState }) {\n    switch (nextState) {\n      case EngineState.SEEK_IN_PROGRESS:\n        this.startDelayedShow();\n        break;\n      case EngineState.WAITING:\n        this.startDelayedShow();\n        break;\n      case EngineState.LOAD_STARTED:\n        if (this._engine.isPreloadAvailable) {\n          this._showContent();\n        }\n        break;\n      case EngineState.READY_TO_PLAY:\n        this.stopDelayedShow();\n        this._hideContent();\n        break;\n      case EngineState.PLAYING:\n        this.stopDelayedShow();\n        this._hideContent();\n        break;\n      case EngineState.PAUSED:\n        this.stopDelayedShow();\n        this._hideContent();\n        break;\n\n      /* ignore coverage */\n      default:\n        break;\n    }\n  }\n\n  private _initUI() {\n    this.view = new Loader.View();\n  }\n\n  private _showContent() {\n    if (this.isHidden) {\n      this._eventEmitter.emit(UI_EVENTS.LOADER_SHOW_TRIGGERED);\n      this.view.showContent();\n      this.isHidden = false;\n    }\n  }\n\n  private _hideContent() {\n    if (!this.isHidden) {\n      this._eventEmitter.emit(UI_EVENTS.LOADER_HIDE_TRIGGERED);\n      this.view.hideContent();\n      this.isHidden = true;\n    }\n  }\n\n  hide() {\n    this.view.hide();\n  }\n\n  show() {\n    this.view.show();\n  }\n\n  startDelayedShow() {\n    if (this.isDelayedShowScheduled) {\n      this.stopDelayedShow();\n    }\n    this._delayedShowTimeout = window.setTimeout(\n      this._showContent,\n      DELAYED_SHOW_TIMEOUT,\n    );\n  }\n\n  stopDelayedShow() {\n    window.clearTimeout(this._delayedShowTimeout);\n    this._delayedShowTimeout = null;\n  }\n\n  get isDelayedShowScheduled() {\n    return Boolean(this._delayedShowTimeout);\n  }\n\n  destroy() {\n    this._unbindEvents();\n    this.stopDelayedShow();\n\n    this.view.destroy();\n    this.view = null;\n\n    this._eventEmitter = null;\n    this._engine = null;\n  }\n}\n","import View from '../core/view';\n\nimport { mainUIBlockTemplate } from './templates';\nimport htmlToElement from '../core/htmlToElement';\nimport styles from './main-ui-block.scss';\n\nimport {\n  IMainUIBlockViewStyles,\n  IMainUIBlockViewConfig,\n  IMainUIBlockViewElements,\n} from './types';\n\nclass MainUIBlockView extends View<IMainUIBlockViewStyles>\n  implements Playable.IView<IMainUIBlockViewStyles> {\n  private _$node: HTMLElement;\n\n  constructor(config: IMainUIBlockViewConfig) {\n    super();\n\n    this._initDOM(config.elements);\n  }\n\n  private _initDOM(elements: IMainUIBlockViewElements) {\n    this._$node = htmlToElement(\n      mainUIBlockTemplate({\n        styles: this.styleNames,\n      }),\n    );\n\n    const $tooltipContainerWrapper = document.createElement('div');\n    $tooltipContainerWrapper.classList.add(\n      this.styleNames.tooltipContainerWrapper,\n    );\n    $tooltipContainerWrapper.appendChild(elements.tooltipContainer);\n\n    this._$node.appendChild(elements.topBlock);\n    this._$node.appendChild($tooltipContainerWrapper);\n    this._$node.appendChild(elements.bottomBlock);\n  }\n\n  getNode() {\n    return this._$node;\n  }\n\n  destroy() {\n    if (this._$node.parentNode) {\n      this._$node.parentNode.removeChild(this._$node);\n    }\n\n    this._$node = null;\n  }\n}\n\nMainUIBlockView.extendStyleNames(styles);\n\nexport { IMainUIBlockViewConfig };\n\nexport default MainUIBlockView;\n","import { VIDEO_EVENTS, UI_EVENTS, EngineState } from '../../../constants';\nimport playerAPI from '../../../core/player-api-decorator';\n\nimport MainUIBlockView from './main-ui-block.view';\n\nimport {\n  IMainUIBlock,\n  IMainUIBlockConfig,\n  IMainUIBlockViewElements,\n} from './types';\nimport { IEventEmitter } from '../../event-emitter/types';\nimport { IBottomBlock } from '../bottom-block/types';\nimport { ITopBlock } from '../top-block/types';\nimport { IScreen } from '../screen/types';\nimport { IPlayerConfig } from '../../../core/config';\n\nconst HIDE_BLOCK_TIMEOUT = 2000;\n\nconst DEFAULT_CONFIG: IMainUIBlockConfig = {\n  shouldAlwaysShow: false,\n};\n\nexport default class MainUIBlock implements IMainUIBlock {\n  static moduleName = 'mainUIBlock';\n  static View = MainUIBlockView;\n  static dependencies = [\n    'config',\n    'screen',\n    'rootContainer',\n    'tooltipService',\n    'eventEmitter',\n    'topBlock',\n    'bottomBlock',\n  ];\n\n  private _eventEmitter: IEventEmitter;\n  private _bottomBlock: IBottomBlock;\n  private _topBlock: ITopBlock;\n  private _screen: IScreen;\n\n  private _hideTimeout: number = null;\n\n  private _isContentShowingEnabled: boolean = true;\n  private _isContentShown: boolean = false;\n  private _shouldShowContent: boolean = true;\n  private _shouldAlwaysShow: boolean = false;\n  private _isDragging: boolean = false;\n\n  private _unbindEvents: Function;\n\n  view: MainUIBlockView;\n  isHidden: boolean;\n\n  constructor(dependencies: {\n    config: IPlayerConfig;\n    eventEmitter: IEventEmitter;\n    rootContainer: Playable.IRootContainer;\n    tooltipService: Playable.ITooltipService;\n    topBlock: ITopBlock;\n    bottomBlock: IBottomBlock;\n    screen: IScreen;\n  }) {\n    const {\n      config,\n      eventEmitter,\n      rootContainer,\n      tooltipService,\n      topBlock,\n      bottomBlock,\n      screen,\n    } = dependencies;\n\n    this._eventEmitter = eventEmitter;\n    this._topBlock = topBlock;\n    this._bottomBlock = bottomBlock;\n    this._screen = screen;\n\n    this.isHidden = false;\n    const mainBlockConfig = {\n      ...DEFAULT_CONFIG,\n      ...(typeof config.controls === 'object' ? config.controls : null),\n    };\n\n    this._shouldAlwaysShow = mainBlockConfig.shouldAlwaysShow;\n\n    this._initUI({\n      tooltipContainer: tooltipService.tooltipContainerNode,\n      topBlock: topBlock.node,\n      bottomBlock: bottomBlock.node,\n    });\n    this._bindViewCallbacks();\n    this._bindEvents();\n\n    rootContainer.appendComponentNode(this.view.getNode());\n\n    if (config.controls === false) {\n      this.hide();\n    }\n  }\n\n  get node() {\n    return this.view.getNode();\n  }\n\n  private _initUI(elements: IMainUIBlockViewElements) {\n    this.view = new MainUIBlock.View({ elements });\n  }\n\n  private _bindViewCallbacks() {\n    this._startHideBlockTimeout = this._startHideBlockTimeout.bind(this);\n    this._tryShowContent = this._tryShowContent.bind(this);\n    this._tryHideContent = this._tryHideContent.bind(this);\n  }\n\n  private _bindEvents() {\n    this._unbindEvents = this._eventEmitter.bindEvents(\n      [\n        [UI_EVENTS.MOUSE_MOVE_ON_PLAYER_TRIGGERED, this._startHideBlockTimeout],\n        [UI_EVENTS.MOUSE_LEAVE_ON_PLAYER_TRIGGERED, this._tryHideContent],\n        [UI_EVENTS.KEYBOARD_KEYDOWN_INTERCEPTED, this._startHideBlockTimeout],\n        [UI_EVENTS.LOADER_HIDE_TRIGGERED, this._startHideBlockTimeout],\n        [VIDEO_EVENTS.STATE_CHANGED, this._updatePlayingStatus],\n        [UI_EVENTS.CONTROL_DRAG_START, this._onControlDragStart],\n        [UI_EVENTS.CONTROL_DRAG_END, this._onControlDragEnd],\n      ],\n      this,\n    );\n  }\n\n  private _updatePlayingStatus({ nextState }: { nextState: EngineState }) {\n    switch (nextState) {\n      case EngineState.PLAY_REQUESTED: {\n        this._shouldShowContent = false;\n        this._startHideBlockTimeout();\n        break;\n      }\n      case EngineState.ENDED: {\n        this._shouldShowContent = true;\n        this._tryShowContent();\n        break;\n      }\n      case EngineState.PAUSED: {\n        this._shouldShowContent = true;\n        this._tryShowContent();\n        break;\n      }\n      case EngineState.SRC_SET: {\n        this._shouldShowContent = true;\n        this._tryShowContent();\n        break;\n      }\n      default:\n        break;\n    }\n  }\n\n  private get _isBlockFocused() {\n    return this._bottomBlock.isFocused;\n  }\n\n  private _startHideBlockTimeout() {\n    this._stopHideBlockTimeout();\n\n    this._tryShowContent();\n\n    this._hideTimeout = window.setTimeout(\n      this._tryHideContent,\n      HIDE_BLOCK_TIMEOUT,\n    );\n  }\n\n  private _stopHideBlockTimeout() {\n    if (this._hideTimeout) {\n      window.clearTimeout(this._hideTimeout);\n    }\n  }\n\n  private _tryShowContent() {\n    if (this._isContentShowingEnabled) {\n      this._showContent();\n    }\n  }\n\n  private _onControlDragStart() {\n    this._isDragging = true;\n  }\n\n  private _onControlDragEnd() {\n    this._isDragging = false;\n    this._tryHideContent();\n  }\n\n  private _showContent() {\n    if (this.isHidden || this._isContentShown) {\n      return;\n    }\n\n    this._screen.showCursor();\n\n    this._eventEmitter.emit((UI_EVENTS as any).MAIN_BLOCK_SHOW_TRIGGERED);\n    this._bottomBlock.showContent();\n    this._topBlock.showContent();\n    this._isContentShown = true;\n  }\n\n  private _tryHideContent() {\n    if (\n      !this._isBlockFocused &&\n      !this._isDragging &&\n      !this._shouldShowContent &&\n      !this._shouldAlwaysShow\n    ) {\n      this._hideContent();\n    }\n  }\n\n  private _hideContent() {\n    if (this.isHidden || !this._isContentShown) {\n      return;\n    }\n\n    if (this._isContentShowingEnabled) {\n      this._screen.hideCursor();\n    }\n\n    this._eventEmitter.emit((UI_EVENTS as any).MAIN_BLOCK_HIDE_TRIGGERED);\n    this._bottomBlock.hideContent();\n    this._topBlock.hideContent();\n    this._isContentShown = false;\n  }\n\n  disableShowingContent() {\n    this._isContentShowingEnabled = false;\n    this._hideContent();\n  }\n\n  enableShowingContent() {\n    this._isContentShowingEnabled = true;\n    if (this._shouldShowContent) {\n      this._showContent();\n    }\n  }\n\n  hide() {\n    this.isHidden = true;\n    this._topBlock.hide();\n    this._bottomBlock.hide();\n  }\n\n  show() {\n    this.isHidden = false;\n    this._topBlock.show();\n    this._bottomBlock.show();\n  }\n\n  /**\n   * Method for allowing bottom block to be always shown.\n   * @param flag - `true` for showing always\n   * @example\n   * player.setControlsShouldAlwaysShow(true);\n   *\n   */\n  @playerAPI('setControlsShouldAlwaysShow')\n  setShouldAlwaysShow(flag: boolean) {\n    this._shouldAlwaysShow = flag;\n\n    if (this._shouldAlwaysShow) {\n      this._tryShowContent();\n    } else {\n      this._startHideBlockTimeout();\n    }\n  }\n\n  destroy() {\n    this._stopHideBlockTimeout();\n    this._unbindEvents();\n    this.view.destroy();\n\n    this.view = null;\n    this._eventEmitter = null;\n    this._topBlock = null;\n    this._bottomBlock = null;\n  }\n}\n","import View from '../core/view';\n\nimport htmlToElement from '../core/htmlToElement';\nimport getElementByHook from '../core/getElementByHook';\n\nimport { topBlockTemplate } from './templates';\n\nimport {\n  ITopBlockViewStyles,\n  ITopBlockViewConfig,\n  ITopBlockViewElements,\n} from './types';\n\nimport styles from './top-block.scss';\n\nclass TopBlockView extends View<ITopBlockViewStyles>\n  implements Playable.IView<ITopBlockViewStyles> {\n  private _$node: HTMLElement;\n\n  constructor(config: ITopBlockViewConfig) {\n    super();\n    const { elements } = config;\n\n    this._initDOM(elements);\n    this._bindEvents();\n  }\n\n  private _initDOM(elements: ITopBlockViewElements) {\n    this._$node = htmlToElement(\n      topBlockTemplate({\n        styles: this.styleNames,\n      }),\n    );\n\n    const $titleContainer = getElementByHook(this._$node, 'title-container');\n    const $liveIndicatorContainer = getElementByHook(\n      this._$node,\n      'live-indicator-container',\n    );\n\n    $titleContainer.appendChild(elements.title);\n    $liveIndicatorContainer.appendChild(elements.liveIndicator);\n  }\n\n  private _preventClickPropagation(e: MouseEvent) {\n    e.stopPropagation();\n  }\n\n  private _bindEvents() {\n    this._$node.addEventListener('click', this._preventClickPropagation);\n  }\n\n  private _unbindEvents() {\n    this._$node.removeEventListener('click', this._preventClickPropagation);\n  }\n\n  show() {\n    this._$node.classList.remove(this.styleNames.hidden);\n  }\n\n  hide() {\n    this._$node.classList.add(this.styleNames.hidden);\n  }\n\n  getNode() {\n    return this._$node;\n  }\n\n  showContent() {\n    this._$node.classList.add(this.styleNames.activated);\n  }\n\n  hideContent() {\n    this._$node.classList.remove(this.styleNames.activated);\n  }\n\n  destroy() {\n    this._unbindEvents();\n    if (this._$node.parentNode) {\n      this._$node.parentNode.removeChild(this._$node);\n    }\n\n    this._$node = null;\n  }\n}\n\nTopBlockView.extendStyleNames(styles);\n\nexport default TopBlockView;\n","import View from './top-block.view';\n\nimport { ILiveIndicator } from '../live-indicator/types';\nimport { ITopBlock, ITopBlockViewConfig, ITopBlockViewElements } from './types';\n\ninterface IDependencies {\n  title: Playable.ITitle;\n  liveIndicator: ILiveIndicator;\n}\n\nexport default class TopBlock implements ITopBlock {\n  static moduleName = 'topBlock';\n  static View = View;\n  static dependencies = ['title', 'liveIndicator'];\n\n  isHidden: boolean;\n  view: View;\n\n  constructor(dependencies: IDependencies) {\n    this.isHidden = false;\n\n    this._initUI(this._getElementsNodes(dependencies));\n  }\n\n  private _initUI(elementNodes: ITopBlockViewElements) {\n    const config: ITopBlockViewConfig = {\n      elements: elementNodes,\n    };\n\n    this.view = new TopBlock.View(config);\n  }\n\n  private _getElementsNodes(\n    dependencies: IDependencies,\n  ): ITopBlockViewElements {\n    const { title, liveIndicator } = dependencies;\n\n    return {\n      title: title.node,\n      liveIndicator: liveIndicator.node,\n    };\n  }\n\n  get node() {\n    return this.view.getNode();\n  }\n\n  hide() {\n    this.isHidden = true;\n    this.view.hide();\n  }\n\n  show() {\n    this.isHidden = false;\n    this.view.show();\n  }\n\n  showContent() {\n    this.view.showContent();\n  }\n\n  hideContent() {\n    this.view.hideContent();\n  }\n\n  destroy() {\n    this.view.destroy();\n    this.view = null;\n  }\n}\n","export default {\r\n  titleText: {\r\n    color: (data: any) => data.color,\r\n  },\r\n};\r\n","import View from '../core/view';\n\nimport { titleTemplate } from './templates';\nimport htmlToElement from '../core/htmlToElement';\nimport getElementByHook from '../core/getElementByHook';\nimport toggleNodeClass from '../core/toggleNodeClass';\n\nimport titleViewTheme from './title.theme';\nimport styles from './title.scss';\n\nclass TitleView extends View<Playable.ITitleViewStyles>\n  implements Playable.IView<Playable.ITitleViewStyles> {\n  private _callbacks: Playable.ITitleViewCallbacks;\n\n  private _$node: HTMLElement;\n  _$title: HTMLElement;\n\n  constructor(config: Playable.ITitleViewConfig) {\n    const { callbacks, theme } = config;\n\n    super(theme);\n\n    this._callbacks = callbacks;\n\n    this._initDOM();\n    this._bindEvents();\n  }\n\n  private _initDOM() {\n    this._$node = htmlToElement(\n      titleTemplate({ styles: this.styleNames, themeStyles: this.themeStyles }),\n    );\n    this._$title = getElementByHook(this._$node, 'video-title');\n  }\n\n  private _bindEvents() {\n    this._$title.addEventListener('click', this._callbacks.onClick);\n  }\n\n  private _unbindEvents() {\n    this._$title.removeEventListener('click', this._callbacks.onClick);\n  }\n\n  setDisplayAsLink(flag: boolean) {\n    toggleNodeClass(this._$title, this.styleNames.link, flag);\n  }\n\n  setTitle(title?: string) {\n    // TODO: mb move this logic to controller? title.isHidden is out of control of this method\n    // TODO: what if we call with empty value `.setTitle('')` and then call `.show()` method? Mb clear value anyway?\n    if (title) {\n      this.show();\n      this._$title.innerHTML = title;\n    } else {\n      this.hide();\n    }\n  }\n\n  show() {\n    this._$node.classList.remove(this.styleNames.hidden);\n  }\n\n  hide() {\n    this._$node.classList.add(this.styleNames.hidden);\n  }\n\n  getNode() {\n    return this._$node;\n  }\n\n  destroy() {\n    this._unbindEvents();\n    if (this._$node.parentNode) {\n      this._$node.parentNode.removeChild(this._$node);\n    }\n\n    this._$node = null;\n    this._$title = null;\n  }\n}\n\nTitleView.setTheme(titleViewTheme);\nTitleView.extendStyleNames(styles);\n\nexport default TitleView;\n","import View from './title.view';\n\nimport playerAPI from '../../../core/player-api-decorator';\n\nimport { IPlayerConfig } from '../../../core/config';\n\nexport default class TitleControl implements Playable.ITitle {\n  static moduleName = 'title';\n  static View = View;\n  static dependencies = ['config', 'theme'];\n\n  private _callback: Function;\n  private _theme: Playable.IThemeService;\n\n  view: View;\n  isHidden: boolean;\n\n  constructor({\n    config,\n    theme,\n  }: {\n    config: IPlayerConfig;\n    theme: Playable.IThemeService;\n  }) {\n    this._theme = theme;\n\n    this._bindCallbacks();\n    this._initUI();\n    if (typeof config.title === 'object') {\n      this.setTitleClickCallback(config.title.callback || null);\n      this.setTitle(config.title.text);\n    } else if (config.title === false) {\n      this.hide();\n    }\n  }\n\n  get node() {\n    return this.view.getNode();\n  }\n\n  private _bindCallbacks() {\n    this._triggerCallback = this._triggerCallback.bind(this);\n  }\n\n  private _initUI() {\n    const config: Playable.ITitleViewConfig = {\n      theme: this._theme,\n      callbacks: {\n        onClick: this._triggerCallback,\n      },\n    };\n\n    this.view = new TitleControl.View(config);\n\n    this.view.setTitle();\n  }\n\n  /**\n   * Display title text over the video. If you want to have clickable title, use `setTitleClickCallback`\n   *\n   * @param title - Text for the video title\n   *\n   * @example\n   * player.setTitle('Your awesome video title here');\n   *\n   * @note\n   * [Live Demo](https://jsfiddle.net/bodia/243k6m0u/)\n   */\n  @playerAPI()\n  setTitle(title?: string) {\n    this.view.setTitle(title);\n  }\n\n  /**\n   * Method for attaching callback for click on title\n   *\n   * @param callback - Your function\n   *\n   * @example\n   * const callback = () => {\n   *   console.log('Click on title);\n   * }\n   * player.setTitleClickCallback(callback);\n   *\n   */\n  @playerAPI()\n  setTitleClickCallback(callback?: Function) {\n    this._callback = callback;\n    this.view.setDisplayAsLink(Boolean(this._callback));\n  }\n\n  private _triggerCallback() {\n    if (this._callback) {\n      this._callback();\n    }\n  }\n\n  hide() {\n    this.isHidden = true;\n    this.view.hide();\n  }\n\n  show() {\n    this.isHidden = false;\n    this.view.show();\n  }\n\n  destroy() {\n    this.view.destroy();\n    this.view = null;\n  }\n}\n","import View from '../core/view';\n\nimport { liveIndicatorTemplate } from './templates';\n\nimport htmlToElement from '../core/htmlToElement';\nimport getElementByHook from '../core/getElementByHook';\nimport toggleNodeClass from '../core/toggleNodeClass';\n\nimport {\n  ILiveIndicatorViewStyles,\n  ILiveIndicatorViewCallbacks,\n  ILiveIndicatorViewConfig,\n} from './types';\n\nimport styles from './live-indicator.scss';\n\nimport { TEXT_LABELS } from '../../../constants';\n\nclass LiveIndicatorView extends View<ILiveIndicatorViewStyles>\n  implements Playable.IView<ILiveIndicatorViewStyles> {\n  private _callbacks: ILiveIndicatorViewCallbacks;\n  private _textMap: Playable.ITextMap;\n  private _tooltipService: Playable.ITooltipService;\n  private _tooltipReference: Playable.ITooltipReference;\n\n  private _$node: HTMLElement;\n  private _$liveIndicatorText: HTMLElement;\n\n  constructor(config: ILiveIndicatorViewConfig) {\n    super();\n\n    this._callbacks = config.callbacks;\n    this._textMap = config.textMap;\n    this._tooltipService = config.tooltipService;\n\n    this._initDOM();\n    this._bindEvents();\n  }\n\n  private _initDOM() {\n    this._$node = htmlToElement(\n      liveIndicatorTemplate({\n        styles: this.styleNames,\n        themeStyles: this.themeStyles,\n        texts: {},\n      }),\n    );\n\n    this._$liveIndicatorText = getElementByHook(\n      this._$node,\n      'live-indicator-text',\n    );\n\n    this._tooltipReference = this._tooltipService.createReference(this._$node, {\n      text: this._textMap.get(TEXT_LABELS.LIVE_SYNC_TOOLTIP),\n    });\n\n    // NOTE: LIVE indicator is hidden and inactive by default\n    this.toggle(false);\n    this.toggleActive(false);\n    this.toggleEnded(false);\n  }\n\n  private _bindEvents() {\n    this._$node.addEventListener('click', this._callbacks.onClick);\n  }\n\n  private _unbindEvents() {\n    this._$node.removeEventListener('click', this._callbacks.onClick);\n  }\n\n  toggleActive(shouldActivate: boolean) {\n    toggleNodeClass(this._$node, this.styleNames.active, shouldActivate);\n\n    // NOTE: disable tooltip while video is sync with live\n    if (shouldActivate) {\n      this._tooltipReference.disable();\n    } else {\n      this._tooltipReference.enable();\n    }\n  }\n\n  toggleEnded(isEnded: boolean) {\n    toggleNodeClass(this._$node, this.styleNames.ended, isEnded);\n\n    this._$liveIndicatorText.innerText = this._textMap.get(\n      TEXT_LABELS.LIVE_INDICATOR_TEXT,\n      { isEnded },\n    );\n    this._$liveIndicatorText.setAttribute(\n      'aria-label',\n      !isEnded ? this._textMap.get(TEXT_LABELS.LIVE_SYNC_LABEL) : '',\n    );\n\n    if (isEnded) {\n      this._tooltipReference.disable();\n    } else {\n      this._tooltipReference.enable();\n    }\n  }\n\n  show() {\n    this.toggle(true);\n  }\n\n  hide() {\n    this.toggle(false);\n  }\n\n  toggle(shouldShow: boolean) {\n    toggleNodeClass(this._$node, this.styleNames.hidden, !shouldShow);\n  }\n\n  getNode() {\n    return this._$node;\n  }\n\n  destroy() {\n    this._unbindEvents();\n    this._callbacks = null;\n\n    this._tooltipReference.destroy();\n    this._tooltipReference = null;\n\n    if (this._$node.parentNode) {\n      this._$node.parentNode.removeChild(this._$node);\n    }\n\n    this._$node = null;\n    this._$liveIndicatorText = null;\n    this._callbacks = null;\n    this._textMap = null;\n  }\n}\n\nLiveIndicatorView.extendStyleNames(styles);\n\nexport default LiveIndicatorView;\n","import LiveIndicatorView from './live-indicator.view';\nimport { VIDEO_EVENTS, UI_EVENTS, LiveState } from '../../../constants';\nimport { IEventEmitter } from '../../event-emitter/types';\nimport { IPlaybackEngine } from '../../playback-engine/types';\nimport { ILiveIndicator } from './types';\n\nexport default class LiveIndicator implements ILiveIndicator {\n  static moduleName = 'liveIndicator';\n  static View = LiveIndicatorView;\n  static dependencies = ['engine', 'eventEmitter', 'textMap', 'tooltipService'];\n\n  private _engine: IPlaybackEngine;\n  private _eventEmitter: IEventEmitter;\n  private _textMap: Playable.ITextMap;\n  private _tooltipService: Playable.ITooltipService;\n  private _isHidden: boolean = true;\n  private _isActive: boolean = false;\n  private _isEnded: boolean = false;\n\n  private _unbindEvents: Function;\n\n  view: LiveIndicatorView;\n\n  constructor({\n    engine,\n    eventEmitter,\n    textMap,\n    tooltipService,\n  }: {\n    engine: IPlaybackEngine;\n    eventEmitter: IEventEmitter;\n    textMap: Playable.ITextMap;\n    tooltipService: Playable.ITooltipService;\n  }) {\n    this._engine = engine;\n    this._eventEmitter = eventEmitter;\n    this._textMap = textMap;\n    this._tooltipService = tooltipService;\n\n    this._bindCallbacks();\n    this._initUI();\n    this._bindEvents();\n  }\n\n  get node() {\n    return this.view.getNode();\n  }\n\n  get isHidden(): boolean {\n    return this._isHidden;\n  }\n\n  get isActive(): boolean {\n    return this._isActive;\n  }\n\n  show() {\n    this._toggle(true);\n  }\n\n  hide() {\n    this._toggle(false);\n  }\n\n  private _initUI() {\n    this.view = new LiveIndicator.View({\n      callbacks: {\n        onClick: this._syncWithLive,\n      },\n      textMap: this._textMap,\n      tooltipService: this._tooltipService,\n    });\n  }\n\n  private _bindCallbacks() {\n    this._syncWithLive = this._syncWithLive.bind(this);\n  }\n\n  private _bindEvents() {\n    this._unbindEvents = this._eventEmitter.bindEvents(\n      [\n        [VIDEO_EVENTS.LIVE_STATE_CHANGED, this._processStateChange],\n        [\n          UI_EVENTS.PROGRESS_SYNC_BUTTON_MOUSE_ENTER_TRIGGERED,\n          () => {\n            this.view.toggleActive(true);\n          },\n        ],\n        [\n          UI_EVENTS.PROGRESS_SYNC_BUTTON_MOUSE_LEAVE_TRIGGERED,\n          () => {\n            // NOTE: restore state before mouse enter\n            this.view.toggleActive(this._isActive);\n          },\n        ],\n      ],\n      this,\n    );\n  }\n\n  private _processStateChange({ nextState }: { nextState: LiveState }) {\n    switch (nextState) {\n      case LiveState.NONE:\n        this._toggle(false);\n        this._toggleActive(false);\n        this._toggleEnded(false);\n        break;\n\n      case LiveState.INITIAL:\n        this._toggle(true);\n        break;\n\n      case LiveState.SYNC:\n        this._toggleActive(true);\n        break;\n\n      case LiveState.NOT_SYNC:\n        this._toggleActive(false);\n        break;\n\n      case LiveState.ENDED:\n        this._toggleActive(false);\n        this._toggleEnded(true);\n        break;\n\n      default:\n        break;\n    }\n  }\n\n  private _syncWithLive() {\n    if (!this._isEnded) {\n      this._engine.syncWithLive();\n    }\n  }\n\n  private _toggle(shouldShow: boolean) {\n    this._isHidden = !shouldShow;\n    this.view.toggle(shouldShow);\n  }\n\n  private _toggleActive(shouldActivate: boolean) {\n    this._isActive = shouldActivate;\n    this.view.toggleActive(shouldActivate);\n  }\n\n  private _toggleEnded(isEnded: boolean) {\n    this._isEnded = isEnded;\n    this.view.toggleEnded(isEnded);\n  }\n\n  destroy() {\n    this._unbindEvents();\n    this.view.destroy();\n\n    this.view = null;\n\n    this._engine = null;\n    this._eventEmitter = null;\n    this._textMap = null;\n  }\n}\n","import View from '../core/view';\n\nimport htmlToElement from '../core/htmlToElement';\nimport getElementByHook from '../core/getElementByHook';\nimport toggleNodeClass from '../core/toggleNodeClass';\n\nimport { bottomBlockTemplate } from './templates';\n\nimport {\n  IBottomBlockViewStyles,\n  IBottomBlockViewCallbacks,\n  IBottomBlockViewElements,\n  IBottomBlockViewConfig,\n} from './types';\n\nimport styles from './bottom-block.scss';\n\nclass BottomBlockView extends View<IBottomBlockViewStyles>\n  implements Playable.IView<IBottomBlockViewStyles> {\n  private _callbacks: IBottomBlockViewCallbacks;\n  private _$node: HTMLElement;\n\n  constructor(config: IBottomBlockViewConfig) {\n    super();\n    const { callbacks, elements } = config;\n\n    this._callbacks = callbacks;\n\n    this._initDOM(elements);\n    this._bindEvents();\n  }\n\n  private _initDOM(elements: IBottomBlockViewElements) {\n    this._$node = htmlToElement(\n      bottomBlockTemplate({\n        styles: this.styleNames,\n      }),\n    );\n\n    const $playContainer = getElementByHook(this._$node, 'play-container');\n    const $volumeContainer = getElementByHook(this._$node, 'volume-container');\n    const $timeContainer = getElementByHook(this._$node, 'time-container');\n    const $fullScreenContainer = getElementByHook(\n      this._$node,\n      'full-screen-container',\n    );\n    const $logoContainer = getElementByHook(this._$node, 'logo-container');\n    const $progressBarContainer = getElementByHook(\n      this._$node,\n      'progress-bar-container',\n    );\n\n    $playContainer.appendChild(elements.play);\n    $volumeContainer.appendChild(elements.volume);\n    $timeContainer.appendChild(elements.time);\n    $fullScreenContainer.appendChild(elements.fullScreen);\n    $logoContainer.appendChild(elements.logo);\n    $progressBarContainer.appendChild(elements.progress);\n  }\n\n  private _preventClickPropagation(e: MouseEvent) {\n    e.stopPropagation();\n  }\n\n  private _bindEvents() {\n    this._$node.addEventListener('click', this._preventClickPropagation);\n    this._$node.addEventListener('mousemove', this._callbacks.onBlockMouseMove);\n    this._$node.addEventListener('mouseleave', this._callbacks.onBlockMouseOut);\n  }\n\n  private _unbindEvents() {\n    this._$node.removeEventListener('click', this._preventClickPropagation);\n    this._$node.removeEventListener(\n      'mousemove',\n      this._callbacks.onBlockMouseMove,\n    );\n    this._$node.removeEventListener(\n      'mouseleave',\n      this._callbacks.onBlockMouseOut,\n    );\n  }\n\n  setShouldLogoShowAlwaysFlag(isShowAlways: boolean) {\n    toggleNodeClass(this._$node, this.styleNames.showLogoAlways, isShowAlways);\n    this.showLogo();\n  }\n\n  showPlayControl() {\n    this._$node.classList.remove(this.styleNames.playControlHidden);\n  }\n\n  hidePlayControl() {\n    this._$node.classList.add(this.styleNames.playControlHidden);\n  }\n\n  showTimeControl() {\n    this._$node.classList.remove(this.styleNames.timeControlHidden);\n  }\n\n  hideTimeControl() {\n    this._$node.classList.add(this.styleNames.timeControlHidden);\n  }\n\n  showVolumeControl() {\n    this._$node.classList.remove(this.styleNames.volumeControlHidden);\n  }\n\n  hideVolumeControl() {\n    this._$node.classList.add(this.styleNames.volumeControlHidden);\n  }\n\n  showFullScreenControl() {\n    this._$node.classList.remove(this.styleNames.fullScreenControlHidden);\n  }\n\n  hideFullScreenControl() {\n    this._$node.classList.add(this.styleNames.fullScreenControlHidden);\n  }\n\n  showLogo() {\n    this._$node.classList.remove(this.styleNames.logoHidden);\n  }\n\n  hideLogo() {\n    this._$node.classList.add(this.styleNames.logoHidden);\n  }\n\n  showProgressControl() {\n    this._$node.classList.remove(this.styleNames.progressControlHidden);\n  }\n\n  hideProgressControl() {\n    this._$node.classList.add(this.styleNames.progressControlHidden);\n  }\n\n  show() {\n    this._$node.classList.remove(this.styleNames.hidden);\n  }\n\n  hide() {\n    this._$node.classList.add(this.styleNames.hidden);\n  }\n\n  getNode() {\n    return this._$node;\n  }\n\n  showContent() {\n    this._$node.classList.add(this.styleNames.activated);\n  }\n\n  hideContent() {\n    this._$node.classList.remove(this.styleNames.activated);\n  }\n\n  destroy() {\n    this._unbindEvents();\n    if (this._$node.parentNode) {\n      this._$node.parentNode.removeChild(this._$node);\n    }\n    this._$node = null;\n  }\n}\n\nBottomBlockView.extendStyleNames(styles);\n\nexport default BottomBlockView;\n","import playerAPI from '../../../core/player-api-decorator';\r\n\r\nimport View from './bottom-block.view';\r\nimport { UI_EVENTS } from '../../../constants';\r\n\r\nimport { IEventEmitter } from '../../event-emitter/types';\r\nimport { IPlayControl } from '../controls/play/types';\r\nimport { ITimeControl } from '../controls/time/types';\r\nimport { IProgressControl } from '../controls/progress/types';\r\nimport { IVolumeControl } from '../controls/volume/types';\r\nimport { IFullScreenControl } from '../controls/full-screen/types';\r\nimport { ILogoControl, ILogoConfig } from '../controls/logo/types';\r\n\r\nimport {\r\n  IBottomBlock,\r\n  IBottomBlockViewConfig,\r\n  IBottomBlockViewElements,\r\n} from './types';\r\nimport { IPlayerConfig } from '../../../core/config';\r\n\r\ninterface IDependencies {\r\n  config: IPlayerConfig;\r\n  eventEmitter: IEventEmitter;\r\n  playControl: IPlayControl;\r\n  progressControl: IProgressControl;\r\n  timeControl: ITimeControl;\r\n  volumeControl: IVolumeControl;\r\n  fullScreenControl: IFullScreenControl;\r\n  logo: ILogoControl;\r\n}\r\n\r\nexport default class BottomBlock implements IBottomBlock {\r\n  static moduleName = 'bottomBlock';\r\n  static View = View;\r\n  static dependencies = [\r\n    'config',\r\n    'playControl',\r\n    'progressControl',\r\n    'timeControl',\r\n    'volumeControl',\r\n    'fullScreenControl',\r\n    'logo',\r\n    'eventEmitter',\r\n  ];\r\n\r\n  private _eventEmitter: IEventEmitter;\r\n\r\n  private _isBlockFocused: boolean = false;\r\n\r\n  private _unbindEvents: Function;\r\n\r\n  view: View;\r\n  isHidden: boolean = false;\r\n\r\n  constructor(dependencies: IDependencies) {\r\n    const { config, eventEmitter } = dependencies;\r\n    this._eventEmitter = eventEmitter;\r\n\r\n    this._bindViewCallbacks();\r\n    this._initUI(this._getElementsNodes(dependencies));\r\n    this._initLogo(config.logo);\r\n    this._bindEvents();\r\n  }\r\n\r\n  private _getElementsNodes(\r\n    dependencies: IDependencies,\r\n  ): IBottomBlockViewElements {\r\n    const {\r\n      playControl,\r\n      progressControl,\r\n      timeControl,\r\n      volumeControl,\r\n      fullScreenControl,\r\n      logo,\r\n    } = dependencies;\r\n\r\n    return {\r\n      play: playControl.node,\r\n      progress: progressControl.node,\r\n      time: timeControl.node,\r\n      volume: volumeControl.node,\r\n      fullScreen: fullScreenControl.node,\r\n      logo: logo.node,\r\n    };\r\n  }\r\n\r\n  get node() {\r\n    return this.view.getNode();\r\n  }\r\n\r\n  private _initUI(elementNodes: IBottomBlockViewElements) {\r\n    const config: IBottomBlockViewConfig = {\r\n      elements: elementNodes,\r\n      callbacks: {\r\n        onBlockMouseMove: this._setFocusState,\r\n        onBlockMouseOut: this._removeFocusState,\r\n      },\r\n    };\r\n\r\n    this.view = new BottomBlock.View(config);\r\n  }\r\n\r\n  private _bindEvents() {\r\n    this._unbindEvents = this._eventEmitter.bindEvents(\r\n      [[UI_EVENTS.FULLSCREEN_STATUS_CHANGED, this._removeFocusState]],\r\n      this,\r\n    );\r\n  }\r\n\r\n  private _initLogo(logoConfig: ILogoConfig | boolean) {\r\n    if (logoConfig) {\r\n      if (typeof logoConfig === 'object') {\r\n        this.setLogoAlwaysShowFlag(logoConfig.showAlways);\r\n      }\r\n    } else {\r\n      this.hideLogo();\r\n    }\r\n  }\r\n\r\n  private _bindViewCallbacks() {\r\n    this._setFocusState = this._setFocusState.bind(this);\r\n    this._removeFocusState = this._removeFocusState.bind(this);\r\n  }\r\n\r\n  private _setFocusState() {\r\n    this._isBlockFocused = true;\r\n  }\r\n\r\n  private _removeFocusState() {\r\n    this._isBlockFocused = false;\r\n  }\r\n\r\n  get isFocused() {\r\n    return this._isBlockFocused;\r\n  }\r\n\r\n  showContent() {\r\n    this.view.showContent();\r\n  }\r\n\r\n  hideContent() {\r\n    this.view.hideContent();\r\n  }\r\n\r\n  hide() {\r\n    this.isHidden = true;\r\n    this.view.hide();\r\n  }\r\n\r\n  show() {\r\n    this.isHidden = false;\r\n    this.view.show();\r\n  }\r\n\r\n  /**\r\n   * Method for allowing logo to be always shown in bottom block\r\n   * @param flag - `true` for showing always\r\n   * @example\r\n   * player.setLogoAlwaysShowFlag(true);\r\n   *\r\n   */\r\n  @playerAPI()\r\n  setLogoAlwaysShowFlag(flag: boolean) {\r\n    this.view.setShouldLogoShowAlwaysFlag(flag);\r\n  }\r\n\r\n  /**\r\n   * Method for hidding logo. If you use `setLogoAlwaysShowFlag` or `setControlsShouldAlwaysShow`, logo would automaticaly appear.\r\n   * @example\r\n   * player.hideLogo();\r\n   */\r\n  @playerAPI()\r\n  hideLogo() {\r\n    this.view.hideLogo();\r\n  }\r\n\r\n  /**\r\n   * Method for showing logo.\r\n   * @example\r\n   * player.showLogo();\r\n   */\r\n  @playerAPI()\r\n  showLogo() {\r\n    this.view.showLogo();\r\n  }\r\n\r\n  /**\r\n   * Method for showing play control.\r\n   * @example\r\n   * player.showPlayControl();\r\n   */\r\n  @playerAPI()\r\n  showPlayControl() {\r\n    this.view.showPlayControl();\r\n  }\r\n\r\n  /**\r\n   * Method for showing volume control.\r\n   * @example\r\n   * player.showVolumeControl();\r\n   */\r\n  @playerAPI()\r\n  showVolumeControl() {\r\n    this.view.showVolumeControl();\r\n  }\r\n\r\n  /**\r\n   * Method for showing time control.\r\n   * @example\r\n   * player.showTimeControl();\r\n   */\r\n  @playerAPI()\r\n  showTimeControl() {\r\n    this.view.showTimeControl();\r\n  }\r\n\r\n  /**\r\n   * Method for showing full screen control.\r\n   * @example\r\n   * player.showFullScreenControl();\r\n   */\r\n  @playerAPI()\r\n  showFullScreenControl() {\r\n    this.view.showFullScreenControl();\r\n  }\r\n\r\n  /**\r\n   * Method for showing progress control.\r\n   * @example\r\n   * player.showProgressControl();\r\n   */\r\n  @playerAPI()\r\n  showProgressControl() {\r\n    this.view.showProgressControl();\r\n  }\r\n\r\n  /**\r\n   * Method for hidding play control.\r\n   * @example\r\n   * player.hidePlayControl();\r\n   */\r\n  @playerAPI()\r\n  hidePlayControl() {\r\n    this.view.hidePlayControl();\r\n  }\r\n\r\n  /**\r\n   * Method for hidding voluem control.\r\n   * @example\r\n   * player.hideVolumeControl();\r\n   */\r\n  @playerAPI()\r\n  hideVolumeControl() {\r\n    this.view.hideVolumeControl();\r\n  }\r\n\r\n  /**\r\n   * Method for hidding time control.\r\n   * @example\r\n   * player.hideTimeControl();\r\n   */\r\n  @playerAPI()\r\n  hideTimeControl() {\r\n    this.view.hideTimeControl();\r\n  }\r\n\r\n  /**\r\n   * Method for hidding full screen control.\r\n   * @example\r\n   * player.hideFullScreenControl();\r\n   */\r\n  @playerAPI()\r\n  hideFullScreenControl() {\r\n    this.view.hideFullScreenControl();\r\n  }\r\n\r\n  /**\r\n   * Method for hidding progress control.\r\n   * @example\r\n   * player.hideProgressControl();\r\n   */\r\n  @playerAPI()\r\n  hideProgressControl() {\r\n    this.view.hideProgressControl();\r\n  }\r\n\r\n  destroy() {\r\n    this._unbindEvents();\r\n    this.view.destroy();\r\n\r\n    this.view = null;\r\n    this._eventEmitter = null;\r\n  }\r\n}\r\n","function formatTime(seconds: number): string {\r\n  const isValid = !isNaN(seconds) && isFinite(seconds);\r\n  const isNegative = isValid && seconds < 0;\r\n  const date = new Date(null);\r\n\r\n  date.setSeconds(isValid ? Math.abs(Math.floor(seconds)) : 0);\r\n\r\n  // get HH:mm:ss part, remove hours if they are \"00:\"\r\n  const time = date\r\n    .toISOString()\r\n    .substr(11, 8)\r\n    .replace(/^00:/, '');\r\n\r\n  return isNegative ? `-${time}` : time;\r\n}\r\n\r\nexport default formatTime;\r\n","import { tooltipTemplate } from './templates';\nimport htmlToElement from '../htmlToElement';\nimport getElementByHook from '../getElementByHook';\nimport Stylable from '../stylable';\n\nimport styles from './tooltip.scss';\n\nclass Tooltip extends Stylable<Playable.ITooltipStyles>\n  implements Playable.ITooltip {\n  private _$node: HTMLElement;\n  private _$tooltipInner: HTMLElement;\n  private _isHidden: boolean;\n\n  constructor() {\n    super();\n\n    this._isHidden = true;\n    this._initDOM();\n  }\n\n  private _initDOM() {\n    this._$node = htmlToElement(\n      tooltipTemplate({\n        styles: this.styleNames,\n      }),\n    );\n    this._$tooltipInner = getElementByHook(this._$node, 'tooltipInner');\n  }\n\n  get node(): HTMLElement {\n    return this._$node;\n  }\n\n  get isHidden(): boolean {\n    return this._isHidden;\n  }\n\n  show() {\n    if (!this._isHidden) {\n      return;\n    }\n    this._isHidden = false;\n    this._$node.classList.add(this.styleNames.tooltipVisible);\n  }\n\n  hide() {\n    if (this._isHidden) {\n      return;\n    }\n    this._isHidden = true;\n    this._$node.classList.remove(this.styleNames.tooltipVisible);\n  }\n\n  setText(text: string) {\n    this._$tooltipInner.innerText = text;\n  }\n\n  setStyle(style: any) {\n    Object.keys(style).forEach(styleKey => {\n      (this._$node.style as any)[styleKey] = style[styleKey];\n    });\n  }\n\n  destroy() {\n    this._$node = null;\n    this._$tooltipInner = null;\n  }\n}\n\nTooltip.extendStyleNames(styles);\n\nexport default Tooltip;\n","enum TooltipPositionPlacement {\r\n  TOP = 'top',\r\n  BOTTOM = 'bottom',\r\n}\r\n\r\nexport { TooltipPositionPlacement };\r\n","import { TooltipPositionPlacement } from '../constants';\r\n\r\ntype ITooltipCenterXfn = (\r\n  tooltipReferenceOffsetX: number,\r\n  tooltipReferenceWidth: number,\r\n) => number;\r\n\r\nfunction calcTooltipCenterX(\r\n  tooltipReferenceOffsetX: number,\r\n  tooltipReferenceWidth: number,\r\n) {\r\n  return tooltipReferenceOffsetX + tooltipReferenceWidth / 2;\r\n}\r\n\r\nfunction getTooltipPositionByReferenceNode(\r\n  tooltipReferenceNode: HTMLElement,\r\n  tooltipContainerNode: HTMLElement,\r\n  tooltipCenterXfn: ITooltipCenterXfn = calcTooltipCenterX,\r\n): Playable.ITooltipPosition {\r\n  const tooltipReferenceRect = tooltipReferenceNode.getBoundingClientRect();\r\n  const tooltipContainerRect = tooltipContainerNode.getBoundingClientRect();\r\n\r\n  const tooltipPlacement =\r\n    tooltipReferenceRect.top > tooltipContainerRect.top\r\n      ? TooltipPositionPlacement.BOTTOM\r\n      : TooltipPositionPlacement.TOP;\r\n  const tooltipReferenceOffsetX =\r\n    tooltipReferenceRect.left - tooltipContainerRect.left;\r\n  const tooltipCenterX = tooltipCenterXfn(\r\n    tooltipReferenceOffsetX,\r\n    tooltipReferenceRect.width,\r\n  );\r\n\r\n  return { placement: tooltipPlacement, x: tooltipCenterX };\r\n}\r\n\r\nexport default getTooltipPositionByReferenceNode;\r\n","import getTooltipPositionByReferenceNode from './utils/getTooltipPositionByReferenceNode';\n\nconst SHOW_EVENTS = ['mouseenter', 'focus'];\nconst HIDE_EVENTS = ['mouseleave', 'blur'];\n\nclass TooltipReference implements Playable.ITooltipReference {\n  private _$reference: HTMLElement;\n  private _tooltipService: Playable.ITooltipService;\n\n  private _options: Playable.ITooltipReferenceOptions;\n  private _eventListeners: any[];\n\n  private _isDisabled: boolean;\n\n  constructor(\n    reference: HTMLElement,\n    tooltipService: Playable.ITooltipService,\n    options: Playable.ITooltipReferenceOptions,\n  ) {\n    this._$reference = reference;\n    this._options = options;\n    this._tooltipService = tooltipService;\n\n    this._eventListeners = [];\n\n    this._bindEvents();\n  }\n\n  private _bindEvents() {\n    SHOW_EVENTS.forEach(event => {\n      const fn = () => {\n        this.show();\n      };\n      this._eventListeners.push({ event, fn });\n      this._$reference.addEventListener(event, fn);\n    });\n\n    HIDE_EVENTS.forEach(event => {\n      const fn = () => {\n        this.hide();\n      };\n      this._eventListeners.push({ event, fn });\n      this._$reference.addEventListener(event, fn);\n    });\n  }\n\n  get isHidden(): boolean {\n    return this._tooltipService.isHidden;\n  }\n\n  get isDisabled(): boolean {\n    return this._isDisabled;\n  }\n\n  show() {\n    if (this._isDisabled) {\n      return;\n    }\n\n    this._tooltipService.show({\n      text: this._options.text,\n      position: getTooltipPositionByReferenceNode(\n        this._$reference,\n        this._tooltipService.tooltipContainerNode,\n      ),\n    });\n  }\n\n  hide() {\n    this._tooltipService.hide();\n  }\n\n  setText(text: string) {\n    this._options.text = text;\n    this._tooltipService.setText(text);\n  }\n\n  disable() {\n    this._isDisabled = true;\n  }\n\n  enable() {\n    this._isDisabled = false;\n  }\n\n  destroy() {\n    this._eventListeners.forEach(({ event, fn }) => {\n      this._$reference.removeEventListener(event, fn);\n    });\n    this._eventListeners = null;\n    this._$reference = null;\n    this._tooltipService = null;\n    this._options = null;\n  }\n}\n\nexport default TooltipReference;\n","import { tooltipContainerTemplate } from './templates';\r\nimport htmlToElement from '../htmlToElement';\r\nimport Tooltip from './tooltip';\r\nimport Stylable from '../stylable';\r\n\r\nimport { TooltipPositionPlacement } from './constants';\r\n\r\nimport styles from './tooltip-container.scss';\r\n\r\ninterface ITooltipContainer {\r\n  node: HTMLElement;\r\n  getTooltipPositionStyles(\r\n    position: Playable.ITooltipPosition,\r\n  ): { [ket: string]: string | number };\r\n  destroy(): void;\r\n}\r\n\r\nclass TooltipContainer extends Stylable implements ITooltipContainer {\r\n  private _tooltip: Tooltip;\r\n  private _$node: HTMLElement;\r\n\r\n  constructor(tooltip: Tooltip) {\r\n    super();\r\n\r\n    this._tooltip = tooltip;\r\n    this._initDOM();\r\n  }\r\n\r\n  get node(): HTMLElement {\r\n    return this._$node;\r\n  }\r\n\r\n  private _initDOM() {\r\n    this._$node = htmlToElement(\r\n      tooltipContainerTemplate({\r\n        styles: this.styleNames,\r\n      }),\r\n    );\r\n    this._$node.appendChild(this._tooltip.node);\r\n  }\r\n\r\n  getTooltipPositionStyles(\r\n    position: Playable.ITooltipPosition | Playable.ITooltipPositionFunction,\r\n  ) {\r\n    if (typeof position === 'function') {\r\n      position = position(this._$node);\r\n    }\r\n\r\n    if (position.placement === TooltipPositionPlacement.TOP) {\r\n      return {\r\n        left: `${this._getTooltipLeftX(position.x)}px`,\r\n        top: 0,\r\n        bottom: 'initial',\r\n      };\r\n    }\r\n\r\n    return {\r\n      left: `${this._getTooltipLeftX(position.x)}px`,\r\n      top: 'initial',\r\n      bottom: 0,\r\n    };\r\n  }\r\n\r\n  destroy() {\r\n    this._tooltip = null;\r\n    this._$node = null;\r\n  }\r\n\r\n  private _getTooltipLeftX(tooltipCenterX: number) {\r\n    const tooltipRect = this._tooltip.node.getBoundingClientRect();\r\n    const tooltipContainerRect = this._$node.getBoundingClientRect();\r\n\r\n    let tooltipLeftX = tooltipCenterX - tooltipRect.width / 2;\r\n\r\n    // ensure `x` is in range of placeholder rect\r\n    tooltipLeftX = Math.max(tooltipLeftX, 0);\r\n    tooltipLeftX = Math.min(\r\n      tooltipLeftX,\r\n      tooltipContainerRect.width - tooltipRect.width,\r\n    );\r\n\r\n    return tooltipLeftX;\r\n  }\r\n}\r\n\r\nTooltipContainer.extendStyleNames(styles);\r\n\r\nexport { ITooltipContainer };\r\nexport default TooltipContainer;\r\n","import TooltipReference from './tooltip-reference';\nimport TooltipContainer from './tooltip-container';\nimport Tooltip from './tooltip';\n\nimport { UI_EVENTS } from '../../../../constants';\n\nimport { IEventEmitter } from '../../../event-emitter/types';\n\nclass TooltipService implements Playable.ITooltipService {\n  static moduleName = 'tooltipService';\n  static dependencies = ['eventEmitter'];\n  private _tooltip: Tooltip;\n  private _tooltipContainer: TooltipContainer;\n  private _eventEmitter: IEventEmitter;\n\n  private _unbindEvents: Function;\n\n  constructor({ eventEmitter }: { eventEmitter: IEventEmitter }) {\n    this._eventEmitter = eventEmitter;\n    this._tooltip = new Tooltip();\n    this._tooltipContainer = new TooltipContainer(this._tooltip);\n    this._bindEvents();\n  }\n\n  get isHidden(): boolean {\n    return this._tooltip.isHidden;\n  }\n\n  get tooltipContainerNode(): HTMLElement {\n    return this._tooltipContainer.node;\n  }\n\n  private _bindEvents() {\n    this._unbindEvents = this._eventEmitter.bindEvents(\n      [[UI_EVENTS.FULLSCREEN_STATUS_CHANGED, this.hide]],\n      this,\n    );\n  }\n\n  /**\n   * Set new tooltip title\n   */\n  setText(text: string) {\n    this._tooltip.setText(text);\n  }\n\n  /**\n   * Show tooltip with title\n   */\n  show(options: Playable.ITooltipShowOptions) {\n    // NOTE: its important to set tooltip text before update tooltip position styles\n    this._tooltip.setText(options.text);\n    this._tooltip.setStyle(\n      this._tooltipContainer.getTooltipPositionStyles(options.position),\n    );\n    this._tooltip.show();\n  }\n\n  /**\n   * Hide tooltip\n   */\n  hide() {\n    this._tooltip.hide();\n  }\n\n  /**\n   * Create tooltip reference which show/hide tooltip on hover and focus events\n   * @param reference - reference node\n   * @param options - tooltip title and other options\n   * @returns tooltip reference instance\n   */\n  createReference(\n    reference: HTMLElement,\n    options: Playable.ITooltipReferenceOptions,\n  ): TooltipReference {\n    return new TooltipReference(reference, this, options);\n  }\n\n  destroy() {\n    this._unbindEvents();\n\n    this._tooltip.destroy();\n    this._tooltipContainer.destroy();\n    this._tooltip = null;\n    this._tooltipContainer = null;\n\n    this._eventEmitter = null;\n  }\n}\n\nexport default TooltipService;\n","import { getTooltipPositionByReferenceNode } from '../../../core/tooltip';\n\nfunction calcProgressTimeTooltipCenterX(\n  progressPercent: number,\n  progressNodeOffsetX: number,\n  progressNodeWidth: number,\n) {\n  return progressNodeOffsetX + progressPercent * progressNodeWidth / 100;\n}\n\nfunction getProgressTimeTooltipPosition(\n  progressPercent: number,\n  progressNode: HTMLElement,\n  tooltipContainerNode: HTMLElement,\n): Playable.ITooltipPosition {\n  return getTooltipPositionByReferenceNode(\n    progressNode,\n    tooltipContainerNode,\n    (progressNodeOffsetX, progressNodeWidth) =>\n      calcProgressTimeTooltipCenterX(\n        progressPercent,\n        progressNodeOffsetX,\n        progressNodeWidth,\n      ),\n  );\n}\n\nexport default getProgressTimeTooltipPosition;\n","import { transperentizeColor } from '../../core/theme';\r\n\r\nexport default {\r\n  progressPlayed: {\r\n    backgroundColor: (data: any) => data.progressColor,\r\n  },\r\n  progressSeekTo: {\r\n    backgroundColor: (data: any) =>\r\n      transperentizeColor(data.progressColor, 0.5),\r\n  },\r\n  progressBackground: {\r\n    backgroundColor: (data: any) =>\r\n      transperentizeColor(data.progressColor, 0.25),\r\n  },\r\n  progressSeekBtn: {\r\n    backgroundColor: (data: any) => data.progressColor,\r\n  },\r\n  progressSyncBtn: {\r\n    borderColor: (data: any) => data.progressColor,\r\n  },\r\n};\r\n","import { TEXT_LABELS } from '../../../../constants';\n\nimport View from '../../core/view';\n\nimport formatTime from '../../core/utils/formatTime';\nimport getProgressTimeTooltipPosition from './utils/getProgressTimeTooltipPosition';\nimport { progressTemplate, progressTimeIndicatorTemplate } from './templates';\n\nimport htmlToElement from '../../core/htmlToElement';\nimport getElementByHook from '../../core/getElementByHook';\nimport toggleNodeClass from '../../core/toggleNodeClass';\n\nimport {\n  IProgressViewStyles,\n  IProgressViewCallbacks,\n  IProgressViewConfig,\n} from './types';\n\nimport progressViewTheme from './progress.theme';\nimport styles from './progress.scss';\n\nconst DATA_PLAYED = 'data-played-percent';\n\nconst getPercentBasedOnXPosition = (\n  event: MouseEvent,\n  element: HTMLElement,\n) => {\n  const boundingRect = element.getBoundingClientRect();\n  const positionX = event.clientX;\n\n  if (positionX < boundingRect.left) {\n    return 0;\n  }\n\n  if (positionX > boundingRect.left + boundingRect.width) {\n    return 100;\n  }\n\n  return (event.clientX - boundingRect.left) / boundingRect.width * 100;\n};\n\nclass ProgressView extends View<IProgressViewStyles>\n  implements Playable.IView<IProgressViewStyles> {\n  private _callbacks: IProgressViewCallbacks;\n  private _textMap: Playable.ITextMap;\n  private _tooltipService: Playable.ITooltipService;\n  private _syncButtonTooltipReference: Playable.ITooltipReference;\n\n  private _isDragging: boolean;\n\n  private _$node: HTMLElement;\n  private _$hitbox: HTMLElement;\n  private _$played: HTMLElement;\n  private _$buffered: HTMLElement;\n  private _$seekTo: HTMLElement;\n  private _$timeIndicators: HTMLElement;\n  private _$seekButton: HTMLElement;\n  private _$syncButton: HTMLElement;\n\n  constructor(config: IProgressViewConfig) {\n    const { callbacks, textMap, tooltipService, theme } = config;\n\n    super(theme);\n\n    this._callbacks = callbacks;\n    this._textMap = textMap;\n    this._tooltipService = tooltipService;\n\n    this._initDOM();\n    this._bindCallbacks();\n    this._bindEvents();\n\n    this._setPlayedDOMAttributes(0);\n    this._setBufferedDOMAttributes(0);\n    this.setUsualMode();\n  }\n\n  private _initDOM() {\n    this._$node = htmlToElement(\n      progressTemplate({\n        styles: this.styleNames,\n        themeStyles: this.themeStyles,\n      }),\n    );\n\n    this._$played = getElementByHook(this._$node, 'progress-played');\n    this._$buffered = getElementByHook(this._$node, 'progress-buffered');\n    this._$seekTo = getElementByHook(this._$node, 'progress-seek-to');\n    this._$timeIndicators = getElementByHook(\n      this._$node,\n      'progress-time-indicators',\n    );\n    this._$seekButton = getElementByHook(this._$node, 'progress-seek-button');\n    this._$syncButton = getElementByHook(this._$node, 'progress-sync-button');\n    this._syncButtonTooltipReference = this._tooltipService.createReference(\n      this._$syncButton,\n      {\n        text: this._textMap.get(TEXT_LABELS.LIVE_SYNC_TOOLTIP),\n      },\n    );\n    this._$hitbox = getElementByHook(this._$node, 'progress-hitbox');\n  }\n\n  private _bindCallbacks() {\n    this._setPlayedByDrag = this._setPlayedByDrag.bind(this);\n    this._startDragOnMouseDown = this._startDragOnMouseDown.bind(this);\n    this._stopDragOnMouseUp = this._stopDragOnMouseUp.bind(this);\n    this._startSeekToByMouse = this._startSeekToByMouse.bind(this);\n    this._stopSeekToByMouse = this._stopSeekToByMouse.bind(this);\n    this._syncWithLive = this._syncWithLive.bind(this);\n  }\n\n  private _bindEvents() {\n    this._$seekButton.addEventListener('mousedown', this._startDragOnMouseDown);\n    this._$seekButton.addEventListener('mousemove', this._startSeekToByMouse);\n    this._$seekButton.addEventListener('mouseout', this._stopSeekToByMouse);\n\n    this._$hitbox.addEventListener('mousedown', this._startDragOnMouseDown);\n    this._$hitbox.addEventListener('mousemove', this._startSeekToByMouse);\n    this._$hitbox.addEventListener('mouseout', this._stopSeekToByMouse);\n\n    window.addEventListener('mousemove', this._setPlayedByDrag);\n    window.addEventListener('mouseup', this._stopDragOnMouseUp);\n\n    this._$syncButton.addEventListener('click', this._syncWithLive);\n    this._$syncButton.addEventListener(\n      'mouseenter',\n      this._callbacks.onSyncWithLiveMouseEnter,\n    );\n    this._$syncButton.addEventListener(\n      'mouseleave',\n      this._callbacks.onSyncWithLiveMouseLeave,\n    );\n  }\n\n  private _unbindEvents() {\n    this._$seekButton.removeEventListener(\n      'mousedown',\n      this._startDragOnMouseDown,\n    );\n    this._$seekButton.removeEventListener(\n      'mousemove',\n      this._startSeekToByMouse,\n    );\n    this._$seekButton.removeEventListener('mouseout', this._stopSeekToByMouse);\n\n    this._$hitbox.removeEventListener('mousedown', this._startDragOnMouseDown);\n    this._$hitbox.removeEventListener('mousemove', this._startSeekToByMouse);\n    this._$hitbox.removeEventListener('mouseout', this._stopSeekToByMouse);\n\n    window.removeEventListener('mousemove', this._setPlayedByDrag);\n    window.removeEventListener('mouseup', this._stopDragOnMouseUp);\n\n    this._$syncButton.removeEventListener('click', this._syncWithLive);\n    this._$syncButton.removeEventListener(\n      'mouseenter',\n      this._callbacks.onSyncWithLiveMouseEnter,\n    );\n    this._$syncButton.removeEventListener(\n      'mouseleave',\n      this._callbacks.onSyncWithLiveMouseLeave,\n    );\n  }\n\n  private _startDragOnMouseDown(event: MouseEvent) {\n    if (event.button > 1) {\n      return;\n    }\n\n    const percent = getPercentBasedOnXPosition(event, this._$hitbox);\n    this._setPlayedDOMAttributes(percent);\n    this._callbacks.onChangePlayedProgress(percent);\n\n    this._startDrag();\n  }\n\n  private _stopDragOnMouseUp(event: MouseEvent) {\n    if (event.button > 1) {\n      return;\n    }\n\n    this._stopDrag();\n  }\n\n  private _startSeekToByMouse(event: MouseEvent) {\n    const percent = getPercentBasedOnXPosition(event, this._$hitbox);\n\n    this._setSeekToDOMAttributes(percent);\n    this._callbacks.onSeekToByMouseStart(percent);\n  }\n\n  private _stopSeekToByMouse() {\n    this._setSeekToDOMAttributes(0);\n    this._callbacks.onSeekToByMouseEnd();\n  }\n\n  private _setPlayedByDrag(event: MouseEvent) {\n    if (this._isDragging) {\n      const percent = getPercentBasedOnXPosition(event, this._$hitbox);\n      this._setPlayedDOMAttributes(percent);\n      this._callbacks.onChangePlayedProgress(percent);\n    }\n  }\n\n  private _startDrag() {\n    this._isDragging = true;\n    this._callbacks.onDragStart();\n    this._$node.classList.add(this.styleNames.isDragging);\n  }\n\n  private _stopDrag() {\n    if (this._isDragging) {\n      this._isDragging = false;\n      this._callbacks.onDragEnd();\n      this._$node.classList.remove(this.styleNames.isDragging);\n    }\n  }\n\n  private _setSeekToDOMAttributes(percent: number) {\n    this._$seekTo.setAttribute('style', `width:${percent}%;`);\n  }\n\n  private _setPlayedDOMAttributes(percent: number) {\n    this._$node.setAttribute(\n      'aria-valuetext',\n      this._textMap.get(TEXT_LABELS.PROGRESS_CONTROL_VALUE, { percent }),\n    );\n    this._$node.setAttribute('aria-valuenow', String(percent));\n    this._$node.setAttribute(DATA_PLAYED, String(percent));\n    this._$played.setAttribute('style', `width:${percent}%;`);\n    this._$seekButton.setAttribute('style', `left:${percent}%;`);\n  }\n\n  private _setBufferedDOMAttributes(percent: number) {\n    this._$buffered.setAttribute('style', `width:${percent}%;`);\n  }\n\n  private _syncWithLive() {\n    this._callbacks.onSyncWithLiveClick();\n  }\n\n  showSyncWithLive() {\n    this._$syncButton.classList.remove(this.styleNames.hidden);\n  }\n\n  hideSyncWithLive() {\n    this._$syncButton.classList.add(this.styleNames.hidden);\n  }\n\n  setLiveSyncStatus(isSync: boolean) {\n    toggleNodeClass(this._$syncButton, this.styleNames.liveSync, isSync);\n\n    if (isSync) {\n      this._syncButtonTooltipReference.disable();\n      this._$played.setAttribute('style', `width:100%;`);\n      this._$seekButton.setAttribute('style', `left:100%;`);\n    } else {\n      this._syncButtonTooltipReference.enable();\n    }\n  }\n\n  showProgressTimeTooltip({\n    time,\n    percent,\n  }: {\n    time: number;\n    percent: number;\n  }) {\n    this._tooltipService.show({\n      text: formatTime(time),\n      position: tooltipContainerNode =>\n        getProgressTimeTooltipPosition(\n          percent,\n          this._$hitbox,\n          tooltipContainerNode,\n        ),\n    });\n  }\n\n  hideProgressTimeTooltip() {\n    this._tooltipService.hide();\n  }\n\n  setLiveMode() {\n    this._$node.classList.add(this.styleNames.inLive);\n\n    this.showSyncWithLive();\n  }\n\n  setUsualMode() {\n    this._$node.classList.remove(this.styleNames.inLive);\n\n    this.hideSyncWithLive();\n  }\n\n  setPlayed(percent: number) {\n    this._setPlayedDOMAttributes(percent);\n  }\n\n  setBuffered(percent: number) {\n    this._setBufferedDOMAttributes(percent);\n  }\n\n  addTimeIndicator(percent: number) {\n    this._$timeIndicators.appendChild(\n      htmlToElement(\n        progressTimeIndicatorTemplate({\n          percent,\n          styles: this.styleNames,\n        }),\n      ),\n    );\n  }\n\n  clearTimeIndicators() {\n    this._$timeIndicators.innerHTML = '';\n  }\n\n  hide() {\n    this._$node.classList.add(this.styleNames.hidden);\n  }\n\n  show() {\n    this._$node.classList.remove(this.styleNames.hidden);\n  }\n\n  getNode() {\n    return this._$node;\n  }\n\n  destroy() {\n    this._unbindEvents();\n    this._callbacks = null;\n\n    this._syncButtonTooltipReference.destroy();\n    this._syncButtonTooltipReference = null;\n\n    if (this._$node.parentNode) {\n      this._$node.parentNode.removeChild(this._$node);\n    }\n\n    this._$node = null;\n    this._$buffered = null;\n    this._$hitbox = null;\n    this._$played = null;\n    this._$seekTo = null;\n    this._$seekButton = null;\n    this._$syncButton = null;\n    this._$timeIndicators = null;\n\n    this._textMap = null;\n  }\n}\n\nProgressView.setTheme(progressViewTheme);\nProgressView.extendStyleNames(styles);\n\nexport default ProgressView;\n","export function getTimePercent(time: number, durationTime: number): number {\r\n  if (!durationTime) {\r\n    return 0;\r\n  }\r\n\r\n  return parseFloat((time / durationTime * 100).toFixed(1));\r\n}\r\n\r\nexport function getOverallBufferedPercent(\r\n  buffered: TimeRanges,\r\n  currentTime: number = 0,\r\n  duration: number = 0,\r\n) {\r\n  if (!buffered || !buffered.length || !duration) {\r\n    return 0;\r\n  }\r\n\r\n  const info = getNearestBufferSegmentInfo(buffered, currentTime);\r\n\r\n  return getTimePercent(info.end, duration);\r\n}\r\n\r\nexport function getOverallPlayedPercent(currentTime = 0, duration = 0) {\r\n  return getTimePercent(currentTime, duration);\r\n}\r\n\r\nexport function geOverallBufferLength(buffered: TimeRanges) {\r\n  let size = 0;\r\n\r\n  if (!buffered || !buffered.length) {\r\n    return size;\r\n  }\r\n\r\n  for (let i = 0; i < buffered.length; i += 1) {\r\n    size += buffered.end(i) - buffered.start(i);\r\n  }\r\n\r\n  return size;\r\n}\r\n\r\nexport function getNearestBufferSegmentInfo(\r\n  buffered: TimeRanges,\r\n  currentTime?: number,\r\n) {\r\n  let i = 0;\r\n\r\n  if (!buffered || !buffered.length) {\r\n    return null;\r\n  }\r\n\r\n  while (\r\n    i < buffered.length - 1 &&\r\n    !(buffered.start(i) <= currentTime && currentTime <= buffered.end(i))\r\n  ) {\r\n    i += 1;\r\n  }\r\n\r\n  return {\r\n    start: buffered.start(i),\r\n    end: buffered.end(i),\r\n  };\r\n}\r\n","import View from './progress.view';\n\nimport {\n  getTimePercent,\n  getOverallBufferedPercent,\n  getOverallPlayedPercent,\n} from '../../../../utils/video-data';\n\nimport {\n  VIDEO_EVENTS,\n  UI_EVENTS,\n  EngineState,\n  LiveState,\n} from '../../../../constants';\nimport { AMOUNT_TO_SKIP_SECONDS } from '../../../keyboard-control/keyboard-control';\n\nimport KeyboardInterceptor, {\n  KEYCODES,\n} from '../../../../utils/keyboard-interceptor';\nimport playerAPI from '../../../../core/player-api-decorator';\n\nimport { IEventEmitter } from '../../../event-emitter/types';\nimport { IProgressControl, IProgressViewConfig } from './types';\nimport { IPlaybackEngine } from '../../../playback-engine/types';\n\nconst UPDATE_INTERVAL_DELAY = 1000 / 60;\n\nexport default class ProgressControl implements IProgressControl {\n  static moduleName = 'progressControl';\n  static View = View;\n  static dependencies = [\n    'engine',\n    'liveStateEngine',\n    'eventEmitter',\n    'textMap',\n    'tooltipService',\n    'theme',\n  ];\n\n  private _engine: IPlaybackEngine;\n  private _liveStateEngine: any;\n  private _eventEmitter: IEventEmitter;\n  private _textMap: Playable.ITextMap;\n  private _tooltipService: Playable.ITooltipService;\n  private _theme: Playable.IThemeService;\n\n  private _isUserInteracting: boolean;\n  private _shouldPlayAfterManipulationEnd: boolean;\n  private _currentProgress: number;\n  private _interceptor: KeyboardInterceptor;\n  private _updateControlInterval: number;\n  private _timeIndicatorsToAdd: number[];\n\n  private _unbindEvents: Function;\n\n  view: View;\n  isHidden: boolean;\n\n  constructor({\n    engine,\n    liveStateEngine,\n    eventEmitter,\n    textMap,\n    tooltipService,\n    theme,\n  }: {\n    eventEmitter: IEventEmitter;\n    engine: IPlaybackEngine;\n    liveStateEngine: any;\n    textMap: Playable.ITextMap;\n    tooltipService: Playable.ITooltipService;\n    theme: Playable.IThemeService;\n  }) {\n    this._engine = engine;\n    this._liveStateEngine = liveStateEngine;\n    this._eventEmitter = eventEmitter;\n    this._textMap = textMap;\n    this._tooltipService = tooltipService;\n    this._isUserInteracting = false;\n    this._currentProgress = 0;\n    this._theme = theme;\n\n    this._timeIndicatorsToAdd = [];\n\n    this._bindCallbacks();\n    this._initUI();\n    this._bindEvents();\n\n    this.view.setPlayed(0);\n    this.view.setBuffered(0);\n\n    this._initInterceptor();\n  }\n\n  get node() {\n    return this.view.getNode();\n  }\n\n  private _bindEvents() {\n    this._unbindEvents = this._eventEmitter.bindEvents(\n      [\n        [VIDEO_EVENTS.STATE_CHANGED, this._processStateChange],\n        [VIDEO_EVENTS.LIVE_STATE_CHANGED, this._processLiveStateChange],\n        [VIDEO_EVENTS.CHUNK_LOADED, this._updateBufferIndicator],\n        [VIDEO_EVENTS.DURATION_UPDATED, this._updateAllIndicators],\n      ],\n      this,\n    );\n  }\n\n  private _initUI() {\n    const config: IProgressViewConfig = {\n      callbacks: {\n        onSyncWithLiveClick: this._syncWithLive,\n        onSyncWithLiveMouseEnter: this._onSyncWithLiveMouseEnter,\n        onSyncWithLiveMouseLeave: this._onSyncWithLiveMouseLeave,\n        onChangePlayedProgress: this._changePlayedProgress,\n        onSeekToByMouseStart: this._onSeekToByMouseStart,\n        onSeekToByMouseEnd: this._onSeekToByMouseEnd,\n        onDragStart: this._onUserInteractionStarts,\n        onDragEnd: this._onUserInteractionEnds,\n      },\n      theme: this._theme,\n      textMap: this._textMap,\n      tooltipService: this._tooltipService,\n    };\n\n    this.view = new ProgressControl.View(config);\n  }\n\n  private _initInterceptor() {\n    this._interceptor = new KeyboardInterceptor(this.view.getNode(), {\n      [KEYCODES.UP_ARROW]: e => {\n        e.stopPropagation();\n        e.preventDefault();\n        this._eventEmitter.emit(UI_EVENTS.KEYBOARD_KEYDOWN_INTERCEPTED);\n        this._eventEmitter.emit(UI_EVENTS.GO_FORWARD_WITH_KEYBOARD_TRIGGERED);\n        this._engine.goForward(AMOUNT_TO_SKIP_SECONDS);\n      },\n      [KEYCODES.DOWN_ARROW]: e => {\n        e.stopPropagation();\n        e.preventDefault();\n        this._eventEmitter.emit(UI_EVENTS.KEYBOARD_KEYDOWN_INTERCEPTED);\n        this._eventEmitter.emit(UI_EVENTS.GO_BACKWARD_WITH_KEYBOARD_TRIGGERED);\n        this._engine.goBackward(AMOUNT_TO_SKIP_SECONDS);\n      },\n      [KEYCODES.RIGHT_ARROW]: e => {\n        e.stopPropagation();\n        e.preventDefault();\n        this._eventEmitter.emit(UI_EVENTS.KEYBOARD_KEYDOWN_INTERCEPTED);\n        this._eventEmitter.emit(UI_EVENTS.GO_FORWARD_WITH_KEYBOARD_TRIGGERED);\n        this._engine.goForward(AMOUNT_TO_SKIP_SECONDS);\n      },\n      [KEYCODES.LEFT_ARROW]: e => {\n        e.stopPropagation();\n        e.preventDefault();\n        this._eventEmitter.emit(UI_EVENTS.KEYBOARD_KEYDOWN_INTERCEPTED);\n        this._eventEmitter.emit(UI_EVENTS.GO_BACKWARD_WITH_KEYBOARD_TRIGGERED);\n        this._engine.goBackward(AMOUNT_TO_SKIP_SECONDS);\n      },\n    });\n  }\n\n  private _destroyInterceptor() {\n    this._interceptor.destroy();\n  }\n\n  private _bindCallbacks() {\n    this._syncWithLive = this._syncWithLive.bind(this);\n    this._onSyncWithLiveMouseEnter = this._onSyncWithLiveMouseEnter.bind(this);\n    this._onSyncWithLiveMouseLeave = this._onSyncWithLiveMouseLeave.bind(this);\n    this._updateControlOnInterval = this._updateControlOnInterval.bind(this);\n    this._changePlayedProgress = this._changePlayedProgress.bind(this);\n    this._onSeekToByMouseStart = this._onSeekToByMouseStart.bind(this);\n    this._onSeekToByMouseEnd = this._onSeekToByMouseEnd.bind(this);\n    this._onUserInteractionStarts = this._onUserInteractionStarts.bind(this);\n    this._onUserInteractionEnds = this._onUserInteractionEnds.bind(this);\n    this._processStateChange = this._processStateChange.bind(this);\n    this._playVideoOnProgressManipulationEnd = this._playVideoOnProgressManipulationEnd.bind(\n      this,\n    );\n  }\n\n  private _changePlayedProgress(value: number) {\n    if (this._currentProgress === value) {\n      return;\n    }\n\n    this._currentProgress = value;\n    this._changeCurrentTimeOfVideo(value / 100);\n  }\n\n  private _startIntervalUpdates() {\n    if (this._updateControlInterval) {\n      this._stopIntervalUpdates();\n    }\n\n    this._updateControlOnInterval();\n\n    this._updateControlInterval = window.setInterval(\n      this._updateControlOnInterval,\n      UPDATE_INTERVAL_DELAY,\n    );\n  }\n\n  private _onSeekToByMouseStart(percent: number) {\n    const durationTime = this._engine.getDurationTime();\n    const seekTime = durationTime * percent / 100;\n    const time = this._engine.isDynamicContent\n      ? seekTime - durationTime\n      : seekTime;\n\n    this.view.showProgressTimeTooltip({ time, percent });\n  }\n\n  private _onSeekToByMouseEnd() {\n    this.view.hideProgressTimeTooltip();\n  }\n\n  private _stopIntervalUpdates() {\n    window.clearInterval(this._updateControlInterval);\n    this._updateControlInterval = null;\n  }\n\n  private _onUserInteractionStarts() {\n    if (!this._isUserInteracting) {\n      this._isUserInteracting = true;\n      this._pauseVideoOnProgressManipulationStart();\n    }\n\n    this._eventEmitter.emit(UI_EVENTS.CONTROL_DRAG_START);\n  }\n\n  private _onUserInteractionEnds() {\n    if (this._isUserInteracting) {\n      this._isUserInteracting = false;\n      this._playVideoOnProgressManipulationEnd();\n    }\n\n    this._eventEmitter.emit(UI_EVENTS.CONTROL_DRAG_END);\n  }\n\n  private _updateControlOnInterval() {\n    this._updatePlayedIndicator();\n    this._updateBufferIndicator();\n  }\n\n  private _processStateChange({ nextState }: { nextState: EngineState }) {\n    switch (nextState) {\n      case EngineState.SRC_SET:\n        this.reset();\n        break;\n      case EngineState.METADATA_LOADED:\n        this._initTimeIndicators();\n\n        if (this._engine.isSeekAvailable) {\n          this.show();\n        } else {\n          this.hide();\n        }\n\n        break;\n      case EngineState.PLAYING:\n        if (this._liveStateEngine.state === LiveState.SYNC) {\n          this.view.setPlayed(100);\n        } else {\n          this._startIntervalUpdates();\n        }\n        break;\n      case EngineState.SEEK_IN_PROGRESS:\n        this._updatePlayedIndicator();\n        this._updateBufferIndicator();\n        break;\n      default:\n        this._stopIntervalUpdates();\n        break;\n    }\n  }\n\n  private _processLiveStateChange({ nextState }: { nextState: LiveState }) {\n    switch (nextState) {\n      case LiveState.NONE:\n        this.view.setLiveSyncStatus(false);\n        this.view.setUsualMode();\n        break;\n\n      case LiveState.INITIAL:\n        this.view.setLiveMode();\n        break;\n\n      case LiveState.SYNC:\n        this.view.setLiveSyncStatus(true);\n        break;\n\n      case LiveState.NOT_SYNC:\n        this.view.setLiveSyncStatus(false);\n        break;\n\n      case LiveState.ENDED:\n        this.view.setLiveSyncStatus(false);\n        this.view.hideSyncWithLive();\n\n        // ensure progress indicators show latest info\n        if (this._engine.getCurrentState() === EngineState.PLAYING) {\n          this._startIntervalUpdates();\n        } else {\n          this._updatePlayedIndicator();\n          this._updateBufferIndicator();\n        }\n        break;\n\n      default:\n        break;\n    }\n  }\n\n  private _changeCurrentTimeOfVideo(percent: number) {\n    const duration = this._engine.getDurationTime();\n\n    if (this._engine.isDynamicContent && percent === 1) {\n      this._engine.syncWithLive();\n    } else {\n      this._engine.setCurrentTime(duration * percent);\n    }\n\n    this._eventEmitter.emit(UI_EVENTS.PROGRESS_CHANGE_TRIGGERED, percent);\n  }\n\n  private _pauseVideoOnProgressManipulationStart() {\n    const currentState = this._engine.getCurrentState();\n\n    if (\n      currentState === EngineState.PLAYING ||\n      currentState === EngineState.PLAY_REQUESTED\n    ) {\n      this._shouldPlayAfterManipulationEnd = true;\n      this._engine.pause();\n    }\n    this._eventEmitter.emit(UI_EVENTS.PROGRESS_MANIPULATION_STARTED);\n  }\n\n  private _playVideoOnProgressManipulationEnd() {\n    if (this._shouldPlayAfterManipulationEnd) {\n      this._engine.play();\n\n      this._shouldPlayAfterManipulationEnd = false;\n    }\n\n    this._eventEmitter.emit(UI_EVENTS.PROGRESS_MANIPULATION_ENDED);\n  }\n\n  private _updateBufferIndicator() {\n    const currentTime = this._engine.getCurrentTime();\n    const buffered = this._engine.getBuffered();\n    const duration = this._engine.getDurationTime();\n\n    this.updateBuffered(\n      getOverallBufferedPercent(buffered, currentTime, duration),\n    );\n  }\n\n  private _updatePlayedIndicator() {\n    if (this._liveStateEngine.state === LiveState.SYNC) {\n      // TODO: mb use this.updatePlayed(100) here?\n      return;\n    }\n\n    const currentTime = this._engine.getCurrentTime();\n    const duration = this._engine.getDurationTime();\n\n    this.updatePlayed(getOverallPlayedPercent(currentTime, duration));\n  }\n\n  private _updateAllIndicators() {\n    this._updatePlayedIndicator();\n    this._updateBufferIndicator();\n  }\n\n  private _initTimeIndicators() {\n    this._timeIndicatorsToAdd.forEach(time => {\n      this._addTimeIndicator(time);\n    });\n    this._timeIndicatorsToAdd = [];\n  }\n\n  private _addTimeIndicator(time: number) {\n    const durationTime = this._engine.getDurationTime();\n\n    if (time > durationTime) {\n      // TODO: log error for developers\n      return;\n    }\n\n    this.view.addTimeIndicator(getTimePercent(time, durationTime));\n  }\n\n  private _syncWithLive() {\n    this._engine.syncWithLive();\n  }\n\n  private _onSyncWithLiveMouseEnter() {\n    this._eventEmitter.emit(\n      UI_EVENTS.PROGRESS_SYNC_BUTTON_MOUSE_ENTER_TRIGGERED,\n    );\n  }\n\n  private _onSyncWithLiveMouseLeave() {\n    this._eventEmitter.emit(\n      UI_EVENTS.PROGRESS_SYNC_BUTTON_MOUSE_LEAVE_TRIGGERED,\n    );\n  }\n\n  /**\n   * Add time indicator to progress bar\n   */\n  @playerAPI()\n  addTimeIndicator(time: number) {\n    this.addTimeIndicators([time]);\n  }\n\n  /**\n   * Add time indicators to progress bar\n   */\n  @playerAPI()\n  addTimeIndicators(times: number[]) {\n    if (!this._engine.isMetadataLoaded) {\n      // NOTE: Add indicator after metadata loaded\n      this._timeIndicatorsToAdd.push(...times);\n      return;\n    }\n\n    times.forEach(time => {\n      this._addTimeIndicator(time);\n    });\n  }\n\n  /**\n   * Delete all time indicators from progress bar\n   */\n  @playerAPI()\n  clearTimeIndicators() {\n    this.view.clearTimeIndicators();\n  }\n\n  updatePlayed(percent: number) {\n    this._currentProgress = percent;\n    this.view.setPlayed(this._currentProgress);\n  }\n\n  updateBuffered(percent: number) {\n    this.view.setBuffered(percent);\n  }\n\n  hide() {\n    this.isHidden = true;\n    this.view.hide();\n  }\n\n  show() {\n    this.isHidden = false;\n    this.view.show();\n  }\n\n  reset() {\n    this.updatePlayed(0);\n    this.updateBuffered(0);\n    this.clearTimeIndicators();\n  }\n\n  destroy() {\n    this._destroyInterceptor();\n    this._stopIntervalUpdates();\n    this._unbindEvents();\n    this.view.destroy();\n    this.view = null;\n\n    this._eventEmitter = null;\n    this._engine = null;\n    this._liveStateEngine = null;\n    this._timeIndicatorsToAdd = null;\n    this._textMap = null;\n  }\n}\n","export default {\r\n  playSvgFill: {\r\n    fill: (data: any) => data.color,\r\n  },\r\n};\r\n","import { TEXT_LABELS } from '../../../../constants';\n\nimport View from '../../core/view';\n\nimport {\n  controlTemplate,\n  playIconTemplate,\n  pauseIconTemplate,\n} from './templates';\n\nimport htmlToElement from '../../core/htmlToElement';\nimport getElementByHook from '../../core/getElementByHook';\n\nimport { IPlayViewStyles, IPlayViewCallbacks, IPlayViewConfig } from './types';\n\nimport playViewTheme from './play.theme';\nimport styles from './play.scss';\n\nconst DATA_IS_PLAYING = 'data-is-playing';\n\nclass PlayView extends View<IPlayViewStyles>\n  implements Playable.IView<IPlayViewStyles> {\n  private _callbacks: IPlayViewCallbacks;\n  private _textMap: Playable.ITextMap;\n\n  private _$node: HTMLElement;\n  private _$playbackControl: HTMLElement;\n\n  constructor(config: IPlayViewConfig) {\n    const { callbacks, textMap, theme } = config;\n\n    super(theme);\n\n    this._callbacks = callbacks;\n    this._textMap = textMap;\n\n    this._$node = htmlToElement(\n      controlTemplate({\n        styles: this.styleNames,\n        texts: {\n          label: this._textMap.get(TEXT_LABELS.PLAY_CONTROL_LABEL),\n        },\n      }),\n    );\n\n    this._$playbackControl = getElementByHook(this._$node, 'playback-control');\n\n    this.setState({ isPlaying: false });\n    this._bindEvents();\n  }\n\n  private _bindEvents() {\n    this._onButtonClick = this._onButtonClick.bind(this);\n\n    this._$playbackControl.addEventListener('click', this._onButtonClick);\n  }\n\n  private _unbindEvents() {\n    this._$playbackControl.removeEventListener('click', this._onButtonClick);\n  }\n\n  private _onButtonClick() {\n    this._$playbackControl.focus();\n    this._callbacks.onButtonClick();\n  }\n\n  setState({ isPlaying }: { isPlaying: boolean }) {\n    if (isPlaying) {\n      this._$playbackControl.classList.remove(this.styleNames.paused);\n      this._$playbackControl.innerHTML = pauseIconTemplate({\n        styles: this.styleNames,\n        themeStyles: this.themeStyles,\n      });\n      this._$playbackControl.setAttribute(\n        'aria-label',\n        this._textMap.get(TEXT_LABELS.PAUSE_CONTROL_LABEL),\n      );\n    } else {\n      this._$playbackControl.classList.add(this.styleNames.paused);\n      this._$playbackControl.innerHTML = playIconTemplate({\n        styles: this.styleNames,\n        themeStyles: this.themeStyles,\n      });\n      this._$playbackControl.setAttribute(\n        'aria-label',\n        this._textMap.get(TEXT_LABELS.PLAY_CONTROL_LABEL),\n      );\n    }\n\n    this._$node.setAttribute(DATA_IS_PLAYING, String(isPlaying));\n  }\n\n  show() {\n    this._$node.classList.remove(this.styleNames.hidden);\n  }\n\n  hide() {\n    this._$node.classList.add(this.styleNames.hidden);\n  }\n\n  getNode() {\n    return this._$node;\n  }\n\n  destroy() {\n    this._unbindEvents();\n    this._callbacks = null;\n\n    if (this._$node.parentNode) {\n      this._$node.parentNode.removeChild(this._$node);\n    }\n\n    this._$playbackControl = null;\n    this._$node = null;\n    this._textMap = null;\n  }\n}\n\nPlayView.setTheme(playViewTheme);\nPlayView.extendStyleNames(styles);\n\nexport default PlayView;\n","import { IPlayControl, IPlayViewConfig } from './types';\n\nimport View from './play.view';\n\nimport KeyboardInterceptor, {\n  KEYCODES,\n} from '../../../../utils/keyboard-interceptor';\n\nimport { VIDEO_EVENTS, UI_EVENTS, EngineState } from '../../../../constants';\n\nimport { IEventEmitter } from '../../../event-emitter/types';\nimport { IPlaybackEngine } from '../../../playback-engine/types';\n\nexport default class PlayControl implements IPlayControl {\n  static moduleName = 'playControl';\n  static View = View;\n  static dependencies = ['engine', 'eventEmitter', 'textMap', 'theme'];\n\n  private _engine: IPlaybackEngine;\n  private _eventEmitter: IEventEmitter;\n  private _textMap: Playable.ITextMap;\n  private _theme: Playable.IThemeService;\n\n  private _interceptor: KeyboardInterceptor;\n  private _isPlaying: boolean;\n\n  private _unbindEvents: Function;\n\n  view: View;\n\n  constructor({\n    engine,\n    eventEmitter,\n    textMap,\n    theme,\n  }: {\n    engine: IPlaybackEngine;\n    eventEmitter: IEventEmitter;\n    textMap: Playable.ITextMap;\n    theme: Playable.IThemeService;\n  }) {\n    this._engine = engine;\n    this._eventEmitter = eventEmitter;\n    this._textMap = textMap;\n    this._theme = theme;\n\n    this._isPlaying = null;\n\n    this._bindCallbacks();\n    this._initUI();\n    this._bindEvents();\n\n    this.setControlStatus(false);\n\n    this._initInterceptor();\n  }\n\n  get node() {\n    return this.view.getNode();\n  }\n\n  private _initInterceptor() {\n    this._interceptor = new KeyboardInterceptor(this.node, {\n      [KEYCODES.SPACE_BAR]: e => {\n        e.stopPropagation();\n        this._eventEmitter.emit(\n          UI_EVENTS.TOGGLE_PLAYBACK_WITH_KEYBOARD_TRIGGERED,\n        );\n      },\n      [KEYCODES.ENTER]: e => {\n        e.stopPropagation();\n        this._eventEmitter.emit(\n          UI_EVENTS.TOGGLE_PLAYBACK_WITH_KEYBOARD_TRIGGERED,\n        );\n      },\n    });\n  }\n\n  private _destroyInterceptor() {\n    this._interceptor.destroy();\n  }\n\n  private _bindCallbacks() {\n    this._togglePlayback = this._togglePlayback.bind(this);\n  }\n\n  private _bindEvents() {\n    this._unbindEvents = this._eventEmitter.bindEvents(\n      [[VIDEO_EVENTS.STATE_CHANGED, this._updatePlayingStatus]],\n      this,\n    );\n  }\n\n  private _togglePlayback() {\n    if (this._isPlaying) {\n      this._pauseVideo();\n    } else {\n      this._playVideo();\n    }\n  }\n\n  private _playVideo() {\n    this._engine.play();\n\n    this._eventEmitter.emit(UI_EVENTS.PLAY_TRIGGERED);\n  }\n\n  private _pauseVideo() {\n    this._engine.pause();\n\n    this._eventEmitter.emit(UI_EVENTS.PAUSE_TRIGGERED);\n  }\n\n  private _updatePlayingStatus({ nextState }: { nextState: EngineState }) {\n    if (nextState === EngineState.SRC_SET) {\n      this.reset();\n    } else if (nextState === EngineState.PLAYING) {\n      this.setControlStatus(true);\n    } else if (\n      nextState === EngineState.PAUSED ||\n      nextState === EngineState.ENDED ||\n      nextState === EngineState.SEEK_IN_PROGRESS\n    ) {\n      this.setControlStatus(false);\n    }\n  }\n\n  private _initUI() {\n    const config: IPlayViewConfig = {\n      callbacks: {\n        onButtonClick: this._togglePlayback,\n      },\n      theme: this._theme,\n      textMap: this._textMap,\n    };\n\n    this.view = new PlayControl.View(config);\n  }\n\n  setControlStatus(isPlaying: boolean) {\n    this._isPlaying = isPlaying;\n    this.view.setState({ isPlaying: this._isPlaying });\n  }\n\n  reset() {\n    this.setControlStatus(false);\n  }\n\n  destroy() {\n    this._destroyInterceptor();\n    this._unbindEvents();\n    this.view.destroy();\n    this.view = null;\n\n    this._eventEmitter = null;\n    this._engine = null;\n    this._textMap = null;\n  }\n}\n","export default {\r\n  timeText: {\r\n    color: (data: any) => data.color,\r\n  },\r\n};\r\n","import View from '../../core/view';\n\nimport formatTime from '../../core/utils/formatTime';\n\nimport { timeTemplate } from './templates';\n\nimport htmlToElement from '../../core/htmlToElement';\nimport getElementByHook from '../../core/getElementByHook';\n\nimport { ITimeViewStyles, ITimeViewConfig } from './types';\nimport timeViewTheme from './time.theme';\nimport styles from './time.scss';\n\nclass TimeView extends View<ITimeViewStyles>\n  implements Playable.IView<ITimeViewStyles> {\n  private _$node: HTMLElement;\n  private _$currentTime: HTMLElement;\n  private _$durationTime: HTMLElement;\n  private _duration: number;\n  private _current: number;\n  private _isBackward: boolean;\n  constructor(config: ITimeViewConfig) {\n    const { theme } = config;\n    super(theme);\n\n    this._initDOM();\n  }\n\n  private _initDOM() {\n    this._$node = htmlToElement(\n      timeTemplate({ styles: this.styleNames, themeStyles: this.themeStyles }),\n    );\n\n    this._$currentTime = getElementByHook(\n      this._$node,\n      'current-time-indicator',\n    );\n    this._$durationTime = getElementByHook(\n      this._$node,\n      'duration-time-indicator',\n    );\n  }\n\n  setDurationTime(duration: number) {\n    if (duration !== this._duration) {\n      this._duration = duration;\n      this._updateDurationTime();\n    }\n  }\n\n  setCurrentTime(current: number) {\n    if (current !== this._current) {\n      this._current = current;\n      this._updateCurrentTime();\n    }\n  }\n\n  setCurrentTimeBackward(_isBackward: boolean) {\n    this._isBackward = _isBackward;\n    this._updateCurrentTime();\n  }\n\n  private _updateDurationTime() {\n    this._$durationTime.innerHTML = formatTime(this._duration);\n  }\n\n  private _updateCurrentTime() {\n    if (this._isBackward) {\n      this._$currentTime.innerHTML = formatTime(this._current - this._duration);\n    } else {\n      this._$currentTime.innerHTML = formatTime(this._current);\n    }\n  }\n\n  showDuration() {\n    this._$durationTime.classList.remove(this.styleNames.hidden);\n  }\n\n  hideDuration() {\n    this._$durationTime.classList.add(this.styleNames.hidden);\n  }\n\n  show() {\n    this._$node.classList.remove(this.styleNames.hidden);\n  }\n\n  hide() {\n    this._$node.classList.add(this.styleNames.hidden);\n  }\n\n  getNode() {\n    return this._$node;\n  }\n\n  destroy() {\n    if (this._$node.parentNode) {\n      this._$node.parentNode.removeChild(this._$node);\n    }\n\n    this._$currentTime = null;\n    this._$durationTime = null;\n    this._$node = null;\n  }\n}\n\nTimeView.setTheme(timeViewTheme);\nTimeView.extendStyleNames(styles);\n\nexport default TimeView;\n","import View from './time.view';\n\nimport { VIDEO_EVENTS, EngineState, LiveState } from '../../../../constants';\n\nimport { IEventEmitter } from '../../../event-emitter/types';\nimport { IPlaybackEngine } from '../../../playback-engine/types';\nimport { ITimeControl, ITimeViewConfig } from './types';\n\nconst UPDATE_INTERVAL_DELAY = 1000 / 60;\n\nexport default class TimeControl implements ITimeControl {\n  static moduleName = 'timeControl';\n  static View = View;\n  static dependencies = ['engine', 'eventEmitter', 'theme'];\n\n  private _eventEmitter: IEventEmitter;\n  private _engine: IPlaybackEngine;\n  private _theme: Playable.IThemeService;\n\n  private _updateControlInterval: number;\n  private _unbindEvents: Function;\n\n  view: View;\n  isHidden: boolean;\n\n  constructor({\n    eventEmitter,\n    engine,\n    theme,\n  }: {\n    eventEmitter: IEventEmitter;\n    engine: IPlaybackEngine;\n    theme: Playable.IThemeService;\n  }) {\n    this._eventEmitter = eventEmitter;\n    this._engine = engine;\n    this._theme = theme;\n\n    this._bindCallbacks();\n    this._initUI();\n    this._bindEvents();\n\n    this.setCurrentTime(0);\n    this.setDurationTime(0);\n  }\n\n  get node() {\n    return this.view.getNode();\n  }\n\n  private _bindCallbacks() {\n    this._updateCurrentTime = this._updateCurrentTime.bind(this);\n    this._updateDurationTime = this._updateDurationTime.bind(this);\n  }\n\n  private _bindEvents() {\n    this._unbindEvents = this._eventEmitter.bindEvents(\n      [\n        [VIDEO_EVENTS.STATE_CHANGED, this._toggleIntervalUpdates],\n        [VIDEO_EVENTS.DURATION_UPDATED, this._updateDurationTime],\n        [VIDEO_EVENTS.LIVE_STATE_CHANGED, this._processLiveStateChange],\n      ],\n      this,\n    );\n  }\n\n  private _initUI() {\n    const config: ITimeViewConfig = {\n      theme: this._theme,\n    };\n    this.view = new TimeControl.View(config);\n  }\n\n  private _startIntervalUpdates() {\n    if (this._updateControlInterval) {\n      this._stopIntervalUpdates();\n    }\n    this._updateControlInterval = window.setInterval(\n      this._updateCurrentTime,\n      UPDATE_INTERVAL_DELAY,\n    );\n  }\n\n  private _stopIntervalUpdates() {\n    window.clearInterval(this._updateControlInterval);\n    this._updateControlInterval = null;\n  }\n\n  private _processLiveStateChange({ nextState }: { nextState: LiveState }) {\n    switch (nextState) {\n      case LiveState.NONE:\n        this.show();\n        break;\n\n      case LiveState.INITIAL:\n        this.hide();\n        break;\n\n      case LiveState.ENDED:\n        this.show();\n        break;\n\n      default:\n        break;\n    }\n  }\n\n  private _toggleIntervalUpdates({ nextState }: { nextState: EngineState }) {\n    switch (nextState) {\n      case EngineState.SRC_SET:\n        this.reset();\n        break;\n      case EngineState.PLAYING:\n        this._startIntervalUpdates();\n        break;\n      case EngineState.SEEK_IN_PROGRESS:\n        this._updateCurrentTime();\n        break;\n      default:\n        this._stopIntervalUpdates();\n        break;\n    }\n  }\n\n  private _updateDurationTime() {\n    this.setDurationTime(this._engine.getDurationTime());\n  }\n\n  private _updateCurrentTime() {\n    this.setCurrentTime(this._engine.getCurrentTime());\n  }\n\n  setDurationTime(time: number) {\n    this.view.setDurationTime(time);\n  }\n\n  setCurrentTime(time: number) {\n    this.view.setCurrentTime(time);\n  }\n\n  hide() {\n    this.isHidden = true;\n    this.view.hide();\n  }\n\n  show() {\n    this.isHidden = false;\n    this.view.show();\n  }\n\n  reset() {\n    this.setDurationTime(0);\n    this.setCurrentTime(0);\n    this.view.showDuration();\n    this.view.setCurrentTimeBackward(false);\n    this.show();\n  }\n\n  destroy() {\n    this._stopIntervalUpdates();\n    this._unbindEvents();\n    this.view.destroy();\n    this.view = null;\n\n    this._eventEmitter = null;\n    this._engine = null;\n  }\n}\n","import { transperentizeColor } from '../../core/theme';\r\n\r\nexport default {\r\n  volumeSvgFill: {\r\n    fill: (data: any) => data.color,\r\n  },\r\n  volumeSvgStroke: {\r\n    stroke: (data: any) => data.color,\r\n  },\r\n  volumeProgress: {\r\n    backgroundColor: (data: any) => data.color,\r\n    '&:after': {\r\n      backgroundColor: (data: any) => data.color,\r\n    },\r\n  },\r\n  volumeProgressBackground: {\r\n    backgroundColor: (data: any) => transperentizeColor(data.color, 0.25),\r\n  },\r\n};\r\n","import { TEXT_LABELS } from '../../../../constants';\n\nimport {\n  controlTemplate,\n  volume0IconTemplate,\n  volume50IconTemplate,\n  volume100IconTemplate,\n} from './templates';\n\nimport View from '../../core/view';\n\nimport htmlToElement from '../../core/htmlToElement';\nimport getElementByHook from '../../core/getElementByHook';\n\nimport {\n  IVolumeViewStyles,\n  IVolumeViewCallbacks,\n  IVolumeViewConfig,\n} from './types';\n\nimport volumeViewTheme from './volume.theme';\nimport styles from './volume.scss';\n\nconst DATA_IS_MUTED = 'data-is-muted';\nconst DATA_VOLUME = 'data-volume-percent';\n\nconst MAX_VOLUME_ICON_RANGE = 50;\n\nconst getPercentBasedOnXPosition = (\n  event: MouseEvent,\n  element: HTMLElement,\n) => {\n  const boundingRect = element.getBoundingClientRect();\n  const positionX = event.clientX;\n\n  if (positionX < boundingRect.left) {\n    return 0;\n  }\n\n  if (positionX > boundingRect.left + boundingRect.width) {\n    return 100;\n  }\n\n  return (event.clientX - boundingRect.left) / boundingRect.width * 100;\n};\n\nclass VolumeView extends View<IVolumeViewStyles>\n  implements Playable.IView<IVolumeViewStyles> {\n  private _callbacks: IVolumeViewCallbacks;\n  private _textMap: Playable.ITextMap;\n  private _tooltipService: Playable.ITooltipService;\n  private _muteButtonTooltipReference: Playable.ITooltipReference;\n\n  private _$node: HTMLElement;\n  private _$muteButton: HTMLElement;\n  private _$volumeNode: HTMLElement;\n  private _$volume: HTMLElement;\n  private _$hitbox: HTMLElement;\n\n  private _isDragging: boolean;\n\n  constructor(config: IVolumeViewConfig) {\n    const { callbacks, textMap, tooltipService, theme } = config;\n\n    super(theme);\n\n    this._callbacks = callbacks;\n\n    this._textMap = textMap;\n    this._tooltipService = tooltipService;\n\n    this._bindCallbacks();\n    this._initDOM();\n    this._bindEvents();\n  }\n\n  private _initDOM() {\n    this._$node = htmlToElement(\n      controlTemplate({\n        styles: this.styleNames,\n        themeStyles: this.themeStyles,\n        texts: {\n          muteLabel: this._textMap.get(TEXT_LABELS.MUTE_CONTROL_LABEL),\n          volumeLabel: this._textMap.get(TEXT_LABELS.VOLUME_CONTROL_LABEL),\n        },\n      }),\n    );\n\n    this._$muteButton = getElementByHook(this._$node, 'mute-button');\n    this._$volumeNode = getElementByHook(this._$node, 'volume-input-block');\n    this._$hitbox = getElementByHook(this._$node, 'volume-hitbox');\n    this._$volume = getElementByHook(this._$node, 'volume-input');\n\n    this._muteButtonTooltipReference = this._tooltipService.createReference(\n      this._$muteButton,\n      {\n        text: this._textMap.get(TEXT_LABELS.MUTE_CONTROL_TOOLTIP),\n      },\n    );\n  }\n\n  private _bindCallbacks() {\n    this._onButtonClick = this._onButtonClick.bind(this);\n\n    this._startDragOnMouseDown = this._startDragOnMouseDown.bind(this);\n    this._stopDragOnMouseUp = this._stopDragOnMouseUp.bind(this);\n    this._setVolumeByWheel = this._setVolumeByWheel.bind(this);\n    this._setVolumeByClick = this._setVolumeByClick.bind(this);\n    this._setVolumeByDrag = this._setVolumeByDrag.bind(this);\n  }\n\n  private _bindEvents() {\n    this._$hitbox.addEventListener('wheel', this._setVolumeByWheel);\n    this._$hitbox.addEventListener('mousedown', this._startDragOnMouseDown);\n    window.addEventListener('mousemove', this._setVolumeByDrag);\n    window.addEventListener('mouseup', this._stopDragOnMouseUp);\n\n    this._$muteButton.addEventListener('click', this._onButtonClick);\n  }\n\n  private _unbindEvents() {\n    this._$hitbox.removeEventListener('wheel', this._setVolumeByWheel);\n    this._$hitbox.removeEventListener('mousedown', this._startDragOnMouseDown);\n    window.removeEventListener('mousemove', this._setVolumeByDrag);\n    window.removeEventListener('mouseup', this._stopDragOnMouseUp);\n\n    this._$muteButton.removeEventListener('click', this._onButtonClick);\n  }\n\n  private _startDragOnMouseDown(event: MouseEvent) {\n    if (event.button > 1) {\n      return;\n    }\n    this._setVolumeByClick(event);\n    this._startDrag();\n  }\n\n  private _stopDragOnMouseUp(event: MouseEvent) {\n    if (event.button > 1) {\n      return;\n    }\n\n    this._stopDrag();\n  }\n\n  private _setVolumeByClick(event: MouseEvent) {\n    this._$volumeNode.focus();\n    const percent = getPercentBasedOnXPosition(event, this._$hitbox);\n    this._callbacks.onVolumeLevelChangeFromInput(percent);\n  }\n\n  private _setVolumeByDrag(event: MouseEvent) {\n    const percent = getPercentBasedOnXPosition(event, this._$hitbox);\n    if (this._isDragging) {\n      this._callbacks.onVolumeLevelChangeFromInput(percent);\n    }\n  }\n\n  private _setVolumeByWheel(e: WheelEvent) {\n    e.preventDefault();\n    const value = e.deltaX || e.deltaY * -1;\n\n    if (!value) {\n      return;\n    }\n\n    this._callbacks.onVolumeLevelChangeFromWheel(value);\n  }\n\n  private _startDrag() {\n    this._isDragging = true;\n    this._$node.classList.add(this.styleNames.isDragging);\n    this._callbacks.onDragStart();\n  }\n\n  private _stopDrag() {\n    if (this._isDragging) {\n      this._isDragging = false;\n      this._$node.classList.remove(this.styleNames.isDragging);\n      this._callbacks.onDragEnd();\n    }\n  }\n\n  private _setVolumeDOMAttributes(percent: number) {\n    this._$volumeNode.setAttribute('value', String(percent));\n    this._$volumeNode.setAttribute(\n      'aria-valuetext',\n      this._textMap.get(TEXT_LABELS.VOLUME_CONTROL_VALUE, { percent }),\n    );\n    this._$volumeNode.setAttribute('aria-valuenow', String(percent));\n    this._$volumeNode.setAttribute(DATA_VOLUME, String(percent));\n\n    this._$volume.setAttribute('style', `width:${percent}%;`);\n\n    this._$node.setAttribute(DATA_VOLUME, String(percent));\n\n    const iconTemplateProps = {\n      styles: this.styleNames,\n      themeStyles: this.themeStyles,\n    };\n\n    if (percent >= MAX_VOLUME_ICON_RANGE) {\n      this._$muteButton.innerHTML = volume100IconTemplate(iconTemplateProps);\n    } else if (percent > 0) {\n      this._$muteButton.innerHTML = volume50IconTemplate(iconTemplateProps);\n    } else {\n      this._$muteButton.innerHTML = volume0IconTemplate(iconTemplateProps);\n    }\n  }\n\n  private _onButtonClick() {\n    this._$muteButton.focus();\n    this._callbacks.onToggleMuteClick();\n  }\n\n  setVolume(volume: number) {\n    this._setVolumeDOMAttributes(volume);\n  }\n\n  setMute(isMuted: boolean) {\n    this._setMuteDOMAttributes(isMuted);\n  }\n\n  private _setMuteDOMAttributes(isMuted: boolean) {\n    if (isMuted) {\n      this._$muteButton.innerHTML = volume0IconTemplate({\n        styles: this.styleNames,\n        themeStyles: this.themeStyles,\n      });\n    }\n\n    this._$node.setAttribute(DATA_IS_MUTED, String(isMuted));\n    this._$muteButton.setAttribute(\n      'aria-label',\n      isMuted\n        ? this._textMap.get(TEXT_LABELS.UNMUTE_CONTROL_LABEL)\n        : this._textMap.get(TEXT_LABELS.MUTE_CONTROL_LABEL),\n    );\n    this._muteButtonTooltipReference.setText(\n      isMuted\n        ? this._textMap.get(TEXT_LABELS.UNMUTE_CONTROL_TOOLTIP)\n        : this._textMap.get(TEXT_LABELS.MUTE_CONTROL_TOOLTIP),\n    );\n  }\n\n  show() {\n    this._$node.classList.remove(this.styleNames.hidden);\n  }\n\n  hide() {\n    this._$node.classList.add(this.styleNames.hidden);\n  }\n\n  getNode() {\n    return this._$node;\n  }\n\n  getButtonNode() {\n    return this._$muteButton;\n  }\n\n  getInputNode() {\n    return this._$volumeNode;\n  }\n\n  destroy() {\n    this._unbindEvents();\n    this._callbacks = null;\n\n    this._muteButtonTooltipReference.destroy();\n    this._muteButtonTooltipReference = null;\n\n    if (this._$node.parentNode) {\n      this._$node.parentNode.removeChild(this._$node);\n    }\n\n    this._$muteButton = null;\n    this._$node = null;\n\n    this._textMap = null;\n  }\n}\n\nVolumeView.setTheme(volumeViewTheme);\nVolumeView.extendStyleNames(styles);\n\nexport default VolumeView;\n","import View from './volume.view';\n\nimport KeyboardInterceptor, {\n  KEYCODES,\n} from '../../../../utils/keyboard-interceptor';\n\nimport { AMOUNT_TO_CHANGE_VOLUME } from '../../../keyboard-control/keyboard-control';\nimport { VIDEO_EVENTS, UI_EVENTS } from '../../../../constants';\n\nimport { IEventEmitter } from '../../../event-emitter/types';\nimport { IVolumeControl, IVolumeViewConfig } from './types';\nimport { IPlaybackEngine } from '../../../playback-engine/types';\n\nexport default class VolumeControl implements IVolumeControl {\n  static moduleName = 'volumeControl';\n  static View = View;\n  static dependencies = [\n    'engine',\n    'eventEmitter',\n    'textMap',\n    'tooltipService',\n    'theme',\n  ];\n\n  private _engine: IPlaybackEngine;\n  private _eventEmitter: IEventEmitter;\n  private _textMap: Playable.ITextMap;\n  private _tooltipService: Playable.ITooltipService;\n  private _theme: Playable.IThemeService;\n\n  private _isMuted: boolean;\n  private _volume: number;\n\n  private _buttonInterceptor: KeyboardInterceptor;\n  private _inputInterceptor: KeyboardInterceptor;\n\n  private _unbindEvents: Function;\n\n  view: View;\n  isHidden: boolean;\n\n  constructor({\n    engine,\n    eventEmitter,\n    textMap,\n    tooltipService,\n    theme,\n  }: {\n    eventEmitter: IEventEmitter;\n    engine: IPlaybackEngine;\n    textMap: Playable.ITextMap;\n    tooltipService: Playable.ITooltipService;\n    theme: Playable.IThemeService;\n  }) {\n    this._engine = engine;\n    this._eventEmitter = eventEmitter;\n    this._textMap = textMap;\n    this._tooltipService = tooltipService;\n    this._theme = theme;\n\n    this._isMuted = this._engine.getMute();\n    this._volume = this._engine.getVolume();\n\n    this._bindCallbacks();\n\n    this._initUI();\n\n    this._bindEvents();\n\n    this.view.setVolume(this._volume);\n    this.view.setMute(this._isMuted);\n\n    this._initInterceptor();\n  }\n\n  get node() {\n    return this.view.getNode();\n  }\n\n  private _initUI() {\n    const config: IVolumeViewConfig = {\n      callbacks: {\n        onDragStart: this._broadcastDragStart,\n        onDragEnd: this._broadcastDragEnd,\n        onVolumeLevelChangeFromInput: this._getVolumeLevelFromInput,\n        onVolumeLevelChangeFromWheel: this._getVolumeLevelFromWheel,\n        onToggleMuteClick: this._toggleMuteStatus,\n      },\n      theme: this._theme,\n      textMap: this._textMap,\n      tooltipService: this._tooltipService,\n    };\n\n    this.view = new VolumeControl.View(config);\n  }\n\n  private _initInterceptor() {\n    this._buttonInterceptor = new KeyboardInterceptor(\n      this.view.getButtonNode(),\n      {\n        [KEYCODES.SPACE_BAR]: e => {\n          e.stopPropagation();\n\n          this._eventEmitter.emit(UI_EVENTS.KEYBOARD_KEYDOWN_INTERCEPTED);\n          this._eventEmitter.emit(\n            this._isMuted\n              ? UI_EVENTS.UNMUTE_SOUND_WITH_KEYBOARD_TRIGGERED\n              : UI_EVENTS.MUTE_SOUND_WITH_KEYBOARD_TRIGGERED,\n          );\n        },\n        [KEYCODES.ENTER]: e => {\n          e.stopPropagation();\n\n          this._eventEmitter.emit(UI_EVENTS.KEYBOARD_KEYDOWN_INTERCEPTED);\n          this._eventEmitter.emit(\n            this._isMuted\n              ? UI_EVENTS.UNMUTE_SOUND_WITH_KEYBOARD_TRIGGERED\n              : UI_EVENTS.MUTE_SOUND_WITH_KEYBOARD_TRIGGERED,\n          );\n        },\n      },\n    );\n\n    this._inputInterceptor = new KeyboardInterceptor(this.view.getInputNode(), {\n      [KEYCODES.RIGHT_ARROW]: e => {\n        e.stopPropagation();\n        e.preventDefault();\n\n        this._eventEmitter.emit(UI_EVENTS.KEYBOARD_KEYDOWN_INTERCEPTED);\n        this._eventEmitter.emit(\n          UI_EVENTS.INCREASE_VOLUME_WITH_KEYBOARD_TRIGGERED,\n        );\n        this._engine.setMute(false);\n        this._engine.increaseVolume(AMOUNT_TO_CHANGE_VOLUME);\n      },\n      [KEYCODES.LEFT_ARROW]: e => {\n        e.stopPropagation();\n        e.preventDefault();\n\n        this._eventEmitter.emit(UI_EVENTS.KEYBOARD_KEYDOWN_INTERCEPTED);\n        this._eventEmitter.emit(\n          UI_EVENTS.DECREASE_VOLUME_WITH_KEYBOARD_TRIGGERED,\n        );\n        this._engine.setMute(false);\n        this._engine.decreaseVolume(AMOUNT_TO_CHANGE_VOLUME);\n      },\n    });\n  }\n\n  private _destroyInterceptor() {\n    this._buttonInterceptor.destroy();\n    this._inputInterceptor.destroy();\n  }\n\n  private _bindEvents() {\n    this._unbindEvents = this._eventEmitter.bindEvents(\n      [[VIDEO_EVENTS.VOLUME_STATUS_CHANGED, this._updateVolumeStatus]],\n      this,\n    );\n  }\n\n  private _bindCallbacks() {\n    this._getVolumeLevelFromInput = this._getVolumeLevelFromInput.bind(this);\n    this._toggleMuteStatus = this._toggleMuteStatus.bind(this);\n    this._getVolumeLevelFromWheel = this._getVolumeLevelFromWheel.bind(this);\n    this._broadcastDragStart = this._broadcastDragStart.bind(this);\n    this._broadcastDragEnd = this._broadcastDragEnd.bind(this);\n  }\n\n  private _broadcastDragStart() {\n    this._eventEmitter.emit(UI_EVENTS.CONTROL_DRAG_START);\n  }\n\n  private _broadcastDragEnd() {\n    this._eventEmitter.emit(UI_EVENTS.CONTROL_DRAG_END);\n  }\n\n  private _changeVolumeLevel(level: number) {\n    this._engine.setVolume(level);\n    this._eventEmitter.emit(UI_EVENTS.VOLUME_CHANGE_TRIGGERED, level);\n  }\n\n  private _toggleMuteStatus() {\n    this._engine.setMute(!this._isMuted);\n    this._eventEmitter.emit(UI_EVENTS.MUTE_STATUS_TRIGGERED, !this._isMuted);\n  }\n\n  private _getVolumeLevelFromWheel(delta: number) {\n    const adjustedVolume = this._volume + delta / 10;\n    const validatedVolume = Math.min(100, Math.max(0, adjustedVolume));\n\n    this._changeVolumeStatus(validatedVolume);\n  }\n\n  private _getVolumeLevelFromInput(level: number) {\n    this._changeVolumeStatus(level);\n  }\n\n  private _changeVolumeStatus(level: number) {\n    this._changeVolumeLevel(level);\n    if (this._isMuted) {\n      this._toggleMuteStatus();\n    }\n  }\n\n  private _updateVolumeStatus() {\n    this.setVolumeLevel(this._engine.getVolume());\n    this.setMuteStatus(this._engine.getMute());\n  }\n\n  setVolumeLevel(level: number) {\n    if (level === this._volume) {\n      return;\n    }\n\n    this._volume = level;\n\n    this.view.setVolume(this._volume);\n    this.view.setMute(Boolean(!this._volume));\n  }\n\n  setMuteStatus(isMuted: boolean) {\n    if (isMuted === this._isMuted) {\n      return;\n    }\n\n    this._isMuted = isMuted;\n\n    this.view.setVolume(this._isMuted ? 0 : this._volume);\n    this.view.setMute(this._isMuted || Boolean(!this._volume));\n  }\n\n  hide() {\n    this.isHidden = true;\n    this.view.hide();\n  }\n\n  show() {\n    this.isHidden = false;\n    this.view.show();\n  }\n\n  destroy() {\n    this._destroyInterceptor();\n    this._unbindEvents();\n    this.view.destroy();\n    this.view = null;\n\n    this._eventEmitter = null;\n    this._engine = null;\n    this._textMap = null;\n  }\n}\n","export default {\r\n  fullScreenSvgFill: {\r\n    fill: (data: any) => data.color,\r\n  },\r\n};\r\n","import { TEXT_LABELS } from '../../../../constants';\n\nimport View from '../../core/view';\n\nimport {\n  controlTemplate,\n  enterFullScreenIconTemplate,\n  exitFullScreenIconTemplate,\n} from './templates';\n\nimport htmlToElement from '../../core/htmlToElement';\nimport getElementByHook from '../../core/getElementByHook';\n\nimport {\n  IFullScreenViewStyles,\n  IFullScreenViewCallbacks,\n  IFullScreenViewConfig,\n} from './types';\n\nimport fullScreenViewTheme from './full-screen.theme';\nimport styles from './full-screen.scss';\n\nconst DATA_IS_IN_FULL_SCREEN = 'data-is-in-full-screen';\n\nclass FullScreenView extends View<IFullScreenViewStyles>\n  implements Playable.IView<IFullScreenViewStyles> {\n  private _callbacks: IFullScreenViewCallbacks;\n  private _textMap: Playable.ITextMap;\n  private _tooltipReference: Playable.ITooltipReference;\n\n  private _$node: HTMLElement;\n  private _$toggleFullScreenControl: HTMLElement;\n\n  constructor(config: IFullScreenViewConfig) {\n    const { callbacks, textMap, tooltipService, theme } = config;\n\n    super(theme);\n\n    this._callbacks = callbacks;\n    this._textMap = textMap;\n\n    this._$node = htmlToElement(\n      controlTemplate({\n        styles: this.styleNames,\n        texts: {\n          label: this._textMap.get(TEXT_LABELS.ENTER_FULL_SCREEN_LABEL),\n        },\n      }),\n    );\n\n    this._$toggleFullScreenControl = getElementByHook(\n      this._$node,\n      'full-screen-button',\n    );\n\n    this._tooltipReference = tooltipService.createReference(\n      this._$toggleFullScreenControl,\n      {\n        text: this._textMap.get(TEXT_LABELS.ENTER_FULL_SCREEN_TOOLTIP),\n      },\n    );\n\n    this.setState({ isInFullScreen: false });\n    this._bindEvents();\n  }\n\n  private _bindEvents() {\n    this._onButtonClick = this._onButtonClick.bind(this);\n\n    this._$toggleFullScreenControl.addEventListener(\n      'click',\n      this._onButtonClick,\n    );\n  }\n\n  private _unbindEvents() {\n    this._$toggleFullScreenControl.removeEventListener(\n      'click',\n      this._onButtonClick,\n    );\n  }\n\n  private _onButtonClick() {\n    this._$toggleFullScreenControl.focus();\n    this._callbacks.onButtonClick();\n  }\n\n  setState({ isInFullScreen }: { isInFullScreen: boolean }) {\n    if (isInFullScreen) {\n      this._$toggleFullScreenControl.classList.add(\n        this.styleNames.inFullScreen,\n      );\n      this._$toggleFullScreenControl.innerHTML = exitFullScreenIconTemplate({\n        styles: this.styleNames,\n        themeStyles: this.themeStyles,\n      });\n      this._$toggleFullScreenControl.setAttribute(\n        'aria-label',\n        this._textMap.get(TEXT_LABELS.EXIT_FULL_SCREEN_LABEL),\n      );\n\n      this._tooltipReference.setText(\n        this._textMap.get(TEXT_LABELS.EXIT_FULL_SCREEN_TOOLTIP),\n      );\n    } else {\n      this._$toggleFullScreenControl.classList.remove(\n        this.styleNames.inFullScreen,\n      );\n      this._$toggleFullScreenControl.innerHTML = enterFullScreenIconTemplate({\n        styles: this.styleNames,\n        themeStyles: this.themeStyles,\n      });\n      this._$toggleFullScreenControl.setAttribute(\n        'aria-label',\n        this._textMap.get(TEXT_LABELS.ENTER_FULL_SCREEN_LABEL),\n      );\n\n      this._tooltipReference.setText(\n        this._textMap.get(TEXT_LABELS.ENTER_FULL_SCREEN_TOOLTIP),\n      );\n    }\n\n    this._$node.setAttribute(DATA_IS_IN_FULL_SCREEN, String(isInFullScreen));\n  }\n\n  hide() {\n    this._$node.classList.add(this.styleNames.hidden);\n  }\n\n  show() {\n    this._$node.classList.remove(this.styleNames.hidden);\n  }\n\n  getNode() {\n    return this._$node;\n  }\n\n  destroy() {\n    this._unbindEvents();\n    this._callbacks = null;\n\n    this._tooltipReference.destroy();\n    this._tooltipReference = null;\n\n    if (this._$node.parentNode) {\n      this._$node.parentNode.removeChild(this._$node);\n    }\n\n    this._$toggleFullScreenControl = null;\n    this._$node = null;\n\n    this._textMap = null;\n  }\n}\n\nFullScreenView.setTheme(fullScreenViewTheme);\nFullScreenView.extendStyleNames(styles);\n\nexport default FullScreenView;\n","import { UI_EVENTS } from '../../../../constants';\n\nimport KeyboardInterceptor, {\n  KEYCODES,\n} from '../../../../utils/keyboard-interceptor';\n\nimport View from './full-screen.view';\n\nimport { IEventEmitter } from '../../../event-emitter/types';\nimport { IFullScreenControl, IFullScreenViewConfig } from './types';\nimport { IFullScreenManager } from '../../../full-screen-manager/types';\n\nexport default class FullScreenControl implements IFullScreenControl {\n  static moduleName = 'fullScreenControl';\n  static View = View;\n  static dependencies = [\n    'eventEmitter',\n    'fullScreenManager',\n    'textMap',\n    'tooltipService',\n    'theme',\n  ];\n\n  private _eventEmitter: IEventEmitter;\n  private _fullScreenManager: IFullScreenManager;\n  private _textMap: Playable.ITextMap;\n  private _interceptor: KeyboardInterceptor;\n  private _tooltipService: Playable.ITooltipService;\n  private _theme: Playable.IThemeService;\n\n  private _isInFullScreen: boolean;\n\n  private _unbindEvents: Function;\n\n  view: View;\n  isHidden: boolean;\n\n  constructor({\n    eventEmitter,\n    fullScreenManager,\n    textMap,\n    tooltipService,\n    theme,\n  }: {\n    eventEmitter: IEventEmitter;\n    fullScreenManager: IFullScreenManager;\n    textMap: Playable.ITextMap;\n    tooltipService: Playable.ITooltipService;\n    theme: Playable.IThemeService;\n  }) {\n    this._eventEmitter = eventEmitter;\n    this._fullScreenManager = fullScreenManager;\n    this._textMap = textMap;\n    this._theme = theme;\n    this._tooltipService = tooltipService;\n\n    this._isInFullScreen = null;\n\n    this._bindCallbacks();\n\n    this._initUI();\n\n    this._bindEvents();\n\n    this.setControlStatus(false);\n\n    if (!this._fullScreenManager.isEnabled) {\n      this.hide();\n    }\n\n    this._initInterceptor();\n  }\n\n  get node() {\n    return this.view.getNode();\n  }\n\n  private _bindCallbacks() {\n    this._toggleFullScreen = this._toggleFullScreen.bind(this);\n  }\n\n  private _bindEvents() {\n    this._unbindEvents = this._eventEmitter.bindEvents(\n      [[UI_EVENTS.FULLSCREEN_STATUS_CHANGED, this.setControlStatus]],\n      this,\n    );\n  }\n\n  private _initUI() {\n    const config: IFullScreenViewConfig = {\n      callbacks: {\n        onButtonClick: this._toggleFullScreen,\n      },\n      textMap: this._textMap,\n      tooltipService: this._tooltipService,\n      theme: this._theme,\n    };\n\n    this.view = new FullScreenControl.View(config);\n  }\n\n  private _initInterceptor() {\n    this._interceptor = new KeyboardInterceptor(this.node, {\n      [KEYCODES.SPACE_BAR]: (e: Event) => {\n        e.stopPropagation();\n        this._eventEmitter.emit(UI_EVENTS.KEYBOARD_KEYDOWN_INTERCEPTED);\n      },\n      [KEYCODES.ENTER]: (e: Event) => {\n        e.stopPropagation();\n        this._eventEmitter.emit(UI_EVENTS.KEYBOARD_KEYDOWN_INTERCEPTED);\n      },\n    });\n  }\n\n  private _destroyInterceptor() {\n    this._interceptor.destroy();\n  }\n\n  private _toggleFullScreen() {\n    if (this._isInFullScreen) {\n      this._exitFullScreen();\n    } else {\n      this._enterFullScreen();\n    }\n  }\n\n  private _enterFullScreen() {\n    this._fullScreenManager.enterFullScreen();\n  }\n\n  private _exitFullScreen() {\n    this._fullScreenManager.exitFullScreen();\n  }\n\n  setControlStatus(isInFullScreen: boolean) {\n    this._isInFullScreen = isInFullScreen;\n    this.view.setState({ isInFullScreen: this._isInFullScreen });\n  }\n\n  hide() {\n    this.isHidden = true;\n    this.view.hide();\n  }\n\n  show() {\n    this.isHidden = false;\n    this.view.show();\n  }\n\n  destroy() {\n    this._destroyInterceptor();\n    this._unbindEvents();\n    this.view.destroy();\n    this.view = null;\n\n    this._eventEmitter = null;\n    this._fullScreenManager = null;\n    this._textMap = null;\n  }\n}\n","import { TEXT_LABELS } from '../../../../constants';\n\nimport View from '../../core/view';\nimport { ILogoViewStyles, ILogoViewCallbacks, ILogoViewConfig } from './types';\nimport { logoTemplate } from './templates';\n\nimport htmlToElement from '../../core/htmlToElement';\nimport getElementByHook from '../../core/getElementByHook';\n\nimport styles from './logo.scss';\n\nclass LogoView extends View<ILogoViewStyles>\n  implements Playable.IView<ILogoViewStyles> {\n  private _tooltipReference: Playable.ITooltipReference;\n  private _callbacks: ILogoViewCallbacks;\n  private _textMap: Playable.ITextMap;\n\n  private _$node: HTMLElement;\n  private _$logo: HTMLElement;\n  private _$placeholder: HTMLElement;\n\n  constructor(config: ILogoViewConfig) {\n    super();\n    const { callbacks, textMap, tooltipService } = config;\n\n    this._callbacks = callbacks;\n    this._textMap = textMap;\n\n    this._$node = htmlToElement(\n      logoTemplate({\n        styles: this.styleNames,\n        texts: {\n          label: this._textMap.get(TEXT_LABELS.LOGO_LABEL),\n        },\n      }),\n    );\n\n    this._$logo = getElementByHook(this._$node, 'company-logo');\n    this._$placeholder = getElementByHook(this._$node, 'logo-placeholder');\n\n    this._tooltipReference = tooltipService.createReference(this._$node, {\n      text: this._textMap.get(TEXT_LABELS.LOGO_TOOLTIP),\n    });\n\n    this.setLogo(config.logo);\n\n    this._bindCallbacks();\n    this._bindEvents();\n  }\n\n  setLogo(url: string) {\n    if (url) {\n      this._$logo.classList.remove(this.styleNames.hidden);\n      this._$placeholder.classList.add(this.styleNames.hidden);\n      this._$logo.setAttribute('src', url);\n    } else {\n      this._$logo.classList.add(this.styleNames.hidden);\n      this._$placeholder.classList.remove(this.styleNames.hidden);\n      this._$logo.removeAttribute('src');\n    }\n  }\n\n  setDisplayAsLink(flag: boolean) {\n    if (flag) {\n      this._$node.classList.add(this.styleNames.link);\n      this._tooltipReference.enable();\n    } else {\n      this._$node.classList.remove(this.styleNames.link);\n      this._tooltipReference.disable();\n    }\n  }\n\n  private _bindCallbacks() {\n    this._onNodeClick = this._onNodeClick.bind(this);\n  }\n\n  private _bindEvents() {\n    this._$node.addEventListener('click', this._onNodeClick);\n  }\n\n  private _unbindEvents() {\n    this._$node.removeEventListener('click', this._onNodeClick);\n  }\n\n  private _onNodeClick() {\n    this._$node.focus();\n    this._callbacks.onLogoClick();\n  }\n\n  show() {\n    this._$node.classList.remove(this.styleNames.hidden);\n  }\n\n  hide() {\n    this._$node.classList.remove(this.styleNames.hidden);\n  }\n\n  getNode() {\n    return this._$node;\n  }\n\n  destroy() {\n    this._unbindEvents();\n    this._callbacks = null;\n\n    this._tooltipReference.destroy();\n    this._tooltipReference = null;\n\n    if (this._$node.parentNode) {\n      this._$node.parentNode.removeChild(this._$node);\n    }\n\n    this._$node = null;\n    this._$logo = null;\n    this._$placeholder = null;\n\n    this._tooltipReference = null;\n    this._textMap = null;\n  }\n}\n\nLogoView.extendStyleNames(styles);\n\nexport default LogoView;\n","import playerAPI from '../../../../core/player-api-decorator';\n\nimport KeyboardInterceptor, {\n  KEYCODES,\n} from '../../../../utils/keyboard-interceptor';\n\nimport { UI_EVENTS } from '../../../../constants';\nimport View from './logo.view';\n\nimport { IEventEmitter } from '../../../event-emitter/types';\nimport { ILogoControl, ILogoViewConfig } from './types';\nimport { IPlayerConfig } from '../../../../core/config';\n\nexport default class Logo implements ILogoControl {\n  static moduleName = 'logo';\n  static View = View;\n  static dependencies = ['config', 'eventEmitter', 'textMap', 'tooltipService'];\n\n  private _eventEmitter: IEventEmitter;\n  private _textMap: Playable.ITextMap;\n  private _tooltipService: Playable.ITooltipService;\n\n  private _interceptor: KeyboardInterceptor;\n  private _callback: Function;\n\n  view: View;\n  isHidden: boolean;\n\n  constructor({\n    eventEmitter,\n    config,\n    textMap,\n    tooltipService,\n  }: {\n    eventEmitter: IEventEmitter;\n    config: IPlayerConfig;\n    textMap: Playable.ITextMap;\n    tooltipService: Playable.ITooltipService;\n  }) {\n    this._eventEmitter = eventEmitter;\n    this._textMap = textMap;\n    this._tooltipService = tooltipService;\n\n    this._bindCallbacks();\n\n    this._initUI();\n    this._initInterceptor();\n\n    const logoConfig = {\n      ...(typeof config.logo === 'object' ? config.logo : {}),\n    };\n\n    this.setLogo(logoConfig.src);\n    this.setLogoClickCallback(logoConfig.callback);\n  }\n\n  get node() {\n    return this.view.getNode();\n  }\n\n  private _bindCallbacks() {\n    this._triggerCallback = this._triggerCallback.bind(this);\n  }\n\n  private _initUI() {\n    const config: ILogoViewConfig = {\n      callbacks: {\n        onLogoClick: this._triggerCallback,\n      },\n      textMap: this._textMap,\n      tooltipService: this._tooltipService,\n    };\n\n    this.view = new Logo.View(config);\n  }\n\n  private _initInterceptor() {\n    this._interceptor = new KeyboardInterceptor(this.node, {\n      [KEYCODES.SPACE_BAR]: e => {\n        e.stopPropagation();\n        this._eventEmitter.emit(UI_EVENTS.KEYBOARD_KEYDOWN_INTERCEPTED);\n        this._triggerCallback();\n      },\n      [KEYCODES.ENTER]: e => {\n        e.stopPropagation();\n        this._eventEmitter.emit(UI_EVENTS.KEYBOARD_KEYDOWN_INTERCEPTED);\n        this._triggerCallback();\n      },\n    });\n  }\n\n  private _destroyInterceptor() {\n    this._interceptor.destroy();\n  }\n\n  private _triggerCallback() {\n    if (this._callback) {\n      this._callback();\n    }\n  }\n\n  /**\n   * Method for setting source of image, that would be used as logo\n   * @param src - Source of logo\n   * @example\n   * player.setLogo('https://example.com/logo.png');\n   *\n   */\n  @playerAPI()\n  setLogo(src: string) {\n    this.view.setLogo(src);\n  }\n\n  /**\n   * Method for attaching callback for click on logo\n   *\n   * @param callback - Your function\n   *\n   * @example\n   * const callback = () => {\n   *   console.log('Click on title);\n   * }\n   * player.setLogoClickCallback(callback);\n   *\n   */\n  @playerAPI()\n  setLogoClickCallback(callback?: Function) {\n    this._callback = callback;\n    this.view.setDisplayAsLink(Boolean(this._callback));\n  }\n\n  hide() {\n    this.isHidden = true;\n    this.view.hide();\n  }\n\n  show() {\n    this.isHidden = false;\n    this.view.show();\n  }\n\n  destroy() {\n    this._destroyInterceptor();\n    this.view.destroy();\n    this.view = null;\n\n    this._eventEmitter = null;\n    this._textMap = null;\n  }\n}\n","import DependencyContainer from './dependency-container';\r\n\r\nimport RootContainer from '../modules/root-container/root-container';\r\nimport EventEmitter from '../modules/event-emitter/event-emitter';\r\nimport Engine from '../modules/playback-engine/playback-engine';\r\nimport ThemeService from '../modules/ui/core/theme';\r\nimport TextMap from '../modules/text-map/text-map';\r\n\r\nimport FullScreenManager from '../modules/full-screen-manager/full-screen-manager';\r\n\r\nimport LiveStateEngine from '../modules/playback-engine/live-state-engine';\r\nimport KeyboardControls from '../modules/keyboard-control/keyboard-control';\r\nimport DebugPanel from '../modules/ui/debug-panel/debug-panel';\r\n\r\nimport Screen from '../modules/ui/screen/screen';\r\nimport InteractionIndicator from '../modules/ui/interaction-indicator/interaction-indicator';\r\n\r\nimport Overlay from '../modules/ui/overlay/overlay';\r\nimport Loader from '../modules/ui/loader/loader';\r\n\r\nimport MainUIBlock from '../modules/ui/main-ui-block/main-ui-block';\r\nimport TopBlock from '../modules/ui/top-block/top-block';\r\nimport Title from '../modules/ui/title/title';\r\nimport LiveIndicator from '../modules/ui/live-indicator/live-indicator';\r\n\r\nimport BottomBlock from '../modules/ui/bottom-block/bottom-block';\r\nimport ProgressControl from '../modules/ui/controls/progress/progress';\r\nimport PlayControl from '../modules/ui/controls/play/play';\r\nimport TimeControl from '../modules/ui/controls/time/time';\r\nimport VolumeControl from '../modules/ui/controls/volume/volume';\r\nimport FullScreenControl from '../modules/ui/controls/full-screen/full-screen';\r\nimport Logo from '../modules/ui/controls/logo/logo';\r\n\r\nimport { TooltipService } from '../modules/ui/core/tooltip';\r\n\r\nconst { asClass } = DependencyContainer;\r\n\r\nexport const modules: { [id: string]: any } = {\r\n  RootContainer,\r\n  EventEmitter,\r\n  Engine,\r\n  ThemeService,\r\n  TextMap,\r\n\r\n  FullScreenManager,\r\n\r\n  LiveStateEngine,\r\n  KeyboardControls,\r\n  DebugPanel,\r\n\r\n  Screen,\r\n  InteractionIndicator,\r\n\r\n  Overlay,\r\n  Loader,\r\n\r\n  MainUIBlock,\r\n\r\n  TopBlock,\r\n  LiveIndicator,\r\n  Title,\r\n\r\n  BottomBlock,\r\n  ProgressControl,\r\n  PlayControl,\r\n  TimeControl,\r\n  VolumeControl,\r\n  FullScreenControl,\r\n  Logo,\r\n\r\n  TooltipService,\r\n};\r\n\r\nconst DIModules: { [id: string]: any } = Object.keys(modules).reduce(\r\n  (DIModules: { [id: string]: any }, key: string) => {\r\n    const module = modules[key] as any;\r\n    if (!module.moduleName) {\r\n      throw new Error(`No moduleName in module: ${key}`);\r\n    }\r\n\r\n    DIModules[module.moduleName] = asClass(module).scoped();\r\n    return DIModules;\r\n  },\r\n  {},\r\n);\r\n\r\nexport default DIModules;\r\n","/**\r\n * `true` if we are running inside a web browser, `false` otherwise (e.g. running inside Node.js).\r\n */\r\nexport const isBrowser = typeof window !== 'undefined';\r\n\r\n/**\r\n * This is a map which lists native support of formats and APIs.\r\n * It gets filled during runtime with the relevant values to the current environment.\r\n */\r\nexport const NativeEnvironmentSupport: { [format: string]: boolean } = {\r\n  MSE: false,\r\n  HLS: false,\r\n  DASH: false,\r\n  MP4: false,\r\n  WEBM: false,\r\n  OGG: false,\r\n  MOV: false,\r\n  MKV: false,\r\n};\r\n\r\n/* ignore coverage */\r\nfunction detectEnvironment() {\r\n  if (!isBrowser) {\r\n    return; // Not in a browser\r\n  }\r\n  NativeEnvironmentSupport.MSE =\r\n    'WebKitMediaSource' in window || 'MediaSource' in window;\r\n  const video = document.createElement('video');\r\n  if (typeof video.canPlayType !== 'function') {\r\n    return; // env doesn't support HTMLMediaElement (e.g PhantomJS)\r\n  }\r\n  if (\r\n    video.canPlayType('application/x-mpegURL') ||\r\n    video.canPlayType('application/vnd.apple.mpegURL')\r\n  ) {\r\n    NativeEnvironmentSupport.HLS = true;\r\n  }\r\n  if (video.canPlayType('application/dash+xml')) {\r\n    NativeEnvironmentSupport.DASH = true;\r\n  }\r\n  if (video.canPlayType('video/mp4')) {\r\n    NativeEnvironmentSupport.MP4 = true;\r\n  }\r\n  if (video.canPlayType('video/webm')) {\r\n    NativeEnvironmentSupport.WEBM = true;\r\n  }\r\n  if (video.canPlayType('video/ogg')) {\r\n    NativeEnvironmentSupport.OGG = true;\r\n  }\r\n  if (video.canPlayType('video/quicktime')) {\r\n    NativeEnvironmentSupport.MOV = true;\r\n  }\r\n  if (video.canPlayType('video/x-matroska')) {\r\n    NativeEnvironmentSupport.MKV = true;\r\n  }\r\n}\r\n\r\ndetectEnvironment(); // Run once\r\n","import { VIDEO_EVENTS, ERRORS } from '../../../constants';\r\n\r\nimport {\r\n  geOverallBufferLength,\r\n  getNearestBufferSegmentInfo,\r\n} from '../../../utils/video-data';\r\nimport { NativeEnvironmentSupport } from '../../../utils/environment-detection';\r\nimport { IPlaybackAdapter } from './types';\r\nimport { IEventEmitter } from '../../event-emitter/types';\r\n\r\nconst NATIVE_ERROR_CODES = {\r\n  ABORTED: 1,\r\n  NETWORK: 2,\r\n  DECODE: 3,\r\n  SRC_NOT_SUPPORTED: 4,\r\n};\r\n\r\nimport {\r\n  MediaStreamTypes,\r\n  MediaStreamDeliveryPriority,\r\n} from '../../../constants';\r\n\r\nexport default function getNativeAdapterCreator(\r\n  streamType: MediaStreamTypes,\r\n  deliveryPriority: MediaStreamDeliveryPriority,\r\n) {\r\n  class NativeAdapter implements IPlaybackAdapter {\r\n    static isSupported(): boolean {\r\n      return NativeEnvironmentSupport[streamType];\r\n    }\r\n\r\n    private mediaStreams: any;\r\n    private eventEmitter: IEventEmitter;\r\n    private currentLevel: number;\r\n    private videoElement: HTMLVideoElement;\r\n\r\n    constructor(eventEmitter: IEventEmitter) {\r\n      this.mediaStreams = null;\r\n      this.eventEmitter = eventEmitter;\r\n      this.currentLevel = 0;\r\n\r\n      this._bindCallbacks();\r\n    }\r\n\r\n    get currentUrl() {\r\n      return this.mediaStreams[this.currentLevel].url;\r\n    }\r\n    //@ts-ignore\r\n    get syncWithLiveTime() {\r\n      // TODO: implement syncWithLiveTime for `native`\r\n      return undefined;\r\n    }\r\n\r\n    get isDynamicContent() {\r\n      return !isFinite(this.videoElement.duration);\r\n    }\r\n\r\n    get isDynamicContentEnded() {\r\n      // TODO: implement isDynamicContentEnded\r\n      return false;\r\n    }\r\n\r\n    get isSyncWithLive() {\r\n      // TODO: implement isSyncWithLive for `native`\r\n      return false;\r\n    }\r\n\r\n    get isSeekAvailable() {\r\n      return true;\r\n      //Need to find better solution\r\n      /*\r\n      if (this.isDynamicContent) {\r\n        return false;\r\n      }\r\n\r\n      return Boolean(this.videoElement.seekable.length);\r\n      */\r\n    }\r\n\r\n    get mediaStreamDeliveryPriority() {\r\n      return deliveryPriority;\r\n    }\r\n\r\n    get mediaStreamType() {\r\n      return streamType;\r\n    }\r\n\r\n    get debugInfo() {\r\n      if (this.videoElement) {\r\n        const { buffered, currentTime } = this.videoElement;\r\n\r\n        const overallBufferLength = geOverallBufferLength(buffered);\r\n        const nearestBufferSegInfo = getNearestBufferSegmentInfo(\r\n          buffered,\r\n          currentTime,\r\n        );\r\n\r\n        return {\r\n          ...this.mediaStreams[0],\r\n          deliveryPriority: this.mediaStreamDeliveryPriority,\r\n          overallBufferLength,\r\n          nearestBufferSegInfo,\r\n        };\r\n      }\r\n\r\n      return {};\r\n    }\r\n\r\n    private _bindCallbacks() {\r\n      this._broadcastError = this._broadcastError.bind(this);\r\n    }\r\n\r\n    canPlay(mediaType: MediaStreamTypes) {\r\n      return mediaType === streamType;\r\n    }\r\n\r\n    setMediaStreams(mediaStreams: any) {\r\n      this.mediaStreams = mediaStreams;\r\n    }\r\n\r\n    private _logError(error: string, errorEvent: MediaError) {\r\n      this.eventEmitter.emit(VIDEO_EVENTS.ERROR, {\r\n        errorType: error,\r\n        streamType,\r\n        streamProvider: 'native',\r\n        errorInstance: errorEvent,\r\n      });\r\n    }\r\n\r\n    private _broadcastError() {\r\n      const error = this.videoElement.error;\r\n      if (!error) {\r\n        this._logError(ERRORS.UNKNOWN, null);\r\n        return;\r\n      }\r\n\r\n      switch (error.code) {\r\n        case NATIVE_ERROR_CODES.ABORTED:\r\n          //No need for broadcasting\r\n\r\n          break;\r\n        case NATIVE_ERROR_CODES.NETWORK:\r\n          this._logError(ERRORS.CONTENT_LOAD, error);\r\n          break;\r\n        case NATIVE_ERROR_CODES.DECODE:\r\n          this._logError(ERRORS.MEDIA, error);\r\n          break;\r\n        case NATIVE_ERROR_CODES.SRC_NOT_SUPPORTED:\r\n          /*\r\n            Our url checks would not allow not supported formats, so only case would be\r\n             when video tag couldn't retriev any info from endpoit\r\n          */\r\n\r\n          this._logError(ERRORS.CONTENT_LOAD, error);\r\n\r\n          break;\r\n        default:\r\n          this._logError(ERRORS.UNKNOWN, error);\r\n          break;\r\n      }\r\n    }\r\n\r\n    attach(videoElement: HTMLVideoElement) {\r\n      this.videoElement = videoElement;\r\n      this.videoElement.addEventListener('error', this._broadcastError);\r\n      this.videoElement.src = this.mediaStreams[this.currentLevel].url;\r\n    }\r\n\r\n    detach() {\r\n      this.videoElement.removeEventListener('error', this._broadcastError);\r\n      this.videoElement.removeAttribute('src');\r\n      this.videoElement = null;\r\n    }\r\n  }\r\n\r\n  return NativeAdapter;\r\n}\r\n","import getNativeAdapterCreator from './native';\r\n\r\nimport {\r\n  MediaStreamTypes,\r\n  MediaStreamDeliveryPriority,\r\n} from '../../../constants';\r\n\r\nconst defaultPlaybackAdapters = [\r\n  getNativeAdapterCreator(\r\n    MediaStreamTypes.DASH,\r\n    MediaStreamDeliveryPriority.NATIVE_ADAPTIVE,\r\n  ),\r\n  getNativeAdapterCreator(\r\n    MediaStreamTypes.HLS,\r\n    MediaStreamDeliveryPriority.NATIVE_ADAPTIVE,\r\n  ),\r\n  getNativeAdapterCreator(\r\n    MediaStreamTypes.MP4,\r\n    MediaStreamDeliveryPriority.NATIVE_PROGRESSIVE,\r\n  ),\r\n  getNativeAdapterCreator(\r\n    MediaStreamTypes.WEBM,\r\n    MediaStreamDeliveryPriority.NATIVE_PROGRESSIVE,\r\n  ), // Native WebM (Chrome, Firefox)\r\n  getNativeAdapterCreator(\r\n    MediaStreamTypes.OGG,\r\n    MediaStreamDeliveryPriority.NATIVE_PROGRESSIVE,\r\n  ), // Native WebM (Chrome, Firefox)\r\n  getNativeAdapterCreator(\r\n    MediaStreamTypes.MOV,\r\n    MediaStreamDeliveryPriority.NATIVE_PROGRESSIVE,\r\n  ), // Native QuickTime .mov (Safari)\r\n  getNativeAdapterCreator(\r\n    MediaStreamTypes.MKV,\r\n    MediaStreamDeliveryPriority.NATIVE_PROGRESSIVE,\r\n  ),\r\n];\r\n\r\nexport default defaultPlaybackAdapters;\r\n","import DependencyContainer from './dependency-container';\nimport PlayerFacade from './player-facade';\n\nimport defaultModules from './default-modules';\nimport defaultPlaybackAdapters from '../modules/playback-engine/adapters/default-set';\n\nimport { IPlayerConfig } from './config';\n\nlet additionalModules: { [id: string]: any } = {};\nlet playbackAdapters: any[] = [...defaultPlaybackAdapters];\n\nexport const container = DependencyContainer.createContainer();\ncontainer.register(defaultModules);\nconst defaultModulesNames = Object.keys(defaultModules);\n\nexport function registerModule(id: string, module: any) {\n  additionalModules[id] = module;\n}\n\nexport function registerPlaybackAdapter(adapter: any) {\n  playbackAdapters.push(adapter);\n}\n\nexport function clearAdditionalModules() {\n  additionalModules = {};\n}\n\nexport function clearPlaybackAdapters() {\n  playbackAdapters = [...defaultPlaybackAdapters];\n}\n\nexport function create(\n  params: IPlayerConfig = {},\n  themeConfig?: Playable.IThemeConfig,\n) {\n  const scope = container.createScope();\n\n  const additionalModuleNames = Object.keys(additionalModules);\n\n  if (additionalModuleNames.length) {\n    additionalModuleNames.forEach(moduleName =>\n      scope.registerClass(moduleName, additionalModules[moduleName], {\n        lifetime: DependencyContainer.Lifetime.Scoped,\n      }),\n    );\n  }\n\n  scope.registerValue('availablePlaybackAdapters', playbackAdapters);\n\n  return new PlayerFacade(\n    params,\n    scope,\n    defaultModulesNames,\n    additionalModuleNames,\n    themeConfig,\n  );\n}\n","import * as playerFactoryMethods from './core/player-factory';\r\nimport { modules as DefaultModules } from './core/default-modules';\r\nimport playerAPIDecorator from './core/player-api-decorator';\r\nimport {\r\n  ERRORS,\r\n  UI_EVENTS,\r\n  VIDEO_EVENTS,\r\n  TEXT_LABELS,\r\n  MediaStreamTypes as MEDIA_STREAM_TYPES,\r\n  MediaStreamDeliveryPriority as MEDIA_STREAM_DELIVERY_PRIORITY,\r\n  EngineState as ENGINE_STATES,\r\n  LiveState as LIVE_STATES,\r\n} from './constants';\r\nimport { Tooltip } from './modules/ui/core/tooltip';\r\nimport { IPlaybackAdapter } from './modules/playback-engine/adapters/types';\r\nimport { VideoViewMode as VIDEO_VIEW_MODES } from './modules/ui/screen/types';\r\n\r\nexport {\r\n  ERRORS,\r\n  UI_EVENTS,\r\n  VIDEO_EVENTS,\r\n  TEXT_LABELS,\r\n  MEDIA_STREAM_TYPES,\r\n  MEDIA_STREAM_DELIVERY_PRIORITY,\r\n  ENGINE_STATES,\r\n  LIVE_STATES,\r\n  VIDEO_VIEW_MODES,\r\n  Tooltip,\r\n  playerAPIDecorator,\r\n  DefaultModules,\r\n  IPlaybackAdapter,\r\n};\r\n\r\nexport * from './core/player-factory';\r\n\r\nexport default {\r\n  ...playerFactoryMethods,\r\n  UI_EVENTS,\r\n  VIDEO_EVENTS,\r\n  TEXT_LABELS,\r\n  MEDIA_STREAM_TYPES,\r\n  MEDIA_STREAM_DELIVERY_PRIORITY,\r\n  ENGINE_STATES,\r\n  LIVE_STATES,\r\n  VIDEO_VIEW_MODES,\r\n  Tooltip,\r\n  playerAPIDecorator,\r\n  DefaultModules,\r\n};\r\n"],"names":["tslib_1.__extends","Lifetime","registrations","MediaStreamTypes","MediaStreamDeliveryPriority","commonjsHelpers.createCommonjsModule","containerTemplate","View","ResizeObserver","tslib_1.__decorate","EventEmitter","EngineState","ERRORS","AdapterStrategy","DEFAULT_TEXTS","DEFAULT_CONFIG","LiveState","KeyboardInterceptor","debugPanelTemplate","styles","VideoViewMode","screenTemplate","playIconTemplate","pauseIconTemplate","forwardIconTemplate","rewindIconTemplate","increaseVolumeIconTemplate","decreaseVolumeIconTemplate","muteIconTemplate","overlayTemplate","loaderTemplate","mainUIBlockTemplate","topBlockTemplate","titleTemplate","liveIndicatorTemplate","bottomBlockTemplate","tooltipTemplate","tooltipContainerTemplate","progressTemplate","progressTimeIndicatorTemplate","controlTemplate","timeTemplate","UPDATE_INTERVAL_DELAY","getPercentBasedOnXPosition","volume100IconTemplate","volume50IconTemplate","volume0IconTemplate","exitFullScreenIconTemplate","enterFullScreenIconTemplate","logoTemplate","asClass","isBrowser","defaultModules","PlayerFacade"],"mappings":"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"}